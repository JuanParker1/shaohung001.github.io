<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title>aKer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
    <meta name="google-site-verification" content="4ibqBFKTH9pzNJzZlbE3r1AaiwTFg4sNw9KZ5oQL9c4">
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="aKer">
<meta property="og:url" content="https://shaohung001.github.io/page/9/index.html">
<meta property="og:site_name" content="aKer">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="aKer">
  
    <link rel="alternate" href="/atom.xml" title="aKer" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  
    <link rel="stylesheet" href="/css/vdonate.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-7054334687711145",
          enable_page_level_ads: true
      });
  </script>
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/archives"] = "Archives"; 

  themeMenus["/categories"] = "Categories"; 

  themeMenus["/tags"] = "Tags"; 

  themeMenus["/about"] = "About"; 

</script>


  <body>


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="aKer" rel="home"> aKer </a>
            
          </h1>

          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/tags">Tags</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt src>
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "css/images/pose.jpg,https://source.unsplash.com/collection/954550/1920x1080".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">

      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-2018-9-16lesson-md" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/09/16/2018-9-16lesson-md/">2018-9-16lesson.md</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2018/09/16/2018-9-16lesson-md/" class="article-date">
	  <time datetime="2018-09-16T04:20:03.000Z" itemprop="datePublished">September 16, 2018</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="2018-8-27"><a href="#2018-8-27" class="headerlink" title="2018/8/27"></a>2018/8/27</h2><p>typedef CF_ENUM(uint32_t, CGImageAlphaInfo) {</p>
<pre><code>kCGImageAlphaNone,               /* For example, RGB. */

kCGImageAlphaPremultipliedLast,  /* For example, premultiplied RGBA */

kCGImageAlphaPremultipliedFirst, /* For example, premultiplied ARGB */

kCGImageAlphaLast,               /* For example, non-premultiplied RGBA */

kCGImageAlphaFirst,              /* For example, non-premultiplied ARGB */

kCGImageAlphaNoneSkipLast,       /* For example, RBGX. */

kCGImageAlphaNoneSkipFirst,      /* For example, XRGB. */

kCGImageAlphaOnly                /* No color data, alpha data only */
</code></pre><p>};</p>
<h2 id="重写OpenGL-纹理篇出错原因"><a href="#重写OpenGL-纹理篇出错原因" class="headerlink" title="重写OpenGL 纹理篇出错原因"></a>重写OpenGL 纹理篇出错原因</h2><ol>
<li>glDrawxx 函数是必要的，把东西呈现上去的</li>
<li>纹理贴上去，很糊（<code>glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);</code>可以解决纹理模糊问题），有颗粒点，不晓得为啥。</li>
<li>纹理的图片索引定点，没有完全弄懂。</li>
</ol>
<p>###<br>离开“粉粉”二个月了，来谈谈周身变化。</p>
<ol>
<li>找了个离得比较近的公司，上下班骑车更快到啦。</li>
<li>早上9点出发上班。路上买包子，一路吃过去，吃饭正常后，精神状态等都好多了，记忆力现在强多了。</li>
<li>晚上相对回住所吃饭就早多了。太舒服了好吧。终于不用吃完饭，一看，哦，10点半了。写东西的么得了，现在吃完饭，楼下逛一圈还能有时间写、学东西。棒！</li>
<li>空闲时间增加，不会那么那么那么的忙累、紧迫。因为“粉粉”给一个功能都是临界时间，然后拼命写，发现中间有逻辑漏洞，或者涉及其他，于是其实相对的给的时间是一个完整开发时间的70%。根本不够，严重不够！<br>也由于空闲时间多了，我把OpenGL 终于入门了。小公司同时由于没有产品定位等，目前去做游戏去了，iOS 放一旁。不要太好，我就喜欢学新的东西。哈哈</li>
<li>周末都是双休了，学知识、去办事情、不亦乐乎啊。</li>
<li>以前是工作压力大，现在是赚钱压力大，想方法自己赚钱的压力。所以，出了“粉粉”，心里开心。已经没有太多要问的，在里面该学的也拼命学够了。<br>开森！</li>
</ol>
<h3 id="pod-install-失败"><a href="#pod-install-失败" class="headerlink" title="pod install 失败"></a>pod install 失败</h3><p>弹出#-bash: /usr/local/bin/pod: /usr/local/opt/ruby/bin/ruby: bad interpreter: No such file or directory#<br>查到<a href="https://www.jianshu.com/p/e4a70c40bfea" target="_blank" rel="noopener">https://www.jianshu.com/p/e4a70c40bfea</a><br>先尝试<br><code>$ brew link --overwrite cocoapods</code><br>我这里提示#Error: No such keg: /usr/local/Cellar/cocoapods#</p>
<p>于是直接执行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">brew reinstall cocoapods</span><br><span class="line"></span><br><span class="line">brew install ruby</span><br><span class="line"></span><br><span class="line">brew link --overwrite cocoapods</span><br><span class="line">``` </span><br><span class="line">完美解决问题</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 价值</span><br><span class="line">之前一直在想，什么能保值？</span><br><span class="line">什么才是有价值的？</span><br><span class="line">RMB？美元？黄金？车子、房子、实物、食物？</span><br><span class="line">RMB 会贬值，如果货币超发，政府和人民抢钱，最后就会和津巴布韦币一样；反正RMB 价值话语权不在自己手上，我不认同；</span><br><span class="line">中国那么多富二代、官二代，一个个拽得一批，我想，我要比王思聪有钱，我说话能“喷喷喷”他一脸、“滋滋滋”格力一姐一脸。有什么好嘚瑟的，最多不赚你钱，凶个奶子。</span><br><span class="line">不跟他们一般见识，百年人生而已，活好自己的，不用比较。他们会斥责下属，说明很看重身份、排名、地位、权力。自己有余粮，活得潇洒，心是红的，眼睛黑的，何必跟这些眼睛变红了，心就变黑了的人计较，继续。</span><br><span class="line">美元？同样，美国也想抢其他国家的钱。货币只是一种等值替换，跟RMB 好那么一丢丢，毕竟他相对信誉体系稳定；</span><br><span class="line">但是，货币不如实物，毕竟人这一生就只有短短百年，如果是“龙哥”这类就更要珍惜，活在社会只有短短10数年，其他都在监狱度过，然后就躺下了。</span><br><span class="line">所以，让自己这一生过的舒坦，那就实物：有车有房、有实物、有食物。我觉得我会那么知足点。</span><br><span class="line">但是，有没有更好的，实物等都是会消耗的，没有前景，所以也不是我想探讨的，我这里直接给出答案：</span><br><span class="line">女人、技术。</span><br><span class="line">就是这两个玩意s，复数。</span><br><span class="line">集合多几个女人，多个技术，持续不断赚钱，才是能保值的。</span><br><span class="line">人多，力量大，自己女人，还有什么不可信任（不过女人多几个后，信任度肯定会降低，毕竟是女人这种生物，爱的不均与，不患寡而患不均嘛）。</span><br><span class="line">技术去学习，各种学习，不必全都创新、研发，只需将他人技术学会，和自己的技能点融合，运用，产出。</span><br><span class="line"></span><br><span class="line">最近也一直感受到，其实技术赚钱，这事是可以做到的，但是要持续耕耘，不断推陈出新。反正只要你在领域付出、思考，就能有收获（不要钻牛角尖，大家不是傻子）。</span><br><span class="line">所以接下来大家懂了吧，什么才是将财富聚集、保存实力的方法了吧：多聚集信任之人（最好是女人，毕竟女人好玩嘛），然后深入技术，去运用，去产出。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Cannot find module &apos;webpack&apos;</span><br><span class="line">在安装完webpack 之后，出现标题提示，使用`npm link webpack`</span><br><span class="line"></span><br><span class="line">## glTexParameteri方法说明</span><br><span class="line"></span><br><span class="line">设置纹理循环模式、设置纹理过滤模式</span><br><span class="line"></span><br><span class="line">https://blog.csdn.net/d04421024/article/details/5089641</span><br><span class="line"></span><br><span class="line">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLEAMP);</span><br><span class="line">GLTEXTURE_2D:操作2D 纹理；GL_TEXTURE_WRAP_S:S方向上的贴图模式;GL_CLAMP:将纹理坐标限制在0.0~1.0范围内，超过作拉伸填充</span><br><span class="line"></span><br><span class="line">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP);</span><br><span class="line"></span><br><span class="line">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span><br><span class="line">GL_TEXTURE_MAG_FILTER:放大过滤；GL_LINEAR：线性过滤，使用距离当前渲染像素中心最近的4个像素加权平均值；</span><br><span class="line"></span><br><span class="line">glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_NEAREST);</span><br><span class="line">GL_TEXTURE_MIN_FILTER:缩小过滤；GL_LINEAR_MIPMAP_NEAREST：使用GL_NEAREST 对最接近当前多边形的解析度的两个层级贴图进行采样，然后用这两个值进行线性插值。</span><br><span class="line"></span><br><span class="line">## glTexImage2D</span><br><span class="line"></span><br><span class="line">加载图像数据并上传纹理</span><br><span class="line"></span><br><span class="line">https://blog.csdn.net/jeffasd/article/details/78135588</span><br><span class="line"></span><br><span class="line">glTexImage2D(GLenum target, GLint level, GLint internalformat, GLsizei width, GLsizei height, GLint border, GLenum format, GLenum type, const GLvoid *pixels)</span><br><span class="line"></span><br><span class="line">target: 指定活动纹理单元的目标纹理。GL_TEXTURE_2D, GL_TEXTURE_CUBE_MAP_POSITIVE_X, GL_TEXTURE_CUBE_MAP_NEGATIVE_X, GL_TEXTURE_CUBE_MAP_POSITIVE_, GL_TEXTURE_CUBE_MAP_NEGATIVE_Y, GL_TEXTURE_CUBE_MAP_POSITIVE_Z, 或GL_TEXTURE_CUBE_MAP_NEGATIVE_Z。</span><br><span class="line"></span><br><span class="line">level: 指定详细程度编号。级别0是基本图像级别。级别n是第n个缩略图缩小图像。</span><br><span class="line"></span><br><span class="line">internalformat: 指定纹理的内部格式。必须是下列符号常量之一：GL_ALPHA, GL_LUMINANCE, GL_LUMINANCE_ALPHA, GL_RGB, GL_RGBA.</span><br><span class="line"></span><br><span class="line">width, height</span><br><span class="line"></span><br><span class="line">border: 指定边框宽度。必须为0.</span><br><span class="line"></span><br><span class="line">format: 指定纹理数据格式。必须匹配internalformat。 下面符号被接受: GL_ALPHA, GL_RGB, GL_RGBZ, GL_LUMINANCE, GL_LUMINANCE_ALPHA.</span><br><span class="line"></span><br><span class="line">type: 指定纹理数据的数据类型。下面的符号值被接受: GL_UNSIGNED_BYTE, GL_UNSIGNED_SHORT_5_6_5, GL_UNSIGNED_SHORT_4_4_4_4, GL_UNSIGNED_SHORT_5_5_5_1.</span><br><span class="line"></span><br><span class="line">data: 指向内存中图像数据的指针。</span><br><span class="line"></span><br><span class="line">## glActiveTexture(GLenum texUnit)</span><br><span class="line"></span><br><span class="line">https://www.douban.com/note/627332677/</span><br><span class="line"></span><br><span class="line">该函数选择一个纹理单元，线面的纹理函数将作用于该纹理单元上，参数为符号常量GL_TEXTUREi.</span><br><span class="line">Active 应该理解为选择(Select)某纹理单元(Texture Unit)，即表示后续的glEnable(GL_TEXTURE_2D) 和glBindTexture(GL_TEXTURE_2D, texture)作用域此所选的纹理单元。</span><br></pre></td></tr></table></figure></p>
<p>void glActiveTexture(GLenum textureUnit) {<br>    currentTextureUnit = textureUnit - GL_TEXTURE0;<br>}</p>
<p>void glBindTexture(GLenum textureTarget, GLuint textureObject) {<br>    TextureUnit *texUnit = &amp;textureUnits[currentTextureUnit];<br>    switch(textureTarget) {<br>        case GL_TEXTURE_1D: texUnit-&gt;targetTexture1D = textureObject; break;<br>        case GL_TEXTURE_2D: texUnit-&gt;targetTexture1D = textureObject; break;<br>        case GL_TEXTURE_3D: texUnit-&gt;targetTexture1D = textureObject; break;<br>        case GL_TEXTURE_CUBEMAP: texUnit-&gt;targetTextureCube = textureObject; break;<br>    }<br>}<br><code>`</code></p>
<h2 id="回顾最近学习OpenGLES-学习参考路线"><a href="#回顾最近学习OpenGLES-学习参考路线" class="headerlink" title="回顾最近学习OpenGLES 学习参考路线"></a>回顾最近学习OpenGLES 学习参考路线</h2><p>一个合适自己的学习路线比什么什么讲师什么什么高级书都重要一万倍，如果找到了对应的路，将对带给自己事半功倍的效果。<br>我直接说出根据哪个博客，那些系列，之后再讲这些博客能得到什么。</p>
<ol>
<li><a href="https://www.jianshu.com/u/a309d4c4dc47" target="_blank" rel="noopener">简书-清墨</a></li>
<li><a href="https://zhuanlan.zhihu.com/zangqilong" target="_blank" rel="noopener">知乎-叶孤城的iOS杂货铺</a></li>
<li><a href="https://www.jianshu.com/u/815d10a4bdce" target="_blank" rel="noopener">简书-落影</a></li>
</ol>
<p>以上是按顺序学习。</p>
<p>清墨的博文教学很简单易懂，这个大哥应该去当老师。很细心，能把他全部学完，就能做个3D 的场景了。他最后一个提问：为什么图片模糊，线段有棱角？<br>解答是:</p>
<ol>
<li><code>glTexParamiv</code> 的 <code>gl_Texture2D_Mag_Filter</code>、<code>gl_Texture2D_Min_Filter</code> 设置为<code>gl_clamp_to_edge</code>，这样线段就不会有棱角;</li>
<li>将<code>self.view.contentFactor</code> 设置为<code>[UIScreen mainSceen].scale</code>, 同时设置各个要放大的地方为相应倍数，这样图片就不会模糊。</li>
</ol>
<p>iOS 码农介的吴彦祖在知乎开了新的ID：叶孤城。名号多，但是写的也是非常好。同时期待他能写出更多好文章，小弟很受用，非常非常感谢。<br>他的<strong>从0打造一个GPUImage</strong>从(1)~(6.2)学完就能做一个pipeline 滤镜。</p>
<p>提醒一点，必须先学完清墨的博文，叶孤城估计太忙，中间一小部分没有完全讲透一些语句的作用，会很疑惑。</p>
<p>落影的文章很全，先学习OpenGLES 文集，不要学太深(目前要用的知识学完就好)，然后看GPUIMage 文集。对落影大哥的文集点评一下，他的文集很全，但是注释的关键地方都少，代码关键地方注解还不够。有些很迷糊。</p>
<p>可以理解为升级版学习。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2018-8-3lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/25/2018-8-3lesson/">2018-8-3lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2018/08/25/2018-8-3lesson/" class="article-date">
	  <time datetime="2018-08-25T06:50:29.000Z" itemprop="datePublished">August 25, 2018</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="2018-8-3"><a href="#2018-8-3" class="headerlink" title="2018/8/3"></a>2018/8/3</h3><h3 id="TS-使用enum-出现-ts-Operator-‘-’-cannot-be-applied-to-types"><a href="#TS-使用enum-出现-ts-Operator-‘-’-cannot-be-applied-to-types" class="headerlink" title="TS 使用enum 出现[ts] Operator ‘==’ cannot be applied to types"></a>TS 使用enum 出现[ts] Operator ‘==’ cannot be applied to types</h3><p><code>[ts] Operator &#39;==&#39; cannot be applied to types &#39;CheckCleanStep.Idle | CheckCleanStep.Input&#39; and &#39;CheckCleanStep.Check&#39;.</code><br>Typescript 出现和这个issue <a href="https://github.com/Microsoft/TypeScript/issues/15835" target="_blank" rel="noopener">https://github.com/Microsoft/TypeScript/issues/15835</a> 一样。<br>目前解决方法是，在判别的时候，强制判别类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if ((checkStep as CheckCleanStep) == CheckCleanStep.Check) &#123;</span><br><span class="line">    //do stuff</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="周末写Typescript-游戏有感"><a href="#周末写Typescript-游戏有感" class="headerlink" title="周末写Typescript 游戏有感"></a>周末写Typescript 游戏有感</h3><ol>
<li><p>egret TypeScript 游戏在lib 选项，是es5，于是在要用到Map、Set 时，需要给其添加上<strong>es6</strong> 才能使用。<br>由于在最终打包时，只能打为es5，尴尬的一幕出现了：Map 在’for of’ 语句 提示，在es5 中，不能使用literial，没有这玩意(该为es6 新增对象)一样。<br>使用’for in’ 出现的问题是该loop 不会进入。<br>还有一种备选办法是：Array.from(map.keys()/map.values())<br>这样在每次都需要创建新的Array。<br>最终我的处理是map.forEach((value, key) =&gt; {})</p>
</li>
<li><p>之前写法是Object =&gt; {} 保存数据格式。简直太js，于是全部改为对象处理。啊，啊，，爽。</p>
</li>
<li>需要注意的是Map、Set 在需要正确使用set、add、get、size、delete等。千万千万别<code>map[key] = value;</code>变成使用{} 对象方法了。</li>
<li>egret 中exml 的元件是在this 对象中。</li>
<li>游戏的好不好玩并不是功能。体现在对游戏的难度分级和结果回馈。<br>难度分级就是由简单到复杂，由平缓到陡峭。<br>结果肯定明了：分数不能低的难看啊，怎么的，玩个200多分、300分，心里爽啊。20分就难看啦。</li>
<li>断点修改，好用，for 循环的断点，太好用，简直。</li>
<li>逻辑、玩法多打注释。毕竟游戏跟需求是天生姻缘。</li>
<li>合理的建立对象。合理的摆放对象坐标。</li>
<li>对象初始化。如果知道对象初始化为null，数组初始化个数，则在申明时就给其定义规则。</li>
<li>egret.Sound 这个类，不能被继承！我继承就报错，之后接触多了再看原因。</li>
<li>声音播放有个大坑。初始化完我就播放，老是会播放惜败，似乎要延时播放才可以。<br>其 示例- 声音播放 教程，是初始化完成、界面显示完成后，用户点击播放，那么微信、QQ、网页、模拟器都是播放正常的。<br>但是修改成mp3 加载完成立即播放，就也是QQ、模拟器能播放，其他都不能播放了。</li>
</ol>
<h3 id="nginx-出现permission-delay"><a href="#nginx-出现permission-delay" class="headerlink" title="nginx 出现permission delay"></a>nginx 出现permission delay</h3><ol>
<li>原因是控制该nginx 的能力为nobody，权限不够。<br>改为<code>user root;</code>能暂时解决该问题。但是安全性不够。</li>
<li>设置egret 游戏服务器<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server</span><br><span class="line">        &#123;</span><br><span class="line">                listen 80;</span><br><span class="line">                server_name www.lsgood.top lsgood.top;</span><br><span class="line">                root /root/Work/web/;</span><br><span class="line">                index index.html;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>web 目录下是popcirle 的文件夹游戏<br>web/popcircle/index.html<br>所以最终游戏目录为：<a href="http://lsgood.top/popcircle/index.html" target="_blank" rel="noopener">http://lsgood.top/popcircle/index.html</a></p>
<h3 id="egret-打包小游戏的坑"><a href="#egret-打包小游戏的坑" class="headerlink" title="egret 打包小游戏的坑"></a>egret 打包小游戏的坑</h3><ol>
<li>打包显示index.html “data-scale-mode” 的模式”showAll” 错误，改成”fixedWidth”</li>
<li>做小游戏，申请wxAppid，在微信选择面板一定要选择游戏，不然会出现提示”app.json”找不到，因为此时换成了”game.json”</li>
<li><strong>VM4477:1 gameThirdScriptError ReferenceError: Boom is not defined</strong><br>出现的问题是:egret - scripts - wxgame - wxgame.ts 里面”async onFile(file: plugins.File) {“ 方法最后一句<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (filename == &apos;main.js&apos;) &#123;</span><br><span class="line">        content += &quot;;window.Main = Main;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">file.contents = new Buffer(content);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>改成：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if (filename == &apos;main.js&apos;) &#123;</span><br><span class="line">        content += &quot;;window.Main = Main;&quot;;</span><br><span class="line">        [&quot;Circle&quot;,  &quot;GameData&quot;,</span><br><span class="line">        &quot;GameOverLayer&quot;, &quot;GameScene&quot;, &quot;Kill&quot;].forEach(v =&gt; &#123;</span><br><span class="line">                content += `window.$&#123;v&#125;=$&#123;v&#125;;`</span><br><span class="line">        &#125;); </span><br><span class="line">        &#125;</span><br><span class="line">file.contents = new Buffer(content);</span><br></pre></td></tr></table></figure></p>
<p>添加的为你要加入的新的类名。空的不要添加！</p>
<ol start="4">
<li>玩的时候闪屏:index.html 的”data-frame-rate” 改为60桢(之前的是30)</li>
<li>调用第三方库，小程序找不到，比如particle<br>解决方法：在egret - scripts - wxgame - wxgame.ts 里面”async onFile(file: plugins.File) {“ 方法<br>对应增加一句,如：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (filename == &quot;libs/modules/particle/particle.js&quot; || filename == &quot;libs/modules/particle/particle.min.js&quot;) &#123;</span><br><span class="line">        content += &quot;;window.particle = particle;&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>表示链接新的库</p>
<ol start="6">
<li>egret 粒子系统内存问题<br><a href="https://xmanyou.com/egretde-li-zi-xi-tong-nei-cun-xie-lou/" target="_blank" rel="noopener">https://xmanyou.com/egretde-li-zi-xi-tong-nei-cun-xie-lou/</a><br>参考的这篇。先删掉再说，嘿嘿。<br>在要离开页面的地方：this.particleSys.close(true);</li>
<li>openDataContext 是公共域，开放权限的地方。其他都为主域。<br>公共域只允许进数据。platform.js 通过<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const openDataContext = wx.getOpenDataContext();</span><br><span class="line">openDataContext.postMessage(data);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>把data 传进去,然后openDataContext.index.js 接受：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function addOpenDataContextListener () &#123;</span><br><span class="line">        wx.onMessage((data) =&gt; &#123;</span><br><span class="line">                if (data.command == &apos;open&apos;) &#123;&#125;</span><br><span class="line">                else if (data.command == &apos;loadRes&apos;) &#123;&#125;</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后里面去拿数据、展示页面等。<br>openDataContext 只有postMessage、onMessage、shareCanvas 三个可以和外部交互的功能。<br>所以另起一个Promise function 走不通；<br>往postMessage 传入callback 也是不行的：postMessage 只接受基础变量，其他的会被过滤。</p>
<p>这时 <code>wx.getFriendCloudStorage</code> 这个方法只允许在公共域处理拿数据、处理数据、展示数据！<br>同时记住：get 回来的数据最后一层是string 哟。</p>
<p><code>wx.setUserCloudStorage</code> 可以在各个地方获取。<br>我直接写在platform.js 下另起一个<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">setWxStorage(dataStr) &#123;</span><br><span class="line">        return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">                wx.setUserCloudStorage(&#123;</span><br><span class="line">                        KVDataList: [&#123; key: &quot;score&quot;, value: dataStr &#125;],</span><br><span class="line">                        success: res =&gt; &#123;</span><br><span class="line">                                resolve(res);</span><br><span class="line">                        &#125;,</span><br><span class="line">                        fail: res =&gt; &#123;</span><br><span class="line">                                reject(res);</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>注意，value 一定要是str就可以了。</p>
<ol start="8">
<li>头像没有显示出来。不知道为啥。当你选择下一页的时候居然又出来了。先这样吧。</li>
<li>自己最高分方案是使用本地缓存，然后判别是否有更高分进行setUserCloudStorage。</li>
<li>由于openDataContext权限问题，那么好友分数排序就只能从getFriendCloudStorage 数据之后进行json 对象化，转换数据格式、然后排序。<br>排序使用js 的Array.prototype.sort((n1, n2) =&gt; {}) 高阶函数排序。</li>
<li>当前判别是否是wxgame 还是h5，使用platform.openDataContext == null。</li>
</ol>
<h3 id="记录微信小游戏打包过程。"><a href="#记录微信小游戏打包过程。" class="headerlink" title="记录微信小游戏打包过程。"></a>记录微信小游戏打包过程。</h3><p>个人微信账号，只需填写两个资料：1游戏自审自查报告；2计算机软件著作权登记证书。<br>游戏自审自查这里采用一个jpg，申明微信小游戏在一开始添加了“健康安全提示语”，且截图小游戏加载页面；其他包括授权、公司名称等；同时还有公司的对此发行软件责任等。<br>计算机著作权登记证书 是去软件著作权中心申请（plz，去那边申请太慢。如果小游戏还比较小，可以先网上找个著作权ps 凑和，不然要等很久）。</p>
<p>公司账号需要填写4个资料等，很麻烦。这个资料没找齐，没搞。</p>
<p>游戏创作完成后，直接点击顶部的上传，即可上传测试文件。在微信公众号:<a href="https://mp.weixin.qq.com" target="_blank" rel="noopener">https://mp.weixin.qq.com</a> 登录之后 - 开发管理 - 开发版本 里面会有最新的开发包。在下拉选项卡中“发布测试” 可以发布一个包含填写的测试人员们内部测试的包。如果点击“提交审核”则直接发布release。接下来就是填写信息然后发布啦。<br>流量主，这个功能有个门槛，需要用户达到1000个以上才可以申请。</p>
<h3 id="看raywenderlich-网站文章英语对高考英语失利有感"><a href="#看raywenderlich-网站文章英语对高考英语失利有感" class="headerlink" title="看raywenderlich 网站文章英语对高考英语失利有感"></a>看raywenderlich 网站文章英语对高考英语失利有感</h3><p>高考一直有个遗憾，前三科手感超出我的预期。英语是最后一科，而我也是班里英语前三，第一位置偶尔也能轮换位置的人，在最后却发挥失常。<br>有几个原因，其中一个与今天“有感” 有关联。</p>
<ol>
<li>前三科太轻松，超过了我的预期，特别是我最不熟练的数学、理综。<br>心存侥幸（我的运气一直是爆表的，感觉和住在庵堂旁边有关系），心里稍稍在高考第二天下午放松。</li>
<li>那天中午也由于太高兴，自己内心有估算的，于是玩起2011年火热的iPod 街霸游戏。<br>我确实还是没有长大啊，内心的开心，总得释放，不能与他人语（成绩还要1个月后出来，要低调），那就释放玩游戏；心想“下午正是我最拿手的英语，简单”。</li>
<li>我一直贯彻“李阳英语”理念，一直拼命的读，没事看看文章。特点是平时的交流都能顺利，我觉得基本能和外国人日常交流。<br>虽然脑袋中午放松，成绩也不能低到哪里去，所以出弱势问题，可能：<br>贯彻的“李阳英语”理念也有一个弊端，那就是对高考学术型的英语不一样。<br>高考学术型，听力比模拟考时正式，听得时候平常心里是不翻译，而是直接内心模拟出场景，高考时，心里紧张（外加中午没休息好），硬是内心一句一句翻译却跟不上读速了；<br>笔试部分也由于听力失利（自己感受的出来，蒙的比例比以前多多了），感觉有一点点困顿，不太在状态；心里有点后悔中午没休息好；<br>总的来说，有得有失，到现在内心也已翻不出大波浪，时过境迁。要是我更多分，我还会想现在这样么？或许会有那么点不一样吧，也许吧。</li>
</ol>
<h3 id="掌握知识点的表现"><a href="#掌握知识点的表现" class="headerlink" title="掌握知识点的表现"></a>掌握知识点的表现</h3><p>当你能描述出那个知识点，同时将他比喻出来。比如面向过程和面向对象，你就可以这样比喻：同样是煮一杯咖啡，面向过程是讲步骤过程化，每个步骤要干什么，满足什么条件，于是就出来了什么咖啡；面向对象的不同点是，关注的是拆解元素，比如承装的被子，煮咖啡机器，水元素，model 这一很重要的概念。<br>所以我也能大致确认，大部分的知识点，可以使用我们日常一些元素，环境描述，那么你就真正得到了该知识。</p>
<h3 id="微信分享时，背景声音在回来后没有再播放"><a href="#微信分享时，背景声音在回来后没有再播放" class="headerlink" title="微信分享时，背景声音在回来后没有再播放"></a>微信分享时，背景声音在回来后没有再播放</h3><p>找到wxgame 全局搜索<code>var innerAudioContext = wx.createInnerAudioContext();</code><br>找到了weapp-adapter.js 下856行，<br>然后下面添加这两句即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wx.onShow(function () &#123;</span><br><span class="line">        innerAudioContext.play();</span><br><span class="line">&#125;);</span><br><span class="line">wx.onAudioInterruptionEnd(function () &#123;</span><br><span class="line">        innerAudioContext.play();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="这几天终于把微信排行榜的问题搞好啦。非常给力。接下来就是微信分享，别人点击后得到相应礼品、物品值-三个可以和外部交互的功能。"><a href="#这几天终于把微信排行榜的问题搞好啦。非常给力。接下来就是微信分享，别人点击后得到相应礼品、物品值-三个可以和外部交互的功能。" class="headerlink" title="这几天终于把微信排行榜的问题搞好啦。非常给力。接下来就是微信分享，别人点击后得到相应礼品、物品值+ 三个可以和外部交互的功能。"></a>这几天终于把微信排行榜的问题搞好啦。非常给力。接下来就是微信分享，别人点击后得到相应礼品、物品值+ 三个可以和外部交互的功能。</h3><h3 id="这两天看OpenGL-遇到的等等数学知识思考大学为什么没学会，或者说没学-盘点下"><a href="#这两天看OpenGL-遇到的等等数学知识思考大学为什么没学会，或者说没学-盘点下" class="headerlink" title="这两天看OpenGL 遇到的等等数学知识思考大学为什么没学会，或者说没学 盘点下"></a>这两天看OpenGL 遇到的等等数学知识思考大学为什么没学会，或者说没学 盘点下</h3><p>遇到的有欧拉角 四元数、笛卡尔坐标、齐次方程组、万向节；<br>这么些需要建模，知道大概，然后将其映射到目前工业、图形学重要应用的知识，居然在大学只是书里画了个图，黑板上一直写，快考试的时候说会考，仅此而已？<br>为什么不是老师们代码建模，把形状形态，大致描绘出来？中间会出一些问题，带着问题思考，生动形象点？难道还如授课的教授们当年学习般，只有靠“拼命学”才能“突出重围”么？<br>教授年纪都比较大，但是前缘的技术也是需要接触的。让更生动的计算机科学和数学结合，让更多人参与到知识的海洋中，而不是一些死记硬背，目的只是“拼命学”“突出重围”的一小部分人得到知识的一小部分；<br>大部分人都可以参与，可以互相讨论。更多人参与才能带动领域的增强，讨论才能出点子，才能出一些人想不到的思绪。<br>然而并没用。<br>如今离开大学，我又重新看这些晦涩难懂的知识。能稍稍理解，如果要进一步理解呢？那就是直接将他们画出来，运用起来。</p>
<h3 id="小游戏登录解密"><a href="#小游戏登录解密" class="headerlink" title="小游戏登录解密"></a>小游戏登录解密</h3><p>首先准备小游戏的appid 和appsecret。之后会用到<br>用户wx.login 的时候得到code；<br>用户wx.getUserInfo 的时候得到a = {encryptedData:xxx, iv:xxx, userInfo:xxx};<br>a 里面的userInfo 数据不完善，没有用户ID。其他更多信息。通过去微信服务器得到一个session_key可以解开。<br>在这个目录里面有该资料：<br>code 就是登陆时候返回的code。APPID 为小游戏APPID。SECRET 为小游戏的密钥。<br><code>https://api.weixin.qq.com/sns/jscode2session?appid=APPID&amp;secret=SECRET&amp;js_code=JSCODE&amp;grant_type=authorization_code</code><br>会返回</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//正常返回的JSON数据包</span><br><span class="line">&#123;</span><br><span class="line">  	&quot;openid&quot;: &quot;OPENID&quot;,</span><br><span class="line">  	&quot;session_key&quot;: &quot;SESSIONKEY&quot;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后通过hmac_sha256解密得到数据信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">signature = hmac_sha256( post_data, session_key )</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2018-7-23lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/08/02/2018-7-23lesson/">2018-7-23lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2018/08/02/2018-7-23lesson/" class="article-date">
	  <time datetime="2018-08-02T13:48:43.000Z" itemprop="datePublished">August 2, 2018</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="2018-7-23"><a href="#2018-7-23" class="headerlink" title="2018/7/23"></a>2018/7/23</h3><p>今天又发布了Colox 的第二版本，感悟到其中一些思想。<br>要做好一个完整，商用的产品，需要经过：</p>
<ol>
<li>核心功能研发</li>
<li>整体方向，回款（产品售卖、广告营收、产品获利、周边发展等）</li>
<li>UI 整体视觉</li>
<li>上线</li>
<li>开发营收</li>
<li>产品推广、改进</li>
</ol>
<p>这几个阶段我觉得是个人开发很好的流程，而且一经决定一定要坚持下去。<br>我好几次都把产品开发拖的很长。原因有几个：</p>
<ol>
<li>我在学习后台（当时有这么好的学习资源）</li>
<li>后台差不多了，也使用当时的语言js 学习游戏开发（也是刚好有这资源）</li>
<li>一直的学习，心却是有点累。</li>
</ol>
<p>所以有时在家里搞着搞着，才搞了一个功能，或者某些小功能就退却，打游戏到了深夜。<br>之前在粉粉，每天下班回来晚，已经是半条命；现在新的公司终于终于能抽出空了呀！而且目前还在开发阶段，也不会特别特别紧，所以整体感觉都好了很多。<br>目前把产品推进，“哈皮涂色” 进入到了开发营收。我觉得可以有这几个点营收：</p>
<ol>
<li>设置页面给一个二维码，是“鼓励开发哥哥，让他快马加鞭做出更好的产品”</li>
<li>横幅广告、激励性广告营收</li>
<li>内购该产品</li>
</ol>
<h3 id="CollectionView-里面layer-frame-frame"><a href="#CollectionView-里面layer-frame-frame" class="headerlink" title="CollectionView 里面layer.frame = frame"></a>CollectionView 里面layer.frame = frame</h3><p><a href="http://adad184.com/2015/11/10/disable-uicollectionview-implicit-animation/" target="_blank" rel="noopener">http://adad184.com/2015/11/10/disable-uicollectionview-implicit-animation/</a><br>UICollectionView.reloadData 时会做隐式动画。<br>可以使用以下三种：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//方法一</span><br><span class="line">[UIView performWithoutAnimation:^&#123;</span><br><span class="line"></span><br><span class="line">    [collectionView reloadItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:index inSection:0]]];</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">//方法二</span><br><span class="line">[UIView animateWithDuration:0 animations:^&#123;</span><br><span class="line">    [collectionView performBatchUpdates:^&#123;</span><br><span class="line">        [collectionView reloadItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:index inSection:0]]];</span><br><span class="line">    &#125; completion:nil];</span><br><span class="line">&#125;];</span><br><span class="line">    </span><br><span class="line">//方法三</span><br><span class="line">[UIView setAnimationsEnabled:NO];</span><br><span class="line">[self.trackPanel performBatchUpdates:^&#123;</span><br><span class="line">    [collectionView reloadItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:index inSection:0]]];</span><br><span class="line">&#125; completion:^(BOOL finished) &#123;</span><br><span class="line">    [UIView setAnimationsEnabled:YES];</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<p>但是我要做的是一个gradientLayer 的布局(单元格形状不一样，布局是一样的)，不得已。<br>于是这句话拯救了我，不然我就要用一张图片解决我问题了，问题是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">如果你的cell中还包含有CALayer的动画 比如这样</span><br><span class="line">- (void)layoutSubviews</span><br><span class="line">&#123;</span><br><span class="line">    [super layoutSubviews];</span><br><span class="line">    </span><br><span class="line">    self.frameLayer.frame = self.frameView.bounds;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>解决方法是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[CATransaction begin];</span><br><span class="line">[CATransaction setDisableActions:YES];</span><br><span class="line">self.frameLayer.frame = self.frameView.bounds;</span><br><span class="line">[CATransaction commit];</span><br></pre></td></tr></table></figure></p>
<h3 id="LaunchScreen-storyboard-动态设置版本号"><a href="#LaunchScreen-storyboard-动态设置版本号" class="headerlink" title="LaunchScreen.storyboard 动态设置版本号"></a>LaunchScreen.storyboard 动态设置版本号</h3><p><a href="https://www.jianshu.com/p/5253f671436b" target="_blank" rel="noopener">https://www.jianshu.com/p/5253f671436b</a><br>哈哈，连header 都是拿的原作者的。<br>小弟这里记录记录。</p>
<ol>
<li>选中LaunchScreen.storyboard 的label，为该label 的Show the Identity inspector(XCode 最右边栏从左到右边：文本、问好、xx -&gt; 就是这玩意啦),在Document - Label 填入”APP_VERSION”.</li>
<li>点击Project - Target - Build Phases - “New Run Script Phase”</li>
<li>给新创建的”Run Script” 改名为 “Update Launch Version”, 同时展开它</li>
<li>在Shell 后面输入 <code>/bin/bash</code>，然后在下面输入脚本语句写入:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">versionNumber=$(/usr/libexec/PlistBuddy -c &quot;Print :CFBundleShortVersionString&quot; &quot;$&#123;PROJECT_DIR&#125;/$&#123;INFOPLIST_FILE&#125;&quot;)</span><br><span class="line">sed -i bak -e &quot;/userLabel=\&quot;APP_VERSION\&quot;/s/text=\&quot;[^\&quot;]*\&quot;/text=\&quot;v $versionNumber\&quot;/&quot; $PROJECT_DIR/XXT/resource/Base.lproj/LaunchScreen.storyboard</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>以上script 注意3个点:</p>
<ol>
<li><code>$PROJECT_DIR/XXT/resource/Base.lproj/LaunchScreen.storyboard</code><br><code>XXT</code>是工程target 名。</li>
<li><code>/resource/</code> 是对应LaunchScreen 位置(ps 我改过他的位置了)</li>
<li><code>sed</code> 前面有折行。如果运行正确，效果没出来的，给<code>sed</code> 前面折行</li>
</ol>
<p>至此以后就不用那么麻烦了。</p>
<h3 id="记录一次iOS-上传release-包出现”ITMS-90037”，debug-正常"><a href="#记录一次iOS-上传release-包出现”ITMS-90037”，debug-正常" class="headerlink" title="记录一次iOS 上传release 包出现”ITMS-90037”，debug 正常"></a>记录一次iOS 上传release 包出现”ITMS-90037”，debug 正常</h3><ol>
<li>debug 非常正常。打包到fir.im 里面OK。</li>
<li>上传testfly 的时候，总是出现<code>ERROR ITMS-90037: &quot;This bundle is invalid. The Info.plist file is missing or could not be parsed. Please check it for embedded control characters.&quot;</code><br>查google，大部分说<blockquote>
<p>问题描述：这个包是无效的。Info。plist文件丢失或不能被解析。请检查plist的字符。<br>问题解决：info.plist 里面有一个非法字符，用终端打开这个文件查看一下，可能会有中文的字符或其他不能识别的字符。</p>
</blockquote>
</li>
</ol>
<p>但是我大眼瞪小眼还是没看出来。<br>从另一个角度：APP 之前可以上传；中间重大改版，里面用到了AliyunvideoPlayer 我觉得有问题。<br>然后我看到这篇文章：<a href="https://www.jianshu.com/p/f62c7767e16b" target="_blank" rel="noopener">https://www.jianshu.com/p/f62c7767e16b</a><br>里面链接到这篇<a href="https://blog.csdn.net/q_littlestone/article/details/51000112" target="_blank" rel="noopener">https://blog.csdn.net/q_littlestone/article/details/51000112</a> 里面的这篇：<a href="http://ios.jobbole.com/84323/" target="_blank" rel="noopener">http://ios.jobbole.com/84323/</a><br>终于找到了最终问题，并说明了原因：<br>里面有第三方framework。其framework 里面的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Bundle version</span><br><span class="line">Bundle identifier</span><br><span class="line">Bundle versions string, short</span><br></pre></td></tr></table></figure></p>
<p>没有和项目自己的对应。如果你自己还有bundle，里面取名不要使用<strong>Info.plist</strong> 或者<strong>info.plist</strong><br>处理办法：</p>
<ol>
<li>改变自己bundle 里面的Info.plist / info.plist</li>
<li>讲第三方的Info.plist 里面的 “Bundle version/Bundle identifier/Bundle versions string, short” 改为和主Info.plist 内容一致。<br>最终终于通过了。<br>我的天，我花了快1天半呀。<br>需要不断尝试，同时看是否能上传成功，同时也要和以前对比。<br>打包、上传。半条命。</li>
</ol>
<h3 id="记录一次Xcode-release-下打包CFBundleVersion-1"><a href="#记录一次Xcode-release-下打包CFBundleVersion-1" class="headerlink" title="记录一次Xcode release 下打包CFBundleVersion +1"></a>记录一次Xcode release 下打包CFBundleVersion +1</h3><p>打包增加CFBundleVersion 需要另外考虑一件事：几个同事之间打包，build 号可能会污染。可以使用时间或者git 上传次数。<br>当前使用的是自动+1 操作。<br>首先</p>
<ol>
<li>在Build Phases 里面增加一个Run script.</li>
<li>修改下名字，比如：AutoIncreaseBuildVersion</li>
<li>把其拖到第一个下面</li>
<li>增加script 如：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">// 判断是哪个configuration</span><br><span class="line">// Release Debug 或者只自定义的配置</span><br><span class="line">if [ &quot;Release&quot; != &quot;$&#123;CONFIGURATION&#125;&quot; ]</span><br><span class="line">// 如果是Release做哪些事情</span><br><span class="line">then</span><br><span class="line">// 如果不是Release做哪些事情</span><br><span class="line">    exit 0 退出 不执行下面的代码</span><br><span class="line">fi</span><br><span class="line">buildNumber=$(/usr/libexec/PlistBuddy -c &quot;Print CFBundleVersion&quot; &quot;$INFOPLIST_FILE&quot;)</span><br><span class="line">buildNumber=$(($buildNumber + 1))</span><br><span class="line">/usr/libexec/PlistBuddy -c &quot;Set :CFBundleVersion $buildNumber&quot; &quot;$INFOPLIST_FILE&quot;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>上面的exit 0 可以注释也可以加上。效果就是其他CONFIGURATION 不会执行下面动作</p>
<p><strong>跟随时间变化</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">buildNumber=$(date +%Y%m%d%H%M%S)</span><br><span class="line">/usr/libexec/PlistBuddy -c &quot;Set :CFBundleVersion $buildNumber&quot; &quot;$INFOPLIST_FILE&quot;</span><br></pre></td></tr></table></figure></p>
<p><strong>获取info.plist信息 CFBundleVersion 可以更改为想获取的信息的名字</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">buildNumber=$(/usr/libexec/PlistBuddy -c &quot;Print :CFBundleVersion&quot; &quot;$&#123;PROJECT_DIR&#125;/$&#123;INFOPLIST_FILE&#125;&quot;)  </span><br><span class="line">shortVersion=$(/usr/libexec/PlistBuddy -c &quot;Print :CFBundleShortVersionString&quot; &quot;$&#123;PROJECT_DIR&#125;/$&#123;INFOPLIST_FILE&#125;&quot;)  </span><br><span class="line">buildNumber=`date +&quot;%m%d&quot;`  </span><br><span class="line">buildNumber=&quot;$shortVersion.$buildNumber&quot;  </span><br><span class="line"></span><br><span class="line">// 设置info.plist</span><br><span class="line">/usr/libexec/PlistBuddy -c &quot;Set :CFBundleVersion $buildNumber&quot; &quot;$&#123;PROJECT_DIR&#125;/$&#123;INFOPLIST_FILE&#125;&quot;</span><br></pre></td></tr></table></figure></p>
<p><strong>修改项目显示名称为版本号（适用于不同版本号装到一个机器里面，便于区分是哪个版本）</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#/bin/bash</span><br><span class="line">if [ &quot;Release&quot; != &quot;$&#123;CONFIGURATION&#125;&quot; ]; then</span><br><span class="line"></span><br><span class="line">DisplayName=$(/usr/libexec/PlistBuddy -c &quot;Print CFBundleShortVersionString&quot; &quot;$INFOPLIST_FILE&quot;)</span><br><span class="line">DisplayName=&quot;ep$&#123;DisplayName&#125;-I&quot;</span><br><span class="line">/usr/libexec/PlistBuddy -c &quot;Set :CFBundleDisplayName $DisplayName&quot; &quot;$INFOPLIST_FILE&quot;</span><br><span class="line"></span><br><span class="line">else</span><br><span class="line"></span><br><span class="line">DisplayName=&quot;真正的项目名称&quot;</span><br><span class="line">/usr/libexec/PlistBuddy -c &quot;Set :CFBundleDisplayName $DisplayName&quot; &quot;$INFOPLIST_FILE&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br></pre></td></tr></table></figure></p>
<h3 id="记录一次使用Egret-wing-调试出现"><a href="#记录一次使用Egret-wing-调试出现" class="headerlink" title="记录一次使用Egret wing 调试出现"></a>记录一次使用Egret wing 调试出现</h3><p>“No such module: atom_renderer_v8_util”<br>崩溃到这一句”return process.binding(<code>atom_${process.type}_${name}</code>)”</p>
<p>然后换成debug 用chrome 可以用几次，但是用出错。<br>明明没有代码错误，把代码拷到另一个工程，又能运行。<br>最终解决：把翻墙关了。<br>网上也有一些解决方案，但都没有说到点，心里还嘀咕怎么可能跟我shadowSocks 有关。<br>后来确实没有再出现了。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2018-6-28lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/07/21/2018-6-28lesson/">2018/6/28lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2018/07/21/2018-6-28lesson/" class="article-date">
	  <time datetime="2018-07-21T01:28:37.000Z" itemprop="datePublished">July 21, 2018</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="2018-6-28"><a href="#2018-6-28" class="headerlink" title="2018/6/28"></a>2018/6/28</h3><p>记录一下这几天的事<br>之前从粉粉离职，原因有很多很多方面导致我在这大热天毅然决然的选择离开.</p>
<ol>
<li>工资从未提升，哪怕变动或者变少都行，表示公司有一定考核.<br>2.周末采取单双休，双休的时候感觉太幸福了；单休的时候，周日等于没有休息，等于连上12天班。饥饿策略。</li>
<li>项目采用快速迭代策略，2周一版本，代码质量要管控、逻辑要管控、需求没有明确特别是需求不明确，做到一定才发现有些有冲突，或者有些和另外东西结合了，或者导致另外东西也要变动，然而时间也是被一并算进迭代版本里面。正如最后要走时，旭哥和我开玩笑的说‘在外面公司好点，因为他们不懂代码，粉粉技术懂，所以就会很紧，以后你就会舒服啦’。是的，他们懂代码他们也为我尽量宽松了些，但是细节可能在做到的时候才会碰到。</li>
<li>公司感受不到我的存在位置，我就是个码农？这不是我想要的。</li>
</ol>
<p>进粉粉目的如同我刚上大学就知道自己绝不会考研一样：‘我是来学技术的’。学完如果公司还有我存在的意义，那么我会选择留下来，以上总总都没有。</p>
<p>后来和根根（前粉粉安卓组成员）聊天时，他说的也正是我明了的：<strong>粉粉 是不是觉得 举步维艰</strong> 、<strong>陷入泥潭一样？</strong></p>
<p>所以我预算的最好的时间就是学完，前端学完，后端学完，溜了溜了。<br>期间面试了有十数家公司。</p>
<p>有+我才3个开发的公司，产品基本等于设想的。</p>
<p>有要做区块链 的公司（好多家都想蹭这个热度）</p>
<p>有做广告SDK 的（当时去到该处，我先看他们代码，告诉他们这要做什么，对我来说有什么理解、难处等等）</p>
<p>有做心理学社交的，我当时先让他电话面试，别他们觉得不合适，我就可以不用过去了</p>
<p>也有做公司产品+外包的</p>
<p>我拒绝了几个（3、4个，六月份找工作确实不好找）</p>
<p>我被拒绝了2次一个做医疗社交的，看他开价12 - 19，，又看到他们内部技术，我的天，那就意思意思17左吧，，真没漫天要价。一个做看小说的，似乎有个产品叫“漫画”似乎要很牛逼的，，我特么不写着我自己期望的嘛，你特么喊我过来，问的问题我以为什么鬼。搞得很牛逼的样子，反正不用理这个。继续自己的学习发展，确实很都比的人）</p>
<p>得到4、5个offer。最后来到一个也是做社交的小公司。正好可以把从粉粉学到的运用上去。</p>
<p>老实说，当时看到他们的代码，有种熟悉又不熟悉的味道。代码规范、格式，这里不存在的。创建者是个php 的小哥（即将离开），能力不咋滴（产品逻辑、规范、Wiki、流程都不知道）还拽的250似得。我也懒得和这种性格有缺陷的人多聊一会，问documents 有没有？不存在的，全部是3、4年前写的种使用字典；服务端也别想有documents。反正一团糟。哈哈。反正所有东西都是3、4年前那一套。</p>
<p>那我就慢慢来好了，我不急，急不来，自己好好规划规划就可以了。</p>
<p>来到这个公司，有几个特点。</p>
<p>优点：公司有自己目前主营业务。新来了个小哥php 、规范等和自己有共同语言，产品负责人和c 哥很像。多年产品人，设计，游戏设计。新来的那个小哥也做白鹭游戏，这个是我想要的。之后可能也会分配做些游戏。老板似乎是宁波人，公司方面也有和宁波政府合作。这个和我也有点想去宁波发展发展有点好处。额，还可以还可以。</p>
<p>缺点：确实没有粉粉明面上的热闹，进来之后感觉我有点无足轻重。技术垃圾到极点（目前都走光了，剩下产品大哥-长得有点像‘无所谓’的杨坤，和php 小哥）。老板性格、说话有点像干辉，哈哈。老板一点都不懂技术，但是比较会被技术说的云里雾里，然后似懂非懂。老板管理上不咋滴的。</p>
<p>好吧，吐槽吐槽就到这里了。不多说，溜了溜了。</p>
<h3 id="UICollectionView-addSubviews-UIView-内部有autolayout-CollectionView-视觉出bug"><a href="#UICollectionView-addSubviews-UIView-内部有autolayout-CollectionView-视觉出bug" class="headerlink" title="UICollectionView addSubviews UIView 内部有autolayout CollectionView 视觉出bug"></a>UICollectionView addSubviews UIView 内部有autolayout CollectionView 视觉出bug</h3><p>错误确定为：<br>CollectionView addSubviews 里面不能存在内部有约束的UIView。<br>否则其直接导致CollectionView 内部结构、内部约束直接紊乱。<br>其上的新增detailInfoview 有两种方法可以处理<br>1：如同当前新建view 处理，内部全部为frame 布局。目前来看似乎还不错<br>2：在CollectionViewLayout 上多流出来一个layoutAttributes，给第一个，然后frame 由代理DataSource 从controller 得到。这样等于得到一个特定cell</p>
<h3 id="Xcode-插件还能用"><a href="#Xcode-插件还能用" class="headerlink" title="Xcode 插件还能用"></a>Xcode 插件还能用</h3><p>curl -fsSL <a href="https://raw.github.com/alcatraz/Alcatraz/master/Scripts/install.sh" target="_blank" rel="noopener">https://raw.github.com/alcatraz/Alcatraz/master/Scripts/install.sh</a> | sh<br>但是提示 <strong>xcrun: error: unable to find utility “xcodebuild”, not a developer tool or in PATH</strong></p>
<p><a href="https://www.jianshu.com/p/ff1d99fe1d17" target="_blank" rel="noopener">https://www.jianshu.com/p/ff1d99fe1d17</a></p>
<p>opened Xcode.<br>Preferences<br>Locations<br>Selected the Command Lin Tools: (选择xcode版本)</p>
<p>-&gt; <strong>Alcatraz successfully installed!!1!🍻  Please restart your Xcode (9.4).</strong></p>
<p>然后解决Xcode 8 之后不能使用Alcatraz</p>
<p><a href="https://www.jianshu.com/p/0b541f145a1a" target="_blank" rel="noopener">https://www.jianshu.com/p/0b541f145a1a</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo gem install update_xcode_plugins</span><br><span class="line">$ update_xcode_plugins</span><br><span class="line">$ update_xcode_plugins --unsign</span><br></pre></td></tr></table></figure>
<p><strong>Choose which Xcode you would like to unsign (use arrows): Xcode (9.1) [Signed]: /Applications/Xcode.app</strong><br><code>$ Y</code></p>
<p>似乎出现了Xcode 关闭之后，再打开，PackageManager 不见了。<br>解决请参考：</p>
<p><a href="https://www.jianshu.com/p/a9448154c09e" target="_blank" rel="noopener">https://www.jianshu.com/p/a9448154c09e</a></p>
<p>之后确实都出来了，不知是否这个原因</p>
<h3 id="iOS-转场动画"><a href="#iOS-转场动画" class="headerlink" title="iOS 转场动画"></a>iOS 转场动画</h3><p>很久没有做转场动画了。这里把遇到的坑填一填。</p>
<h3 id="如果程序中改变了某个空间的transform-不要使用frame；视觉bug-是其会变成CGRectZero"><a href="#如果程序中改变了某个空间的transform-不要使用frame；视觉bug-是其会变成CGRectZero" class="headerlink" title="如果程序中改变了某个空间的transform 不要使用frame；视觉bug 是其会变成CGRectZero"></a>如果程序中改变了某个空间的transform 不要使用frame；视觉bug 是其会变成CGRectZero</h3><p><a href="https://www.jianshu.com/p/9dfd337e8266" target="_blank" rel="noopener">https://www.jianshu.com/p/9dfd337e8266</a><br>应该使用bounds+center</p>
<h3 id="iOS-某个VC-rotation-还有statusBar-状态"><a href="#iOS-某个VC-rotation-还有statusBar-状态" class="headerlink" title="iOS 某个VC rotation 还有statusBar 状态"></a>iOS 某个VC rotation 还有statusBar 状态</h3><p>//<a href="http://www.jianshu.com/p/4196d7cf95f4" target="_blank" rel="noopener">http://www.jianshu.com/p/4196d7cf95f4</a><br>BaseNavigationViewController:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/*顶部状态栏 接下来会调用该viewController 的</span><br><span class="line">- (BOOL)prefersStatusBarHidden &#123;</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br><span class="line">- (UIStatusBarStyle)preferredStatusBarStyle &#123;</span><br><span class="line">    return UIStatusBarStyleLightContent;</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line">-(UIViewController *)childViewControllerForStatusBarStyle&#123;</span><br><span class="line">    return self.topViewController;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>程序默认为<strong>UIInterfaceOrientationMaskPortrait</strong><br>那么在BaseNavigationViewControlelr<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-(UIInterfaceOrientationMask)supportedInterfaceOrientations&#123;</span><br><span class="line">    return UIInterfaceOrientationMaskPortrait;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在需要的ViewController加入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)shouldAutorotate &#123;</span><br><span class="line">    return !self.isLocked;</span><br><span class="line">&#125;</span><br><span class="line">//这个比较重要。这里告诉了system 当前到底支持哪些种旋转方式</span><br><span class="line">- (UIInterfaceOrientationMask)supportedInterfaceOrientations &#123;</span><br><span class="line">    if (self.isLocked) &#123;</span><br><span class="line">        return UIInterfaceOrientationMaskPortrait;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return UIInterfaceOrientationMaskPortrait|</span><br><span class="line">            UIInterfaceOrientationMaskLandscapeLeft|</span><br><span class="line">            UIInterfaceOrientationMaskLandscapeRight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation</span><br><span class="line">&#123;</span><br><span class="line">    if (self.isLocked) &#123;</span><br><span class="line">        return toInterfaceOrientation = UIInterfaceOrientationPortrait;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return YES;</span><br><span class="line">    &#125;</span><br><span class="line">    return (toInterfaceOrientation == UIInterfaceOrientationPortrait);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>以上即可在相关view 里面控制rotate。</p>
<h3 id="最近老婆看电视剧太多又说不看了，我想到的是，又一个新的轮回开始了"><a href="#最近老婆看电视剧太多又说不看了，我想到的是，又一个新的轮回开始了" class="headerlink" title="最近老婆看电视剧太多又说不看了，我想到的是，又一个新的轮回开始了"></a>最近老婆看电视剧太多又说不看了，我想到的是，又一个新的轮回开始了</h3><p>2018/7/9<br>她说看太多不想看了。那我们来预测一下接下来她会怎么做，然后每天记录她当天的态度。</p>
<p>什么是新的轮回？那就是，难受，不看电视剧，所以连同什么综艺节目（跑男、唱歌的、宝宝剧场）都不会看。当然，对于黄妈肯定是一开始很义正言辞的。<br>于是最近的3天到5天（最长5天，不可能超过5天，这也要考虑进去周末休息日）她一天比一天难受。很想看，但是又还记得刚说过的话。<br>下一个阶段是工作回来太累了，回到家不知道干什么，毕竟工作属于需要静下心来的；于是她就花点时间做菜，做好吃的。这阶段属于过渡期，这几天饭菜之类的都会可口一些吧。<br>当然过渡期不能称为阶段，因为这很短，大约2天~3天。期间还会有不应期，菜饭做好吃好，不想写东西，又睡不着，此时还不能看任何视频，这就难受了。于是就趴在床上看淘宝。<br>腐女嘛，不是看视频就是看淘宝，看淘宝还不买的那种，因为她知道她没钱。我要是店主，我肯定不开淘宝店了。页面统计数据挺好看的，就是没人买-&gt;都是她这种小妮子光看不买系列。<br>下一个阶段就是有些忘记之前说过的话啦，没全忘记那种。在一起吃饭时，她会嘿嘿嘿的偷笑，拿出iPad，怼到我面前，就像是我们一起看，看综艺节目（当前还不敢看电视剧的）。看着看着，然后又趴到床上看淘宝。<br>接下来的2~3天左右就会发现她捧着iPad在床上看看综艺节目演变成偷偷看韩剧，这时回头看她，她是带着耳机的，时不时偷笑；说她的时候，她就会不好意思，然后又继续看，有时也会放下。此时她的睡眠也不会熬夜。<br>其实这阶段还属于偷偷看。不敢光明正大看，也不能不看，估计不看的话，会，会，会坏掉的。<br>再接下来，有两个阶段，可以合并为一个。<br>先是吃饭的时候看韩剧，一起看一起看（说实话，那些逗逼韩剧那么多人看，我都想转行拍片了，没技术没含量没思想）。然后就是，自己一个人在后面，边吃零食、边看电视剧啦。<br>快乐的一个人看电视剧，手边总有吃的。因为没有吃的，她会把吃的扒拉过来放在身边，没吃嗑一点。</p>
<p>实际：<br>第1~3天（7月9号为第1天）：<br>第1天：<br>第1天晚上回去，一菜一汤。然后屁颠屁颠坐下来看看weex。由于立马不看电视剧，接口看了下QQ，点开了QQ空间，里面看了好一会视频。看到我喝酒，怕被我打，赶紧不看了。<br>接着又看了会weex，手机上开发者页面，这么小屏幕，肯定看不下去，于是东搞搞西搞搞，这晚就过去了。<br>比较关键的是，她自己不能看视频，还不让我打游戏，，，这神逻辑。我又没说我不打游戏。我打游戏休闲娱乐，她居然也不让我看。哈哈。<br>第2天：<br>第2天晚上回去，进门就看到她开始看综艺节目啦。看来之前多次轮循，现在比较明目张胆了。我一说之后，马上收起来，屁颠屁颠去拿饭吃了。<br>今天晚上她身体不舒服，搞七搞八，视频又不能看，于是吃完饭差不多9点多了，就自己睡着了。<br>第3天：<br>第3天晚上回去，你懂得，饭也没煮，一开门就看到她在那看电视剧了。<br>嘿，这个转换的快啊。她赶紧收起来，然后不好意思屁颠屁颠去给我热粥。我吃饭时，让她做code review。那个脾气倔的，嘴巴都嘟起来，一直抠脚。我的天，不过是聊聊天而已，说实话，心里有点晦气-&gt;什么鬼。<br>然后她跑上床，又开始看起来了。我说了三次她才停下来，厉害厉害。</p>
<p>第3天之后我就不必再写了，这人没救了。丢阿黄一个人在家，自己整天整夜看电视剧，沉迷的很。<br>最近工作也是不顺，整天还这么沉迷，“还一点点没看完，就快看完了”。<br>整天说，不准再打这么多游戏了；多写东西，别老打游戏；还撇着嘴，埋怨我整天打游戏。<br>我的天，我都很少打游戏好吧。<br>我打游戏有准则，她看视频都是没有限度的。她视电视剧犹如猛兽，所以老是说不看了，然而还是沉迷不止。<br>我觉得游戏是休闲，是比赛，我不觉得打游戏如何堕落。<br>她这简直是找抽。</p>
<h3 id="申明init-入口"><a href="#申明init-入口" class="headerlink" title="申明init 入口"></a>申明init 入口</h3><p>申明initWithURL:(id)xx 入口有两种方法。<br>1: initWithURL:(id)xx NS_DESIGNATED_INITIALIZER;使用宏提示其为为设计入口。<br>这时会出现：<br><!--https://blog.csdn.net/zcube/article/details/51657417--><br>如果用了NS_DESIGNATED_INITIALIZER，那么警告中出现init还是initWithNibName或是其它，取决于你的继承的父类类型：</p>
<p>UIViewController</p>
<p>Method override for the designated initializer of the superclass ‘-initWithNibName:bundle:’ not found<br>Method override for the designated initializer of the superclass ‘-initWithCoder:’ not found<br>UIView</p>
<p>Method override for the designated initializer of the superclass ‘-initWithFrame:’ not found<br>Method override for the designated initializer of the superclass ‘-initWithCoder:’ not found<br>NSObject</p>
<p>Method override for the designated initializer of the superclass ‘-init’ not found</p>
<p>那么就实现比如UIView 的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (instanceType)initWithFrame:(CGRect)frame &#123;return [self initWithURL:nil];&#125;</span><br><span class="line">- (instancetype)initWithCoder:(NSCoder *)aDecoder &#123;return [self initWithURL:nil];&#125;</span><br></pre></td></tr></table></figure></p>
<p>2: 把其他的入口设置为NS_UNAVAILABLE</p>
<h3 id="这几天上传两个APP-收到2-1-拒绝大礼包"><a href="#这几天上传两个APP-收到2-1-拒绝大礼包" class="headerlink" title="这几天上传两个APP 收到2.1 拒绝大礼包"></a>这几天上传两个APP 收到2.1 拒绝大礼包</h3><ol>
<li>首先是我写的一个房产计算器的项目。<br>一开始是因为在标题里面有<strong>免费</strong>的字样，去掉之后就出来2.1 大礼包了。<br>2.1 礼包说我这可能有隐藏功能、有贷款方面东西。</li>
</ol>
<p>我回复邮件说，我这绝对没有隐藏功能，也没有贷款方面的东西。因为觉得世面上的不好用、广告太多等，所以做了个这个功能。这个功能也是自主研发的，不是市面上的抄袭品。</p>
<ol start="2">
<li>还有一个涂色的项目。<br>上来直接就是2.1 大礼包。<br>我猜测原因是我展示页面出现<strong>免费</strong>字样，引导了用户。还有就是可能有隐藏功能。</li>
</ol>
<p>目前这两个项目我都做了广告，所以也不具备广告功能。我回复涂色项目的，我们没有隐藏功能，免费是因为素材时设计师们的心血，但是为了分享这份灵感，所以使用免费，但是绝没有付费，更不用说，除苹果外的第三方付费了。<br>免费同时也因为市面上其他APP 都是要付费的，我们就专打免费策略。最后，我们删除了展示页面的那张带有<strong>免费</strong>字样的图片。 </p>
<p>最后再说一句：如果是原数据被拒绝，同时你认为不必要上传新的二进制，你就直接回复该邮件。<br>然后静静等待，不需要点击#提交以供审核#。如果点了，那么相当于重新审核，可能会等待7~8天。<br>相关帖子：<a href="http://www.cocoachina.com/bbs/read.php?tid-298671-page-1.html" target="_blank" rel="noopener">http://www.cocoachina.com/bbs/read.php?tid-298671-page-1.html</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2018-5-9lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/05/20/2018-5-9lesson/">2018-5-9lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2018/05/20/2018-5-9lesson/" class="article-date">
	  <time datetime="2018-05-20T03:25:52.000Z" itemprop="datePublished">May 20, 2018</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2018/04/23</p>
<h3 id="Clang-Attributes-黑魔法小记"><a href="#Clang-Attributes-黑魔法小记" class="headerlink" title="Clang Attributes 黑魔法小记"></a>Clang Attributes 黑魔法小记</h3><p><a href="http://blog.sunnyxx.com/2016/05/14/clang-attributes/#objc_requires_super" target="_blank" rel="noopener">http://blog.sunnyxx.com/2016/05/14/clang-attributes/#objc_requires_super</a></p>
<p>objc_subclassing_restricted</p>
<p>objc_requires_super</p>
<p>objc_boxable</p>
<p>constructor/desctructor</p>
<p>objc_runtime_name</p>
<h3 id="Mac-启动服务配置"><a href="#Mac-启动服务配置" class="headerlink" title="Mac 启动服务配置"></a>Mac 启动服务配置</h3><p>redis<br>start: redis-server /usr/local/etc/redis.conf<br>stop:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps axu|grep redis  ## 查找redis-server的PID</span><br><span class="line">kill -9 PID</span><br></pre></td></tr></table></figure>
<p>mysql<br>start<br>mysql-server start</p>
<h3 id="2018-05-07交涉"><a href="#2018-05-07交涉" class="headerlink" title="2018/05/07交涉"></a>2018/05/07交涉</h3><p>2017年2月来到粉粉，一开始一直学习进阶姿态。当时c哥来了不久，要成立一个海外团队。当时的人选是LPD(我猜的，毕竟我刚来不太久5月，而LPD 刚好在那个时候选择了回家发展)，后来大师、我、c哥去小会议室说明了计划，任务。<br>我在6、7月份的时候开始和c哥合作，为了合作更愉快，c哥甚至于搬到我位置边。那个时候我只想着更好的处理，学习，进阶，发展。是的，那个时候和他合作的一款绘图，简直让我开心不已，我和他不断交谈，不断完善。后来正要开始一款记账软件的时候，老板也已经没有耐心：没有产品思维，没有变现途径，当断则断的砍掉了该业务。当时我iOS、一个安卓、一个实习编辑(他的口头禅：原来是你小子，把皇君给我的好吃都给吃了回扣了)、c哥就此分开。实习编辑直接辞职；c哥也还想挽回一些结果，但还是回天乏力，于是也选择了离开；我和安卓又回到了之前的岗位了(好奇，我们居然不开掉了？虽然工资一年来没有变化，但是实力绝对学够了，幸好当时没离开，学到就是值);<br>c哥离开前给了我份设计稿，一种MetaBall 的设计记账软件。当时我花了九牛二虎之力，万分努力打磨出来。核心物件出来了，我们又继续打磨产品，打磨整个工程。一开始上线是在c哥账号，叫”Drop”， 后改名叫”小池记账”，再后来改名叫”小泉记账”；<br>真正的问题开始在2018年1月左右。<br>c哥打算喊我去他们公司开发。我心里思考是，如果我去了，按照c哥性格，我估计工资高不到哪去，肯定说什么创业啦，不要在意这么多啦，好好完成功能等等等；学的东西肯定也是不够的。<br>于是c哥说，能把源码给到他们。他的承诺是3个月10w 量，给我3w(我和他一人一半，算是6w)；我不看重这个，这个不是买断，也不是完全合作，我源码一给，相当于我没有任何有利地位了。最终做法：我同意3个月给他尝试，源码给他(核心效果代码做静态库处理，就这他还想要源码，说他们员工很轴，估计当时他就像独吞全部成果吧)，2500给我(相当于5000两人，我做事公平)；<br>我们当时有一款矢量图软件，我有“商店”，但是素材商品快速制作在于c哥手，直到2018年5月终于得到该技术，也就是2018年5月5日周六我前往他们公司，然后c哥终于回忆起来制作历程交付与我(其实教程我之前有一份不完整的，要提交给公司的，但是谁也看不懂，做不出来)。同时作为回馈，我给他们公司员工做一下技术指导，指导过程发现，他们公司的其他好几款其他APP，比如“Uki”，还有其他APP的核心代码都从我那份拷贝得来。这是技术流失。<br>然后如标题，2018年5月7号周一，我与c哥交涉“drop”下一步合作事宜，这天离当时已经有4月多之久(当时的考虑就是还没得到制作画画素材技术，不谈论该话题)；<br>当时我问这个话题的时候，他以为我要3w 的承诺；我说我知道没有10w 的量，但是3个月已过，接下来怎么继续合作；他还说接下来10w 日货，还是承诺2w；兄得，如果把所以权，都给你，就跟我没什么事一样了，拿到我所有源码就这么为所欲为么？那要这么说，我来替你运营，日活10个人，我给你1千万；那些没有意义的承诺。<br>我的字典里一直有句话：</p>
<blockquote>
<p>不要跟比自己境况差的人，讨价还价<br>更不要跟比自己有钱的人，抢着买单</p>
</blockquote>
<p>能让则让，小弟这么拼命给你干活，你就拿到我源码就“你要介意的话，我们下一版代码会重新写”；我的意思很简单，商业利益失败，朋友还要交的，c哥接下来一句“包括涂色的布局ui也不要用我的设计，既然在意就说清楚，大家都有知识产权对吧”，直接挑明了朋友都没得做。那算了，说明我的意义就这么大，就是那个有静态库的源码的价值。<br>行行行，你是项目负责人，全是你的成就。我啥都没有起到作用，毕竟代码书写被你改了嘛。<br>后来的几天，我全力工作，优化那个涂色项目。接下来其实我完全可以就这么卖了“drop”源码，或者开源了，反正对我意义不大，我的能力不是只有drop。得了芝麻“有静态库的源码”丢了西瓜。<br>之前这么崇拜你的我，也算清醒。我觉得我不太吃亏。对我来说，重要的是涂色项目，一个完整生态，商品和商店，而且可以量产。<br>其实回顾来说，我觉得做人真不必如此，你的钱是我10倍多，我连午饭都要去很远很远的食堂，晚饭省钱饿着回家吃的我，都不舍得花钱，有孩子要养，最近又有买房需求，再说，涂色素材技术本应回交公司，我当时还特意解决了c哥公司很多重大崩溃技术，我觉得您真不必如此。<br>最后一次尊重。您高升就好。“drop”我会留下自己开发，不然对你们公司肯定是致命的，毕竟全公司都花时间搞那个了，我公开出去，或者自己搞个差不多的，我的功能肯定比你多，开发比你快、稳定，然后就跟着你的ISO，蹭你们热量，你们会白做的！<br>接下来我继续加油，避开他以前的设计范畴，一些以前我也参与的设计我就不必客气，这不全是你的功劳，不全是你的成就。都是一起探讨出来的，当时我的努力，我身后要保护的人，都提醒我，该客气时客气，该凶时就该认真对待了！<br>之前去他们公司，看他们的代码，确实，一个成功的产品，开发的人还是很重要的。代码规范，模块划分。我猜想，c哥现在公司应该开不久，或者说开不大。<br>前几天开了些文章，他国对中国封锁核弹、氢弹技术，中国克服困难做出来了；他国对中国封锁航天技术，中国又突出重围。我想我也正需要这股拼劲。这几天硬着头皮，老婆小小的学了把一个方便设计的软件，我自己搞了搞ps，把开源的声音、字体、图片等都找全；<br>给自己软件做东西，你会发现，你总是这个做简单点，那个可以省略就省略吧。于是做的总是自己都不满意。回头想想，你给公司做的时候你会这样么？你肯定是硬着头皮也要搞出来，能搞出来的就搞得更好那种。<br>你要的是，把做公司的那种态度用到写自己的上面，同时，规划好时间，集中精力攻破难关。<br>这次学到的东西也很多很多，同时也警醒自己，有些事情一定要思考思考在思考，一定不能出大错。这次错误，算是损失，但是很能忍。<br>毕竟也学了那么多，同时还长进了这么多。<br>应该应该的，小弟就该吃糠，小弟家人就是垃圾，不应该有这么多思想，不应该要求这么多。<br>timestamp: 2018/5/9 田小新</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2018-04-22lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/04/22/2018-04-22lesson/">2018-04-22lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2018/04/22/2018-04-22lesson/" class="article-date">
	  <time datetime="2018-04-22T14:51:41.000Z" itemprop="datePublished">April 22, 2018</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2018/03/14</p>
<h3 id="公司引入零食架，却得”破损率”一说"><a href="#公司引入零食架，却得”破损率”一说" class="headerlink" title="公司引入零食架，却得”破损率”一说"></a>公司引入零食架，却得”破损率”一说</h3><p>听到#破损率#这事情，这种说法，我不能接受。<br>作为企业员工，我不觉得该事件缘由仅因为该无由头的数据，然后单方面说退出，然后就过去了。<br>我坐在公司，我作为公司一份子，和大家相处，我不觉得#破损率# === #物品丢盗#!!!<br>或许#破埙率#没有直接了当说明其 === #物品丢盗#，但是各位同事心中其实已经对其隐喻画上等号。</p>
<ol>
<li>“破损率”由总量和当前剩余量以及所得量(金额 以下称“所得金”)有关。</li>
<li>总量由该公司清点，当前剩余量也由该公司清点</li>
<li>所得金数据也由该公司清点。</li>
</ol>
<p>商品购买模式：<br>购买者在商品架直接挑选；<br>微信网页内购买，选中相应商品、数量。付款。</p>
<p>购买操作复杂，且可能多操作和误操作等无法模拟数据对等情况。<br>对于用户而言，如果卖方没能提供舒适操作，而且没有更多措施防止其己身损失，我想这不是用户的错，这是人的错，或者是，该种买卖信用机制是有问题的。<br>这种将一切信任丢给用户，如果该企业勘察数据到一定量就提出“破损率” 超过xxx，然后退出、无其他正确发言。我觉得一开始就应该提出有这种“商业模式”，或者称“全靠用户信用交易模式”。即使“破损率”接受范围为99%，我觉得该破损情况都有可能变为100%。<br>中间有太多的突破和漏洞:</p>
<ol>
<li>该企业下单，指定数量、种类、时间等到相应公司；</li>
<li>相关商品从仓库到达指定销售架；</li>
<li>商品从开始卖，隔数天就有人抽查；</li>
<li>清点“破损率”</li>
</ol>
<p>以上的2、3、4点都有可能有问题。<br>“三方”：买方、物品运送过程、清点过程人员以及购买页面的操作方。</p>
<p>对于一个无法真正确定是否购买，购买流程是否是闭环，那么就会出现其他流程可以做手脚的机会。因为即使做手脚也可能说“破损率”。<br>那么多的疑点，却全由“破损率”，也即我所在公司内部员工心中已有的定义#物品丢盗# 承担。我没有说是否引进这种便捷小零食商架带来的更多的便利，但带来的负面影响却对公司内部营造的团结、互助、信任带来损害。</p>
<p>综上所述，我不能接受“破损率”一说。</p>
<h3 id="coreData中integer16-integer32-integer64的区别"><a href="#coreData中integer16-integer32-integer64的区别" class="headerlink" title="coreData中integer16,integer32,integer64的区别"></a>coreData中integer16,integer32,integer64的区别</h3><p>摘抄自: <a href="http://blog.csdn.net/juyufeng_huazhu/article/details/50239699" target="_blank" rel="noopener">http://blog.csdn.net/juyufeng_huazhu/article/details/50239699</a><br>Integer 16 can have minimum value of -32,768 to 32,767<br>Integer 32 can have minimum value of -2,147,483,648 to 2,147,483,647<br>Integer 64 can have minimum value of -very large to very large</p>
<h3 id="在viewDidLoad处理完的200ms-如果获取得到数据-那么用户将会无感空白过程"><a href="#在viewDidLoad处理完的200ms-如果获取得到数据-那么用户将会无感空白过程" class="headerlink" title="在viewDidLoad处理完的200ms 如果获取得到数据 那么用户将会无感空白过程"></a>在viewDidLoad处理完的200ms 如果获取得到数据 那么用户将会无感空白过程</h3><h3 id="MAC-查看端口占用"><a href="#MAC-查看端口占用" class="headerlink" title="MAC 查看端口占用"></a>MAC 查看端口占用</h3><p>命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lsof -i tcp:port （list open files）</span><br><span class="line">KILL port</span><br></pre></td></tr></table></figure>
<p>（port替换成端口号，比如6379）可以查看该端口被什么程序占用，并显示PID，方便KILL</p>
<h3 id="React-CSS-布局"><a href="#React-CSS-布局" class="headerlink" title="React CSS 布局"></a>React CSS 布局</h3><p>父容器的style 需要使用flex 魔盒布局时，是要添加display: flex<br>原因是其默认是display: block<br>最终如 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.row1 &#123;</span><br><span class="line">    padding: 30px;</span><br><span class="line">    /* align-content: space-around; */</span><br><span class="line">    flex-direction: row;</span><br><span class="line">    background-color: blue;</span><br><span class="line">    #display: flex#</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="运行麒麟子工程代码"><a href="#运行麒麟子工程代码" class="headerlink" title="运行麒麟子工程代码"></a>运行麒麟子工程代码</h3><p>server 有个start_all_mac.sh 的python 脚本，直接开三个terminal 运行各个句子, 注意点：启动顺序是:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node ./hall_server/app.js ../configs_mac.js</span><br><span class="line">node ./account_server/app.js ../configs_mac.js</span><br><span class="line">node ./game_server/app.js ../configs_mac.js</span><br></pre></td></tr></table></figure>
<p>先开启hall 然后account, 然后game, 不然报错;<br>client 使用scenes：start.scene; 当前CocoaCreator v：1.8; 在运行时出现loadResource 方法找不到：直接注释，直接进入loadScene；<br>浏览器比如： localhost:5876?account=xxx;<br>置顶不同的account 即可debug 测试</p>
<h3 id="pod-更新出错。重点是brew-link-libyaml"><a href="#pod-更新出错。重点是brew-link-libyaml" class="headerlink" title="pod 更新出错。重点是brew link libyaml"></a>pod 更新出错。重点是brew link libyaml</h3><p><a href="https://stackoverflow.com/questions/9434002/how-to-solve-ruby-installation-is-missing-psych-error" target="_blank" rel="noopener">https://stackoverflow.com/questions/9434002/how-to-solve-ruby-installation-is-missing-psych-error</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ brew doctor</span><br><span class="line">$ brew link libyaml</span><br></pre></td></tr></table></figure>
<h3 id="cocoapod-更新极其缓慢，翻墙还是慢"><a href="#cocoapod-更新极其缓慢，翻墙还是慢" class="headerlink" title="cocoapod 更新极其缓慢，翻墙还是慢"></a>cocoapod 更新极其缓慢，翻墙还是慢</h3><p>翻墙可以连接外网了，但是还是很慢。按理不会的，但是原因却在于：翻墙时，浏览器proxy 地址改过，但是terminal 却没有改动，相当于没有翻墙。<br><a href="http://lovean.net/?id=185" target="_blank" rel="noopener">http://lovean.net/?id=185</a><br>使用#export  ALL_PROXY=socks5://127.0.0.1:1080# 将所有proxy 改为该端口，这是翻墙，就非常快了。<br>使用#curl -i <a href="http://ip.cn#" target="_blank" rel="noopener">http://ip.cn#</a> 可以查看当前外网地址看是否翻墙成功</p>
<h3 id="同源策略、跨域解决方案"><a href="#同源策略、跨域解决方案" class="headerlink" title="同源策略、跨域解决方案"></a>同源策略、跨域解决方案</h3><p><a href="https://www.cnblogs.com/rockmadman/p/6836834.html" target="_blank" rel="noopener">https://www.cnblogs.com/rockmadman/p/6836834.html</a></p>
<h3 id="自己的centos-操作"><a href="#自己的centos-操作" class="headerlink" title="自己的centos 操作"></a>自己的centos 操作</h3><p>查看redis在哪个processID<br>ps -ef |grep redis</p>
<p>redis<br>/etc/redis-4.09<br>配置：redis.conf<br>    daemonize no<br>protected-mode yes<br>启动和关闭：<br>                /src<br>                    ./redis-server ../redis.conf     启动redis<br>                    ./redis-cli shutdown        关闭redis</p>
<p>mysql开启<br>service mysqld start</p>
<p>git download nvm<br>nvm conf 配置:<br>vim ~/.bashrc<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#nvm</span><br><span class="line">export NVM_DIR=&quot;/root/GIT/nvm/&quot;</span><br><span class="line">source &quot;$NVM_DIR/nvm.sh&quot;</span><br></pre></td></tr></table></figure></p>
<p>保存之后<br>source ~/.bashrc（修改也需要重启）<br>PATH 和 source ./<br>nvm use 8.11.1<br>这样就可以使用8.11.1 版本的node<br>node -v<br>npm -v</p>
<p>terminal<br>查找某个文件<br>whereis nginx</p>
<p>cd nginx<br>配置<br>$vim conf/nginx.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 末尾括号外面加上下面这一行</span><br><span class="line">include ./vhost/*.conf;</span><br></pre></td></tr></table></figure></p>
<p>创建vhost/<a href="http://www.lsgood.top.conf" target="_blank" rel="noopener">www.lsgood.top.conf</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">http</span><br><span class="line">&#123;</span><br><span class="line">	server</span><br><span class="line">	&#123;</span><br><span class="line">		listen 80;	//通用80端口</span><br><span class="line">		server_name lsgood.top;</span><br><span class="line">		root /root/Blog;	//声明目录</span><br><span class="line">		index index.html;	//html 目录</span><br><span class="line">		location / &#123;	//这个很重要</span><br><span class="line">			proxy_set_header Host $host;</span><br><span class="line">		proxy_set_header x-real-ip $remote_addr;</span><br><span class="line">		proxy_set_header x-forwarded-for $proxy_add_x_forwarded_for;</span><br><span class="line">		proxy_pass http://127.0.0.1:3000/;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后./nginx/sbin/nginx -t</p>
<p>启动nginx :<br>[root nginx] $./sbin/nginx<br>[root nginx] $./sbin/nginx -c ./conf/nginx.conf<br>reload stop nginx :<br>[root nginx] $./sbin/nginx -s reload/stop</p>
<p>查看启动服务<br>netstat -nltp<br>查看所有进程<br>ps -ef<br>ps -ef |grep mysql/redis/node/nginx</p>
<p>修改host<br>vim /etc/hosts<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 lsgood.top</span><br></pre></td></tr></table></figure></p>
<p>然后ping lsgood.top</p>
<p>curl <a href="http://lsgood.top" target="_blank" rel="noopener">http://lsgood.top</a><br>curl 127.0.0.1:3000</p>
<p>腾讯解析域名网站<br>DNSPOD</p>
<p>ll == ls -l<br>ls -a</p>
<p>填写nginx.conf<br>参照多个域名同时对应多个路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#最下面添加如</span><br><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">	a.lsgood.top</span><br><span class="line">	location / &#123;</span><br><span class="line">		127.0.0.1:3000</span><br><span class="line">	&#125;</span><br><span class="line">	location /other0/ &#123;</span><br><span class="line">		127.0.0.1:3001</span><br><span class="line">	&#125;</span><br><span class="line">	location /other1/ &#123;</span><br><span class="line">		127.0.0.1:3002</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">	b.lsgood.top</span><br><span class="line">	location / &#123;</span><br><span class="line">		127.0.0.1:7000</span><br><span class="line">	&#125;</span><br><span class="line">	location /other0/ &#123;</span><br><span class="line">		127.0.0.1:7001</span><br><span class="line">	&#125;</span><br><span class="line">	location /other1/ &#123;</span><br><span class="line">		127.0.0.1:7002</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>阿里云域名购买<br>/域名-解析<br>    /添加解析<br>        /主机记录选填 “*” 子域名前缀<br>        /记录值填写自己的主机IP, 如176.122.191.87</p>
<h3 id="我的服务器操作"><a href="#我的服务器操作" class="headerlink" title="我的服务器操作"></a>我的服务器操作</h3><pre><code>·    后台更换    完成
·    首页每次需要下载素材bug  完成
•    tabbar 栏目图片更换    完成
·    banner
·    section 栏目 完成50%    完成
</code></pre><p>查看redis在哪个processID<br>ps -ef |grep redis</p>
<p>redis<br>/etc/redis-4.09<br>配置：redis.conf<br>    daemonize no<br>protected-mode yes<br>启动和关闭：<br>                /src<br>                    ./redis-server ../redis.conf     启动redis<br>                    ./redis-cli shutdown        关闭redis</p>
<p>mysql开启<br>service mysqld start</p>
<p>git download nvm<br>nvm conf 配置:<br>vim ./.bashrc<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#nvm</span><br><span class="line">export NVM_DIR=&quot;/root/GIT/nvm/&quot;</span><br><span class="line">source &quot;$NVM_DIR/nvm.sh&quot;</span><br></pre></td></tr></table></figure></p>
<p>保存之后<br>source ~/.bashrc（修改也需要重启）<br>PATH 和 source ./<br>nvm use 8.11.1<br>这样就可以使用8.11.1 版本的node<br>node -v<br>npm -v</p>
<p>terminal<br>查找某个文件<br>whereis nginx</p>
<p>cd nginx<br>配置<br>$vim conf/nginx.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 末尾括号外面加上下面这一行</span><br><span class="line">include ./vhost/*.conf;</span><br></pre></td></tr></table></figure></p>
<p>创建vhost/<a href="http://www.lsgood.top.conf" target="_blank" rel="noopener">www.lsgood.top.conf</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">http</span><br><span class="line">&#123;</span><br><span class="line">server&#123;</span><br><span class="line">	listen 80;	//通用80端口</span><br><span class="line">	server_name lsgood.top;</span><br><span class="line">	root /root/Blog;	//声明目录</span><br><span class="line">	index index.html;	//html 目录</span><br><span class="line">	location / &#123;	//这个很重要</span><br><span class="line">		proxy_set_header Host $host;</span><br><span class="line">      proxy_set_header x-real-ip $remote_addr;</span><br><span class="line">      proxy_set_header x-forwarded-for $proxy_add_x_forwarded_for;</span><br><span class="line">      proxy_pass http://127.0.0.1:3000/;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后./nginx/sbin/nginx -t</p>
<p>启动nginx/sbin/nginx</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2018-3-3lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2018/03/04/2018-3-3lesson/">2018/3/4Lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2018/03/04/2018-3-3lesson/" class="article-date">
	  <time datetime="2018-03-04T13:48:44.000Z" itemprop="datePublished">March 4, 2018</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017/10/12</p>
<h3 id="Xcode-9-beta-3-breaks-the-new-os-log-logger-883"><a href="#Xcode-9-beta-3-breaks-the-new-os-log-logger-883" class="headerlink" title="Xcode 9 beta 3 breaks the new os_log logger #883"></a>Xcode 9 beta 3 breaks the new os_log logger #883</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">if (message) &#123;</span><br><span class="line">        const char *msg = [message UTF8String];</span><br><span class="line">        switch (logMessage-&gt;_flag) &#123;</span><br><span class="line">            case DDLogFlagError     :</span><br><span class="line">                os_log_error(OS_LOG_DEFAULT, &quot;%s&quot;, msg);</span><br><span class="line">                break;</span><br><span class="line">            case DDLogFlagWarning   :</span><br><span class="line">            case DDLogFlagInfo      :</span><br><span class="line">                os_log_info(OS_LOG_DEFAULT, &quot;%s&quot;, msg);</span><br><span class="line">                break;</span><br><span class="line">            case DDLogFlagDebug     :</span><br><span class="line">            case DDLogFlagVerbose   :</span><br><span class="line">            default                 :</span><br><span class="line">                os_log_debug(OS_LOG_DEFAULT, &quot;%s&quot;, msg);</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="记一下昨晚2017-10-30-学习拆换苹果手机电池过程"><a href="#记一下昨晚2017-10-30-学习拆换苹果手机电池过程" class="headerlink" title="记一下昨晚2017/10/30 学习拆换苹果手机电池过程"></a>记一下昨晚2017/10/30 学习拆换苹果手机电池过程</h3><p>1：手机底部螺丝拧开<br>2：用提供的吸盘将屏幕吸起（可以用个牙签什么的顶住，然后一一打开）<br>3：将电池右下角的一个金属盖拧开，有两个螺丝<br>4：此时已经可以拔起该连接线<br>接下来几步是重点：<br>5：刮下电池底部膜，刮到出现白色黏条<br>6：白色黏条最重要！：慢慢把他抽出来。<br>总共左右两条黏条，千万不要抽断，不然要翘起电池，用牙签或其他方便工具卷着给他抽出来。<br>7：然后于是就把电池取出来了。<br>8：装上新电池，测试一下能不能成功开机。<br>9：买电池会送白色黏条。这时留一点在外面，白色黏条箭头在顶部。先把白色黏条黏在电池底部，然后黏在电池仓。<br>10：按着之前方式拧上螺丝，合上盖。<br>完成</p>
<h3 id="git-回退到本地commit的某个SHA-1"><a href="#git-回退到本地commit的某个SHA-1" class="headerlink" title="git 回退到本地commit的某个SHA-1"></a>git 回退到本地commit的某个SHA-1</h3><p>根据-–soft -–mixed -–hard，会对working tree和index和HEAD进行重置:<br>    git reset -–mixed：此为默认方式，不带任何参数的git reset，即时这种方式，它回退到某个版本，只保留源码，回退commit和index信息<br>    git reset -–soft：回退到某个版本，只回退了commit的信息，不会恢复到index file一级。如果还要提交，直接commit即可<br>    git reset -–hard：彻底回退到某个版本，本地的源码也会变为上一个版本的内容</p>
<p>例如：git reset –hard SHA-1   此时的SHA-1 可以使用sourcetree 查看；或者使用git log 也可查看到该SHA-1</p>
<h3 id="iOS-手机震动"><a href="#iOS-手机震动" class="headerlink" title="iOS 手机震动"></a>iOS 手机震动</h3><p>// 普通短震，3D Touch 中 Peek 震动反馈<br>AudioServicesPlaySystemSound(1519);</p>
<p>// 普通短震，3D Touch 中 Pop 震动反馈<br>AudioServicesPlaySystemSound(1520);</p>
<p>// 连续三次短震<br>AudioServicesPlaySystemSound(1521);</p>
<h3 id="这里记录一次昨天下午讨论团队职业规划过程及感悟"><a href="#这里记录一次昨天下午讨论团队职业规划过程及感悟" class="headerlink" title="这里记录一次昨天下午讨论团队职业规划过程及感悟"></a>这里记录一次昨天下午讨论团队职业规划过程及感悟</h3><p>既然是团队职业规划，那当时是要将团队提升作为目标。<br>个人升级是最重要，自己不升级，怎么有话题，如何跟别人谈共享、交流、提升？<br>OK，自己升级，学习完，交流，交流之中补足，这很好。<br>最近任务要稍微好些，比刚从海外团队回来时间要充沛一些。早上从10点开始搞，基本下午进度好，能在8点左右完成，回家。此时基本整个人再也不想看电脑屏幕了，我想吐~~~咦，你不是热爱写代码吗？我去你妈的热爱写代码，去你妈的热爱。热爱是建立的单纯的想写代码，当和职业挂钩，每天重重复复，去你妈的还能每时每刻保有最初的心。<br>接着回到家，嗯，团队升级嘛，但是自己还有挺多的事，比如我自己手上还有3、4个小玩意进度才开启；哦，我还没吃饭，世界最好吃的饭是陪家人，于是等老婆也累的半死回到家，俩人在21点到22：20之间吃完饭。这时心里有点空荡荡的，接下来的时间每天比例，一半休息掉（再嘴里吼着“不能浪费时间，学习工作”的，你把头伸过来，大哥给你看个宝贝），另一半写自己的小东西，探索道路。玩能到12点半，工作也能到12点半。<br>第二天早上来，把公司所为的“两小时一次记录工作了啥”的邮件发了。真不知道这“两小时”记录是什么鬼，写重复的也不是，但是不写，更不是，又是心里一句去他妈的, 当然知道这是上上上层安排的，对大师博士还是一如既往尊敬。<br>周六是单双休，周日是都有休息。周六当时的规定是到公司学习，补足，交流，如果工作有没完成的，可以完成。你懂得，工作太足，就怕你闲着，怕你闲出病到时按工伤就不好了，于是基本周六都是工作木有两样。之前我有过思路：如果早上把PPT 赶好，中午的时候和大家交流最近学习、工作进展。那这挺好。但是从来周六都是工作，嘿嘿，这理由真他妈给力。周六要不就是我单纯学习自己的小知识点，但是能拿来讲的没能汇聚，只能自己独自搞一些小工程进行最佳实践。所以大师那句，“都没见你分享几篇”，给蛋疼的，不是不想不愿，而是无时无力。<br>“时间是挤出来的”<br>谁谁谁，这句话谁说的，把头伸过来，我给他看个宝贝。<br>你有生活，我没有生活的啊？你每天都能跟狗一样学习，不知疲倦？每天还跟大学一般拼了这条狗命的？<br>是的，我工作时候用心，我特么在工作中确实拼了这条狗命。每天下班都是难得休息，难得让脑袋放空。<br>团队提升，团队职业规划。这些都是要建立良好的机制，良好的环境。我特么自己忙的死了，还要陪他们玩团队职业规划的游戏。<br>我曰。<br>每天自己加油了。只能自己Add Oil了。<br>之前也有几次，他们讲一些知识，我去学习听讲。如果有机会，我就只能当做code review 来跟进。这是最好的结果了。<br>当然，一切建立在，周六上午能空闲一下的基础上。</p>
<h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><p>1：由于用到贴图，网上寻觅不得.<br>只说 UIGraphicsBeginImageContext(&lt;#CGSize size#&gt;)-&gt;换成UIGraphicsBeginImageContextWithOptions(&lt;#CGSize size#&gt;,&lt;#Bool opaque#&gt;,&lt;#CGFloat scale#&gt;)<br>上面这句话是重点 scale是缩放因子，使用[UIScreen mainScreen].scale即可；<br>中间的opaque是识别里面有没有alpha通道，如果有通道则填入NO，相反的哦；<br>size则为你的图片的大小，比如上面一张大图，下面一张watermark，这size为大图的大小，毕竟大图在下面，第一个放入的； 这样子图片就会变为高清！！！没错，如果还没有变为高清，是有另一个原因的，那就是你的贴图不是@2x或者@3x的倍率，将其放入图片文件夹或者source，加入后缀，一定使用@3x，@2x也不怎么清晰！！！<br>最后一步才是本文重点.<br>网上没人说，自己尝试出来的</p>
<p>这一段是苹果私密api，用来找出Reveal的各个APP的bundleID，挺好用的<br>// Class<br>LSApplicationWorkspace_class = objc_getClass(“LSApplicationWorkspace”);<br>//<br>NSObject<em> workspace = [LSApplicationWorkspace_class performSelector:@selector(defaultWorkspace)];<br>//<br>NSArray </em>array = [workspace performSelector:@selector(allApplications)];<br>// id a = array[0];<br>//<br>NSLog(@”apps: %@”, [workspace performSelector:@selector(allApplications)]);</p>
<h3 id="ASOverLayoutSpec"><a href="#ASOverLayoutSpec" class="headerlink" title="ASOverLayoutSpec"></a>ASOverLayoutSpec</h3><p>这里用到ASStackLayoutSpec 布局。之前都是从上往下布局完，样式OK。<br>但是新的需求来了，要求在其上面加上一个蒙版：<br>布局，我使用ASBackgroundLayoutSpec child 是上面的蒙版；back 是之前的背景布局；<br>但是总是出现拉伸；<br>后来试试使用ASOverLayoutSpec 返回来，试图终于如愿了。</p>
<h3 id="最近在学习js"><a href="#最近在学习js" class="headerlink" title="最近在学习js"></a>最近在学习js</h3><p>看阮一峰的文章ing…<br>从其早期JavaScript 文章往现在的时间线看。边看边敲command+shift+i<br>看廖雪峰JavaScript 文章</p>
<h3 id="scrollView-contentSize"><a href="#scrollView-contentSize" class="headerlink" title="scrollView.contentSize"></a>scrollView.contentSize</h3><p>如果scrollView 不想上下出现拉动bug，将contentSize.height 设为0；否则contentSize.width 设为0；会默认设置为等大小试图</p>
<h3 id="2018-1-10打包静态库-包含第三方库"><a href="#2018-1-10打包静态库-包含第三方库" class="headerlink" title="2018/1/10打包静态库(包含第三方库)"></a>2018/1/10打包静态库(包含第三方库)</h3><p><a href="https://www.jianshu.com/p/155a3cfb765e?utm_campaign=hugo" target="_blank" rel="noopener">https://www.jianshu.com/p/155a3cfb765e?utm_campaign=hugo</a><br><a href="https://www.jianshu.com/p/13bf46df9387" target="_blank" rel="noopener">https://www.jianshu.com/p/13bf46df9387</a><br>1：此处注意一点：需要输出包含有第三方的静态库，那么直接在拖进控件的时候不要选择”add to target”;<br>2：在Build Phrase 的compile Source 确认需要到处的多少个类<br>3：设置适配所有模拟器架构 project -&gt; buildSeting -&gt; Build Active Architecture Only 设为NO<br>以上两个目录把所有需要打包静态库的步骤和所需操作都罗列了。</p>
<h3 id="创建podSpec"><a href="#创建podSpec" class="headerlink" title="创建podSpec"></a>创建podSpec</h3><p><a href="https://www.jianshu.com/p/d7d1942dd3f1" target="_blank" rel="noopener">https://www.jianshu.com/p/d7d1942dd3f1</a><br>此处source 需要把目录改为对应目录。比如里面的文件夹需要/xxx/$.h/m</p>
<h3 id="记录一次粉粉匿名做动画CAAnimation-的keyframe-动画和POP-动画同时存在产生的问题"><a href="#记录一次粉粉匿名做动画CAAnimation-的keyframe-动画和POP-动画同时存在产生的问题" class="headerlink" title="记录一次粉粉匿名做动画CAAnimation 的keyframe 动画和POP 动画同时存在产生的问题"></a>记录一次粉粉匿名做动画CAAnimation 的keyframe 动画和POP 动画同时存在产生的问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">POPAnimatableProperty *property = [POPAnimatableProperty propertyWithName:@&quot;com.ffrj.starMove&quot; initializer:^(POPMutableAnimatableProperty *prop) &#123;</span><br><span class="line">                prop.writeBlock = ^(CALayer *obj, const CGFloat *values) &#123;</span><br><span class="line">                    CGFloat currentTime = values[0];</span><br><span class="line">                    obj.timeOffset = currentTime;</span><br><span class="line">                &#125;;</span><br><span class="line">                prop.threshold = 0.01;</span><br><span class="line">            &#125;];</span><br><span class="line">            POPBasicAnimation *animation = [POPBasicAnimation animation];</span><br><span class="line">            animation.fromValue = @0;</span><br><span class="line">            animation.duration = 0;</span><br><span class="line">            animation.property = property;</span><br><span class="line">            [popArr addObject:animation];</span><br><span class="line">            //</span><br><span class="line">            CGPoint startPoint = YYTextCGRectGetCenter(starBtn.frame);</span><br><span class="line">            CGPoint endPoint = CGPointMake((i+1)*minScaleWidth+30, 35+kTopStatusBarAndNavHeight);</span><br><span class="line">            CGPoint controlPoint = CGPointMake((endPoint.x+30), (YYTextCGRectGetCenter(starBtn.frame).y-endPoint.y)/2.0);</span><br><span class="line">            UIBezierPath *path = [UIBezierPath bezierPath];</span><br><span class="line">            [path moveToPoint:startPoint];</span><br><span class="line">            [path addQuadCurveToPoint:endPoint controlPoint:controlPoint];</span><br><span class="line">            CAKeyframeAnimation *positionAnimation = [CAKeyframeAnimation animation];</span><br><span class="line">            positionAnimation.keyPath = @&quot;position&quot;;</span><br><span class="line">            positionAnimation.path = path.CGPath;</span><br><span class="line">            CABasicAnimation *scaleAnimation = [CABasicAnimation animationWithKeyPath:@&quot;transform.scale&quot;];</span><br><span class="line">            scaleAnimation.fromValue    = @1;</span><br><span class="line">            scaleAnimation.toValue      = @0.0;</span><br><span class="line">            CABasicAnimation *opacityAnimation = [CABasicAnimation animationWithKeyPath:@&quot;opacity&quot;];</span><br><span class="line">            opacityAnimation.fromValue  = @1.0;</span><br><span class="line">            opacityAnimation.toValue    = @0.0;</span><br><span class="line">            CAAnimationGroup *animationGroup = [CAAnimationGroup animation];</span><br><span class="line">            [animationGroup setAnimations:@[positionAnimation,scaleAnimation, opacityAnimation]];</span><br><span class="line">            animationGroup.duration = 1.0;</span><br><span class="line">            animationGroup.removedOnCompletion=NO;</span><br><span class="line">            animationGroup.fillMode=kCAFillModeForwards;</span><br><span class="line">            [starBtn.layer addAnimation:animationGroup forKey:@&quot;animationGroup&quot;];</span><br><span class="line">            starBtn.layer.speed = 0.0;</span><br></pre></td></tr></table></figure>
<p>上面是加了CAAnimation 动画， 但是同时还加入了POP 某一个animation 的上下浮动位移动画:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">if (!_startedAnimated) &#123;</span><br><span class="line">        _startedAnimated = YES;</span><br><span class="line">        [self.starArray enumerateObjectsUsingBlock:^(UIButton * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123;</span><br><span class="line">            POPBasicAnimation *basicAnimation = [POPBasicAnimation animationWithPropertyNamed:kPOPLayerPositionY];</span><br><span class="line">            basicAnimation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];</span><br><span class="line">            basicAnimation.duration = 1.3;</span><br><span class="line">            basicAnimation.beginTime = CACurrentMediaTime()+(arc4random()%30*0.033);</span><br><span class="line">            basicAnimation.toValue = @(obj.centerY-8);</span><br><span class="line">            basicAnimation.autoreverses = YES;</span><br><span class="line">            basicAnimation.repeatForever = YES;</span><br><span class="line">            [obj.layer pop_addAnimation:basicAnimation forKey:NSStringFromSelector(_cmd)];</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>这时出现了浮动POP 动画无法启动情况。<br>这里处理为: 在 prop.writeBlock 里面，使用贝塞尔数值计算进行位移。</p>
<h3 id="这里记录一次js-function-和箭头函数不同点"><a href="#这里记录一次js-function-和箭头函数不同点" class="headerlink" title="这里记录一次js function 和箭头函数不同点"></a>这里记录一次js function 和箭头函数不同点</h3><ul>
<li>function 里面的this 指针是内部函数，外部需要const 一个。</li>
</ul>
<p>箭头函数 由于内部将this 置空，他是没有this 的，他的this 属于外部调用的。同时，由于没有this 指针，所以其arguments 也是undefined 的。</p>
<ul>
<li>module.export = xxx / exports default xxx / export = xxx 区别</li>
</ul>
<h3 id="写一个比较简洁的iOS-并发获取数据，combine-之后返回"><a href="#写一个比较简洁的iOS-并发获取数据，combine-之后返回" class="headerlink" title="写一个比较简洁的iOS 并发获取数据，combine 之后返回"></a>写一个比较简洁的iOS 并发获取数据，combine 之后返回</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">- (void)getPlannerRShopBanner</span><br><span class="line">&#123;</span><br><span class="line">    @weakify(self);</span><br><span class="line">    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</span><br><span class="line">        @strongify(self);</span><br><span class="line">        __block NSArray *recommandArray = nil;</span><br><span class="line">        __block NSArray *plannerNewsArray = nil;</span><br><span class="line">        __block NSUInteger count = 0;</span><br><span class="line">        dispatch_semaphore_t semaphore_t = dispatch_semaphore_create(0);</span><br><span class="line">        [self.apiSession getPlannerShopBannerAndCallback:^(NSArray *model, PCError *error) &#123;</span><br><span class="line">            if (isValidArray(model) &amp;&amp; model.count &gt; 0) &#123;</span><br><span class="line">                count ++;</span><br><span class="line">                recommandArray = model;</span><br><span class="line">                if (count == 2) &#123;</span><br><span class="line">                    dispatch_semaphore_signal(semaphore_t);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                dispatch_semaphore_signal(semaphore_t);</span><br><span class="line">            &#125;</span><br><span class="line">            [self autoSavePlannerDataChange];</span><br><span class="line">        &#125;];</span><br><span class="line">        [self.apiSession getNewPlannerBannerCallback:^(NSArray *model, PCError *error) &#123;</span><br><span class="line">            if (isValidArray(model) &amp;&amp; model.count &gt; 0) &#123;</span><br><span class="line">                count ++;</span><br><span class="line">                plannerNewsArray = model;</span><br><span class="line">                if (count == 2) &#123;</span><br><span class="line">                    dispatch_semaphore_signal(semaphore_t);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                dispatch_semaphore_signal(semaphore_t);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;];</span><br><span class="line">        dispatch_semaphore_wait(semaphore_t, DISPATCH_TIME_FOREVER);</span><br><span class="line">        dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">            if (count == 2) &#123;</span><br><span class="line">                dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                    self.view.headerRecommandDict = [recommandArray firstObject];</span><br><span class="line">                    self.view.headerPlannerNewsDict = [plannerNewsArray firstObject];</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                DLog(@&quot;没有获取到ad 或者某个ad 获取失败&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="这里记录一个前端在解析json字符串-内容包含-n-产生无法解析且报错情景"><a href="#这里记录一个前端在解析json字符串-内容包含-n-产生无法解析且报错情景" class="headerlink" title="这里记录一个前端在解析json字符串,内容包含#\n# 产生无法解析且报错情景"></a>这里记录一个前端在解析json字符串,内容包含#\n# 产生无法解析且报错情景</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if ([json containsString:@&quot;\n&quot;]) &#123;</span><br><span class="line">        json = [json stringByReplacingOccurrencesOfString:@&quot;\n&quot; withString:@&quot;\\u000A&quot;];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>首先解决方案如上，在解析前先替换该字符为ascii码。</p>
<p>出现的错误：<code>Printing description of error:Error Domain=NSCocoaErrorDomain Code=3840 &quot;Unescaped control character around character 90.&quot; UserInfo={NSDebugDescription=Unescaped control character around character 90.}</code></p>
<p>出现的类似语句:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"font"</span>:&#123;&#125;,<span class="attr">"stickDate"</span>:<span class="string">""</span>,<span class="attr">"bookId"</span>:<span class="number">18558</span>,<span class="attr">"diaryType"</span>:<span class="number">0</span>,<span class="attr">"diaryEmotionNode"</span>:&#123;<span class="attr">"content"</span>:<span class="string">"1♡</span></span><br><span class="line"><span class="string">可乐要加冰</span></span><br><span class="line"><span class="string">柠檬要加水</span></span><br><span class="line"><span class="string">我的生活要加你</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">咖啡要加糖</span></span><br><span class="line"><span class="string">披萨要加盐</span></span><br><span class="line"><span class="string">我们的感情要加点油</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">别说什么东南西北都是你</span></span><br><span class="line"><span class="string">别说什么天涯海角都是你</span></span><br><span class="line"><span class="string">别说什么心里眼里都是你</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">我只需要你说</span></span><br><span class="line"><span class="string">你的生活加点我.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">或者给我一条人生建议</span></span><br><span class="line"><span class="string">让我和你在一起.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">感情不要甜言蜜语</span></span><br><span class="line"><span class="string">不要纠缠不休.</span></span><br><span class="line"><span class="string">只需要一句“我喜欢你”</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">感谢收听悦兮电台第六期《要加点你》</span></span><br><span class="line"><span class="string">我是主播:苏雨诺</span></span><br><span class="line"><span class="string">编辑:苏雨纤</span></span><br><span class="line"><span class="string">写文:江抒</span></span><br><span class="line"><span class="string">本次播音结束，请大家期待下一期～"</span>,<span class="attr">"imageList"</span>:[]&#125;,<span class="attr">"geo"</span>:&#123;<span class="attr">"region"</span>:<span class="string">"普陀区"</span>,<span class="attr">"city"</span>:<span class="string">"上海市"</span>,<span class="attr">"address"</span>:<span class="string">"上海市普陀区云岭东路靠近东渡国际嘉庭广场"</span>,<span class="attr">"longitude"</span>:<span class="string">"121.387844"</span>,<span class="attr">"latitude"</span>:<span class="string">"31.222706"</span>,<span class="attr">"name"</span>:<span class="string">"东渡国际嘉庭广场"</span>,<span class="attr">"province"</span>:<span class="string">"上海市"</span>&#125;,<span class="attr">"lbsChange"</span>:<span class="number">0</span>,<span class="attr">"lbs"</span>:&#123;<span class="attr">"region"</span>:<span class="string">"普陀区"</span>,<span class="attr">"city"</span>:<span class="string">"上海市"</span>,<span class="attr">"address"</span>:<span class="string">"上海市普陀区云岭东路靠近东渡国际嘉庭广场"</span>,<span class="attr">"longitude"</span>:<span class="string">"121.387844"</span>,<span class="attr">"latitude"</span>:<span class="string">"31.222706"</span>,<span class="attr">"name"</span>:<span class="string">"东渡国际嘉庭广场"</span>,<span class="attr">"province"</span>:<span class="string">"上海市"</span>&#125;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"content"</span>:<span class="string">"23333♡\n可乐要加冰\n柠檬要加水\n我的生活要加你\n\n咖啡要加糖\n披萨要加盐\n我们的感情要加点油\n\n别说什么东南西北都是你\n别说什么天涯海角都是你\n别说什么心里眼里都是你\n\n我只需要你说\n你的生活加点我.\n\n或者给我一条人生建议\n让我和你在一起.\n\n感情不要甜言蜜语\n不要纠缠不休.\n只需要一句“我喜欢你”\n\n感谢收听悦兮电台第六期《要加点你》\n我是主播:苏雨诺\n编辑:苏雨纤\n写文:江抒\n本次播音结束，请大家期待下一期～"</span>,<span class="attr">"imageList"</span>:[]&#125;</span><br></pre></td></tr></table></figure>
<h3 id="今天2018-2-9-放假过年啦"><a href="#今天2018-2-9-放假过年啦" class="headerlink" title="今天2018/2/9 放假过年啦"></a>今天2018/2/9 放假过年啦</h3><h3 id="2018-2-24-redis-的homebrew-安装"><a href="#2018-2-24-redis-的homebrew-安装" class="headerlink" title="2018/2/24 redis 的homebrew 安装"></a>2018/2/24 redis 的homebrew 安装</h3><p><a href="http://blog.csdn.net/chenshuai1993/article/details/51519384" target="_blank" rel="noopener">http://blog.csdn.net/chenshuai1993/article/details/51519384</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">什么是原子性,什么是原子性操作？</span><br><span class="line">举个例子：</span><br><span class="line">A想要从自己的帐户中转1000块钱到B的帐户里。那个从A开始转帐，到转帐结束的这一个过程，称之为一个事务。在这个事务里，要做如下操作：</span><br><span class="line"> 1. 从A的帐户中减去1000块钱。如果A的帐户原来有3000块钱，现在就变成2000块钱了。</span><br><span class="line"> 2. 在B的帐户里加1000块钱。如果B的帐户如果原来有2000块钱，现在则变成3000块钱了。</span><br><span class="line">如果在A的帐户已经减去了1000块钱的时候，忽然发生了意外，比如停电什么的，导致转帐事务意外终止了，而此时B的帐户里还没有增加1000块钱。那么，我们称这个操作失败了，要进行回滚。回滚就是回到事务开始之前的状态，也就是回到A的帐户还没减1000块的状态，B的帐户的原来的状态。此时A的帐户仍然有3000块，B的帐户仍然有2000块。</span><br><span class="line">我们把这种要么一起成功（A帐户成功减少1000，同时B帐户成功增加1000），要么一起失败（A帐户回到原来状态，B帐户也回到原来状态）的操作叫原子性操作。</span><br><span class="line">如果把一个事务可看作是一个程序,它要么完整的被执行,要么完全不执行。这种特性就叫原子性。</span><br></pre></td></tr></table></figure>
<blockquote>
<p>mac 下安装也可以使用 homebrew，homebrew 是 mac 的包管理器。</p>
</blockquote>
<p>1、执行 brew install redis</p>
<p>2、启动 redis，可以使用后台服务启动 brew services start redis。或者直接启动：redis-server /usr/local/etc/redis.conf</p>
<p>在远程服务上执行命令<br>redis-cli -h host -p port -a password</p>
<p>查看redis服务是否启动</p>
<p>ps aux | grep redis</p>
<p>这篇文章也不错<br><a href="https://www.jianshu.com/p/af33284aa57a" target="_blank" rel="noopener">https://www.jianshu.com/p/af33284aa57a</a></p>
<h3 id="记一次Mac-node-logger-保存path-权限问题"><a href="#记一次Mac-node-logger-保存path-权限问题" class="headerlink" title="记一次Mac node logger 保存path 权限问题"></a>记一次Mac node logger 保存path 权限问题</h3><p>记一次运行node 服务器，其logger 记录path 在xxxx。<br>该目录没有获得权限，为只读。<br>错误表现：console 一直print：<br>ERROR 29252 [egg-logger] [/data0/wwwlogs/envelop.xxxx.com/logs/xxx-envelop-2000/egg-web.log] Error: EACCES: permission denied, open ‘/data0/wwwlogs/envelop.xxxx.com/logs/xxx-envelop-2018/egg-web.log’<br>解决方案:</p>
<ol>
<li><p>ctrl C 打断输出</p>
</li>
<li><p>在ternimal cd 到该目录,如:<code>$ cd /data0/wwwlogs/envelop.xxxx.com/logs/xxx-envelop-2000</code></p>
</li>
<li>然后 <code>$ chmod -R 777 *</code></li>
</ol>
<blockquote>
<p>将该目录下使用递归 赋予777 权限(chmod : change mode ,-R recursive, 777 可读可写权限)</p>
</blockquote>
<h3 id="将本地git-push-到远程repository"><a href="#将本地git-push-到远程repository" class="headerlink" title="将本地git push 到远程repository"></a>将本地git push 到远程repository</h3><p>git init<br>git commit -m “first commit”<br>git remote add origin <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:shaohung001/ahuang_project.git<br>git push -u origin master</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-08-29lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/10/06/2017-08-29lesson/">2017-08-29lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/10/06/2017-08-29lesson/" class="article-date">
	  <time datetime="2017-10-06T12:23:31.000Z" itemprop="datePublished">October 6, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017/8/29<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">NSURL *url = [NSURL URLWithString: @&quot;http://www.baidu.com/s?tn=baiduhome_pg&amp;bs=NSRUL&amp;f=8&amp;rsv_bp=1&amp;rsv_spt=1&amp;wd=NSurl&amp;inputT=2709&quot;];  </span><br><span class="line">NSLog(@&quot;Scheme: %@&quot;, [url scheme]); </span><br><span class="line">NSLog(@&quot;Host: %@&quot;, [url host]); </span><br><span class="line">NSLog(@&quot;Port: %@&quot;, [url port]);  </span><br><span class="line">NSLog(@&quot;Path: %@&quot;, [url path]);  </span><br><span class="line">NSLog(@&quot;Relative path: %@&quot;, [url relativePath]); </span><br><span class="line">NSLog(@&quot;Path components as array: %@&quot;, [url pathComponents]);   </span><br><span class="line">NSLog(@&quot;Parameter string: %@&quot;, [url parameterString]);  </span><br><span class="line">NSLog(@&quot;Query: %@&quot;, [url query]);   </span><br><span class="line">NSLog(@&quot;Fragment: %@&quot;, [url fragment]); </span><br><span class="line">NSLog(@&quot;User: %@&quot;, [url user]); </span><br><span class="line">NSLog(@&quot;Password: %@&quot;, [url password]);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2012-03-31 18:22:20.904 SmallDemoList[5473:11603] 12131232</span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Scheme: http </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Host: www.baidu.com </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Port: (null) </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Path: /s </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Relative path: /s </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Path components as array: ( </span><br><span class="line"> &quot;/&quot;, </span><br><span class="line">) </span><br><span class="line">2012-03-31 18:22:20.916 SmallDemoList[5473:11603] Parameter string: (null) </span><br><span class="line">2012-03-31 18:22:20.917 SmallDemoList[5473:11603] Query: tn=baiduhome_pg&amp;bs=NSRUL&amp;f=8&amp;rsv_bp=1&amp;rsv_spt=1&amp;wd=NSurl&amp;inputT=2709</span><br><span class="line">2012-03-31 18:22:20.917 SmallDemoList[5473:11603] Fragment: (null) </span><br><span class="line">2012-03-31 18:22:20.917 SmallDemoList[5473:11603] User: (null) </span><br><span class="line">2012-03-31 18:22:20.917 SmallDemoList[5473:11603] Password: (null)</span><br></pre></td></tr></table></figure>
<hr>
<p>sourcetree 自己比较常用的<br>1：amand 钩子 对本地的进行amand<br>2：将“xxx”重置到本次提交 - 强行合并 丢弃所有工作副本改动       将本地数据回调到选中版本，删除所有工作副本<br>3：要commit 前，查看所有改动，确认所有改动是否正确</p>
<h3 id="接下来的时间，是时候拆解一个项目，成为一个一个精品轮子了"><a href="#接下来的时间，是时候拆解一个项目，成为一个一个精品轮子了" class="headerlink" title="接下来的时间，是时候拆解一个项目，成为一个一个精品轮子了"></a>接下来的时间，是时候拆解一个项目，成为一个一个精品轮子了</h3><ul>
<li>日记</li>
<li>单位换算</li>
<li>BMI</li>
<li>手账</li>
<li>给他们写一个小型聊天demo</li>
</ul>
<h3 id="记一次输入键盘-在inputView替换状态resignKeyboard-出现的问题"><a href="#记一次输入键盘-在inputView替换状态resignKeyboard-出现的问题" class="headerlink" title="记一次输入键盘 在inputView替换状态resignKeyboard 出现的问题"></a>记一次输入键盘 在inputView替换状态resignKeyboard 出现的问题</h3><p>其中在 emoji状态，如果resign 那么其会走 showKeyboard 和hideKeyboard ，由于keyboard 比较慢，，会出现completion 最慢，，最后导致界面不能滑动</p>
<h3 id="导航栏的几种推栈、退栈"><a href="#导航栏的几种推栈、退栈" class="headerlink" title="导航栏的几种推栈、退栈"></a>导航栏的几种推栈、退栈</h3><ol>
<li>没导航栏-&gt;有导航栏   没导航栏&lt;-有导航栏</li>
<li>有导航栏-&gt;有导航栏   有导航栏&lt;-有导航栏</li>
<li>没导航栏-&gt;没导航栏   没导航栏&lt;-没导航栏</li>
</ol>
<p>这一类都是需要注意的一个地方，在viewwillApeare 和viewWillDisapear 2个方法里面的对应2个方法优化:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.navigationController.navigationBarHidden = YES;</span><br><span class="line">[self.navigationController setNavigationBarHidden:YES animated:animated];</span><br></pre></td></tr></table></figure></p>
<h3 id="日期格式"><a href="#日期格式" class="headerlink" title="日期格式"></a>日期格式</h3><p><a href="http://www.cnblogs.com/wayne23/archive/2013/03/25/2981009.html" target="_blank" rel="noopener">http://www.cnblogs.com/wayne23/archive/2013/03/25/2981009.html</a></p>
<p>时间与日期处理</p>
<p>主要有以下类：<br>NSDate – 表示一个绝对的时间点<br>NSTimeZone – 时区信息<br>NSLocale – 本地化信息<br>NSDateComponents – 一个封装了具体年月日、时秒分、周、季度等的类<br>NSCalendar – 日历类，它提供了大部分的日期计算接口，并且允许您在NSDate和NSDateComponents之间转换<br>NSDateFormatter – 用来在日期和字符串之间转换</p>
<p>NSDate</p>
<p>NSDate用来表示公历的GMT时间(格林威治时间)。 有下面几种初始化方法：</p>
<ol>
<li><ul>
<li>(id)init</li>
</ul>
</li>
</ol>
<p>默认初始化，返回当前时间，也可以直接调用类方法 +(id)date</p>
<p>NSDate <em>date = [[NSDate alloc] init];<br>//NSDate </em>date = [NSDate date];<br>NSLog(@”print date is %@”,date);<br>将打印出计算机当前时间：2013-03-04 08:57:20 +0000</p>
<ol start="2">
<li><ul>
<li>(id)initWithTimeIntervalSinceNow:(NSTimeInterval)seconds</li>
</ul>
</li>
</ol>
<p>以当前时间的偏移秒数来初始化，也可以直接调用类方法 + (id)dateWithTimeIntervalSinceNow:(NSTimeInterval)seconds</p>
<p>NSDate <em>date = [[NSDate alloc] initWithTimeIntervalSinceNow:20];<br>//NSDate </em>date = [NSDate dateWithTimeIntervalSinceNow:20];<br>NSLog(@”print date is %@”,date);<br>假如当前时间是2013-03-04 08:57:20 +0000，那么初始化后得到的时间是2013-03-04 08:57:40 +0000</p>
<ol start="3">
<li><ul>
<li>(id)initWithTimeIntervalSince1970:(NSTimeInterval)seconds</li>
</ul>
</li>
</ol>
<p>以GMT时间的偏移秒数来初始化，也可以直接调用类方法 + (id)dateWithTimeIntervalSince1970:(NSTimeInterval)seconds</p>
<p>NSDate <em>date = [[NSDate alloc] initWithTimeIntervalSince1970:-20];<br>//NSDate </em>date = [NSDate dateWithTimeIntervalSince1970:-20];<br>NSLog(@”print date is %@”,date);<br>得到的时间是格林威治时间往前20秒，将打印出：1969-12-31 23:59:40 +0000</p>
<ol start="4">
<li><ul>
<li>(id)initWithTimeIntervalSinceReferenceDate:(NSTimeInterval)seconds</li>
</ul>
</li>
</ol>
<p>以2001-1-1 0:0:0的偏移秒数来初始化，也可以直接调用类方法 + (id)dateWithTimeIntervalSinceReferenceDate:(NSTimeInterval)seconds</p>
<p>NSDate <em>date = [[NSDate alloc] initWithTimeIntervalSinceReferenceDate:80];<br>//NSDate </em>date = [NSDate dateWithTimeIntervalSinceReferenceDate:80];<br>NSLog(@”print date is %@”,date);<br>将打印出：2001-01-01 00:01:20 +0000</p>
<ol start="5">
<li><ul>
<li>(id)initWithTimeInterval:(NSTimeInterval)seconds sinceDate:(NSDate *)refDate</li>
</ul>
</li>
</ol>
<p>以基准时间的偏移秒数来初始化，也可以直接调用类方法 + (id)dateWithTimeInterval:(NSTimeInterval)seconds sinceDate:(NSDate *)date</p>
<p>复制代码<br>NSDate *date1 = [[NSDate alloc] initWithTimeIntervalSinceReferenceDate:20];<br>NSLog(@”print date1 is %@”,date1);</p>
<p>NSDate <em>date2 = [[NSDate alloc] initWithTimeInterval:10 sinceDate:date1];<br>//NSDate </em>date2 = [NSDate dateWithTimeInterval:10 sinceDate:date1];<br>NSLog(@”print date2 is %@”,date2);<br>复制代码<br>第一个基准时间是2001-01-01 00:00:20 +0000，根据基准时间偏移10秒的结果是2001-01-01 00:00:30 +0000</p>
<ol start="6">
<li><ul>
<li>(id)distantPast 与 + (id)distantFuture</li>
</ul>
</li>
</ol>
<p>这两个是类方法，分别用来返回一个极早的时间点和一个极晚的时间点</p>
<p>NSDate *date = [NSDate distantFuture];<br>NSLog(@”future date is %@”,date);</p>
<p>NSDate *date2 = [NSDate distantPast];<br>NSLog(@”past date is %@”,date2);<br>distantPast将返回：0001-12-30 00:00:00 +0000，distantFuture将返回：4001-01-01 00:00:00 +0000</p>
<p>NSDate的常用对象方法：</p>
<ol>
<li>-(id)dateByAddingTimeInterval:(NSTimeInterval)seconds</li>
</ol>
<p>返回以当前NSDate对象为基准，偏移多少秒后得到的新NSDate对象。(旧方法 - (id)addTimeInterval:(NSTimeInterval)seconds已被弃用)</p>
<p>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [date dateByAddingTimeInterval:-20];<br>NSLog(@”%@”,date2);</p>
<ol start="2">
<li><ul>
<li>(BOOL)isEqualToDate:(NSDate *)anotherDate</li>
</ul>
</li>
</ol>
<p>将当前对象与参数传递的对象进行比较，根据是否相同返回BOOL值</p>
<p>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [NSDate dateWithTimeInterval:0 sinceDate:date];<br>BOOL isEqual = [date isEqualToDate:date2];<br>NSLog(@”%i”,isEqual);</p>
<ol start="3">
<li><ul>
<li>(NSDate <em>)earlierDate:(NSDate </em>)anotherDate 与 - (NSDate <em>)laterDate:(NSDate </em>)anotherDate</li>
</ul>
</li>
</ol>
<p>比较两个NSDate对象，返回较早/较晚的时间点，并以新NSDate对象的形式返回</p>
<p>复制代码<br>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [NSDate dateWithTimeInterval:-50 sinceDate:date];</p>
<p>NSDate *date3 = [date earlierDate:date2];<br>NSLog(@”earlier date is %@”,date3);</p>
<p>NSDate *date4 = [date laterDate:date2];<br>NSLog(@”later date is %@”,date4);<br>复制代码</p>
<ol start="4">
<li><ul>
<li>(NSComparisonResult)compare:(NSDate *)anotherDate</li>
</ul>
</li>
</ol>
<p>将当前对象与参数传递的对象进行比较，如果相同，返回0(NSOrderedSame)；对象时间早于参数时间，返回-1(NSOrderedAscending)；对象时间晚于参数时间，返回1(NSOrderedDescending)</p>
<p>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [NSDate dateWithTimeInterval:-50 sinceDate:date];</p>
<p>NSInteger result = [date compare:date2];<br>NSLog(@”%i”,result);</p>
<ol start="5">
<li><ul>
<li>(NSTimeInterval)timeIntervalSince1970</li>
</ul>
</li>
</ol>
<p>返回当前对象时间与1970-1-1 0:0:0的相隔秒数，也可以这样理解：从1970-1-1 0:0:0开始，经过多少秒到达对象指定时间。</p>
<p>NSDate *date = [NSDate dateWithTimeIntervalSince1970:50];<br>NSInteger seconds = [date timeIntervalSince1970];<br>NSLog(@”%i”,seconds);<br>将返回结果50</p>
<ol start="6">
<li><ul>
<li>(NSTimeInterval)timeIntervalSinceReferenceDate</li>
</ul>
</li>
</ol>
<p>返回当前对象时间与2001-1-1 0:0:0的相隔秒数，也可以这样理解：从2001-1-1 0:0:0开始，经过多少秒到达对象指定时间。</p>
<p>NSDate *date = [NSDate dateWithTimeIntervalSinceReferenceDate:-30];<br>NSInteger seconds = [date timeIntervalSinceReferenceDate];<br>NSLog(@”%i”,seconds);<br>将返回结果-30，负数代表从2001-1-1 0:0:0开始，倒退30秒到达当前时间。</p>
<ol start="7">
<li><ul>
<li>(NSTimeInterval)timeIntervalSinceNow</li>
</ul>
</li>
</ol>
<p>返回当前对象时间与客户端时间的相隔秒数，也可以这样理解：从客户端当前时间开始，经过多少秒到达对象指定时间。</p>
<p>NSDate *date = [NSDate dateWithTimeIntervalSinceNow:100];<br>NSInteger seconds = [date timeIntervalSinceNow];<br>NSLog(@”%i”,seconds);<br>经测试返回了结果99，但初始化时提供的参数是100。这可能是因为第一句初始化代码到第二句计算代码之间有个1秒内的延时，所以计算时的客户端时间比初始化时的客户端时间快了1秒。</p>
<ol start="8">
<li><ul>
<li>(NSTimeInterval)timeIntervalSinceDate:(NSDate *)anotherDate</li>
</ul>
</li>
</ol>
<p>返回当前对象时间与参数传递的对象时间的相隔秒数，也可以这样理解：从参数时间开始，经过多少秒到达对象执行时间。</p>
<p>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [NSDate dateWithTimeInterval:50 sinceDate:date];<br>NSInteger seconds = [date timeIntervalSinceDate:date2];<br>NSLog(@”%i”,seconds);<br>将返回结果-50，date为1970-1-1 0:0:0，date2为1970-1-1 0:0:50，从date2的时间开始，倒退50秒到达date的时间。</p>
<p>NSTimeZone</p>
<p>NSTimeZone表示时区信息。 有下面几种初始化方法：</p>
<ol>
<li><ul>
<li>(id)timeZoneWithName:(NSString <em>)aTimeZoneName / - (id)initWithName:(NSString </em>)aName</li>
</ul>
</li>
</ol>
<p>根据时区名称初始化。可以调用NSTimeZone的类方法 + (NSArray *)knownTimeZoneNames来返回所有已知的时区名称。</p>
<p>NSTimeZone <em>zone = [[NSTimeZone alloc] initWithName:@”America/Chicago”];<br>//NSTimeZone </em>zone = [NSTimeZone timeZoneWithName:@”America/Chicago”];<br>NSLog(@”%@”,zone);<br>打印出：America/Chicago (CST) offset -21600</p>
<ol start="2">
<li><ul>
<li>(id)timeZoneWithAbbreviation:(NSString *)abbreviation</li>
</ul>
</li>
</ol>
<p>根据时区缩写初始化。例如：EST(美国东部标准时间)、HKT(香港标准时间)</p>
<p>NSTimeZone *zone = [NSTimeZone timeZoneWithAbbreviation:@”EST”];<br>NSLog(@”%@”,zone);<br>打印出：Asia/Hong_Kong (HKT) offset 28800</p>
<ol start="3">
<li><ul>
<li>(NSTimeZone *)systemTimeZone</li>
</ul>
</li>
</ol>
<p>返回系统时区</p>
<p>NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>NSLog(@”%@”,zone);<br>假如时区是上海，打印出的时区信息将会是：Asia/Shanghai (CST (China)) offset 28800，28800代表相对于GMT时间偏移的秒数，即8个小时。(8</em>60*60)</p>
<ol start="4">
<li><ul>
<li>(NSTimeZone *)localTimeZone</li>
</ul>
</li>
</ol>
<p>返回本地时区，与systemTimeZone的区别在于：本地时区可以被修改，而系统时区不能修改。</p>
<p>复制代码<br>[NSTimeZone setDefaultTimeZone:[[NSTimeZone alloc] initWithName:@”America/Chicago”]];</p>
<p>NSTimeZone <em>systemZone = [NSTimeZone systemTimeZone];<br>NSTimeZone </em>localZone = [NSTimeZone localTimeZone];</p>
<p>NSLog(@”%@”,systemZone);<br>NSLog(@”%@”,localZone);<br>复制代码<br>打印出的系统时区仍然是：Asia/Shanghai (CST (China)) offset 28800；而本地时区经过修改后，变成了：Local Time Zone (America/Chicago (CST) offset -21600)</p>
<ol start="5">
<li><ul>
<li>(id)timeZoneForSecondsFromGMT:(NSInteger)seconds</li>
</ul>
</li>
</ol>
<p>根据零时区的秒数偏移返回一个新时区对象</p>
<p>NSTimeZone *zone = [NSTimeZone timeZoneForSecondsFromGMT:28800];<br>NSLog(@”%@”,zone);<br>打印出：GMT+0800 (GMT+08:00) offset 28800</p>
<p>NSTimeZone常用对象方法与类方法：</p>
<ol>
<li><ul>
<li>(NSArray *)knownTimeZoneNames</li>
</ul>
</li>
</ol>
<p>以数组的形式返回所有已知的时区名称</p>
<p>NSArray <em>zoneArray = [NSTimeZone knownTimeZoneNames];<br>for(NSString </em>str in zoneArray)<br>{<br>    NSLog(@”%@”,str);<br>}</p>
<ol start="2">
<li><ul>
<li>(NSString <em>)name / - (NSString </em>)abbreviation</li>
</ul>
</li>
</ol>
<p>返回时区对象的名称或缩写</p>
<p>NSTimeZone <em>zone = [NSTimeZone localTimeZone];<br>NSString </em>strZoneName = [zone name];<br>NSString *strZoneAbbreviation = [zone abbreviation];<br>NSLog(@”name is %@”,strZoneName);<br>NSLog(@”abbreviation is %@”,strZoneAbbreviation);<br>name is Asia/Hong_Kong</p>
<p>abbreviation is HKT</p>
<ol start="3">
<li><ul>
<li>(NSInteger)secondsFromGMT</li>
</ul>
</li>
</ol>
<p>得到当前时区与零时区的间隔秒数</p>
<p>NSTimeZone *zone = [NSTimeZone localTimeZone];<br>int seconds = [zone secondsFromGMT];<br>NSLog(@”%i”,seconds);<br>NSLoale</p>
<p>NSLoale类返回本地化信息，主要体现在”语言”和”区域格式”这两个设置项。有下面几种初始化方法：</p>
<ol>
<li><ul>
<li>(id)systemLocale</li>
</ul>
</li>
</ol>
<p>返回系统初始本地化信息</p>
<p>NSLocale *locale = [NSLocale systemLocale];<br>NSLog(@”%@”,[[locale objectForKey:NSLocaleCalendar] calendarIdentifier]);</p>
<ol start="2">
<li><ul>
<li>(id)currentLocale / + (id)autoupdatingCurrentLocale</li>
</ul>
</li>
</ol>
<p>这两个类方法都将返回当前客户端的本地化信息，区别在于：currentLocale取得的值会一直保持在cache中，第一次用此方法实例化对象后，即使修改了本地化设定，这个对象也不会改变。而使用autoupdatingCurrentLocale，当每次修改本地化设定，其实例化的对象也会随之改变。</p>
<p>下面的代码演示了区别所在，假设初始本地化信息为en_US，先用这两个函数分别初始化两个对象，然后修改本地化设定语言为台湾繁体中文，再重新打印这两个对象的信息：</p>
<p>复制代码<br>NSLocale <em>locale1;<br>NSLocale </em>locale2;</p>
<ul>
<li><p>(IBAction)doTest:(id)sender<br>{<br>  locale1 = [NSLocale currentLocale];<br>  locale2 = [NSLocale autoupdatingCurrentLocale];</p>
<p>  NSLog(@”%@”,locale1.localeIdentifier); //print “en_US”<br>  NSLog(@”%@”,locale2.localeIdentifier); //print “en_US”<br>}</p>
</li>
<li><p>(IBAction)doAgain:(id)sender<br>{<br>  NSLog(@”%@”,locale1.localeIdentifier); //print “en_US”<br>  NSLog(@”%@”,locale2.localeIdentifier); //print “zh_TW”<br>}<br>复制代码</p>
</li>
</ul>
<ol start="3">
<li><ul>
<li>(id)initWithLocaleIdentifier:(NSString *)string</li>
</ul>
</li>
</ol>
<p>用标示符初始化本地化信息</p>
<p>NSLocale <em>locale = [[NSLocale alloc] initWithLocaleIdentifier:@”zh_CN”];<br>NSString </em>strSymbol = [locale objectForKey:NSLocaleCurrencySymbol];<br>NSLog(@”%@”,strSymbol);<br>代码用”zh_CN”来初始化对象，然后再打印出对象的货币符号，得到的结果是人民币符号￥</p>
<p>NSLoale常用对象方法与类方法：</p>
<ol>
<li><ul>
<li>(id)objectForKey:(id)key</li>
</ul>
</li>
</ol>
<p>根据不同的key返回各种本地化信息，例如下面的代码返回了当前货币符号：</p>
<p>NSLocale <em>locale = [NSLocale currentLocale];<br>NSString </em>strSymbol = [locale objectForKey:NSLocaleCurrencySymbol];<br>NSCalendar *calendar = [[NSLocale currentLocale] objectForKey:NSLocaleCalendar];</p>
<ol start="2">
<li><ul>
<li>(NSString *)displayNameForKey:(id)key value:(id)value</li>
</ul>
</li>
</ol>
<p>显示特定地区代号下相应键的显示名称：</p>
<p>NSLocale <em>locale = [[NSLocale alloc] initWithLocaleIdentifier:@”zh_CN”];<br>NSString </em>str = [locale displayNameForKey:NSLocaleIdentifier value:@”en_US”];<br>NSLog(@”%@”,str);<br>第一句代码代表以中文来实例化对象，然后得到”en_US”的NSLocaleIdentifier键的显示名称。最后输出的结果是”英文（美国）”</p>
<p>NSDateComponents</p>
<p>NSDateComponents封装了具体年月日、时秒分、周、季度等</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setEra:1];<br>[compt setYear:2013];<br>[compt setMonth:3];<br>[compt setDay:15];<br>[compt setHour:11];<br>[compt setMinute:20];<br>[compt setSecond:55];<br>[compt setQuarter:2];<br>[compt setTimeZone:[NSTimeZone systemTimeZone]];<br>[compt setWeek:3];<br>[compt setWeekday:4];<br>[compt setWeekOfMonth:3];<br>[compt setWeekOfYear:2];<br>[compt setCalendar:[NSCalendar currentCalendar]];<br>复制代码<br>NSDateComponents相关方法：</p>
<ol>
<li>NSCalendar对象的 - (NSDateComponents <em>)components:(NSUInteger)unitFlags fromDate:(NSDate </em>)date</li>
</ol>
<p>取得一个NSDate对象的1个或多个部分，用NSDateComponents来封装</p>
<p>复制代码<br>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [NSDate date];<br>//NSDateComponents <em>compt = [calendar components:NSDayCalendarUnit fromDate:date];<br>NSDateComponents </em>compt = [calendar components:(NSYearCalendarUnit|NSMonthCalendarUnit|NSDayCalendarUnit) fromDate:date];</p>
<p>NSLog(@”%d,%@”,[compt year],date);<br>NSLog(@”%d,%@”,[compt month],date);<br>NSLog(@”%d,%@”,[compt day],date);<br>复制代码<br>需要注意的是，只有明确指定了unitFlags，NSDateComponents相应的那一部分才有值。</p>
<ol start="2">
<li>NSCalendar对象的 - (NSDateComponents <em>)components:(NSUInteger)unitFlags fromDate:(NSDate </em>)startingDate toDate:(NSDate *)resultDate options : (NSUInteger)opts</li>
</ol>
<p>取得两个NSDate对象的时间间隔，用NSDateComponents来封装</p>
<p>复制代码<br>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [NSDate date];<br>NSDate <em>date2 = [NSDate dateWithTimeInterval:5</em>60<em>60+75 sinceDate:date];<br>NSDateComponents </em>compt = [calendar components:(NSMinuteCalendarUnit|NSSecondCalendarUnit) fromDate:date toDate:date2 options:0];</p>
<p>NSLog(@”%d”,[compt minute]);<br>NSLog(@”%d”,[compt second]);<br>复制代码<br>有几点需要注意：</p>
<p>① 得到的NSDateComponents对象可能会包含负数。例如：当toDate比fromDate晚10秒，second部分返回10；当toDate比fromDate早10秒，second部分返回-10</p>
<p>② 当指定unitFlags返回多个部分时，相隔的时间由多个部分共同组成(而不是独立去表示)。例如：上面的例子时间相差5小时1分15秒，如果指定只返回second部分，将得到18075秒；如果指定返回minute和second部分，将得到301分15秒；如果指定返回hour、minute和second，将得到5小时1分15秒。</p>
<ol start="3">
<li>NSCalendar对象的 - (NSDate <em>)dateFromComponents:(NSDateComponents </em>)comps</li>
</ol>
<p>根据NSDateComponents对象得到一个NSDate对象</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2012];<br>[compt setMonth:5];<br>[compt setDay:11];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [calendar dateFromComponents:compt];<br>//得到本地时间，避免时区问题<br>NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>NSInteger interval = [zone secondsFromGMTForDate:date];<br>NSDate </em>localeDate = [date dateByAddingTimeInterval:interval];</p>
<p>NSLog(@”%@”,localeDate);<br>复制代码</p>
<ol start="4">
<li>NSCalendar对象的 - (NSDate <em>)dateByAddingComponents:(NSDateComponents </em>)comps toDate:(NSDate *)date options:(NSUInteger)opts</li>
</ol>
<p>在参数date基础上，增加一个NSDateComponents类型的时间增量</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setDay:25];<br>[compt setHour:4];<br>[compt setMinute:66];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [calendar dateByAddingComponents:compt toDate:[NSDate date] options:0];</p>
<p>//得到本地时间，避免时区问题<br>NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>NSInteger interval = [zone secondsFromGMTForDate:date];<br>NSDate </em>localeDate = [date dateByAddingTimeInterval:interval];</p>
<p>NSLog(@”%@”,localeDate);<br>复制代码<br>当前时间的基础上，增加25天4小时66秒</p>
<p>NSCalendar</p>
<ol>
<li><ul>
<li>(id)currentCalendar / + (id)autoupdatingCurrentCalendar</li>
</ul>
</li>
</ol>
<p>这两个类方法都将返回当前客户端的逻辑日历，区别在于：currentCalendar取得的值会一直保持在cache中，第一次用此方法实例化对象后，即使修改了系统日历设定，这个对象也不会改变。而使用autoupdatingCurrentCalendar，当每次修改系统日历设定，其实例化的对象也会随之改变。</p>
<p>下面的代码演示了区别所在，假设初始Calendar设定为NSGregorianCalendar(公历)，先用这两个函数分别初始化两个对象，然后修改系统日历为NSJapaneseCalendar(日本和历)，再重新打印这两个对象的信息：</p>
<p>复制代码<br>NSCalendar <em>calendar;<br>NSCalendar </em>calendar2;</p>
<ul>
<li><p>(IBAction)doTest:(id)sender<br>{<br>  calendar = [NSCalendar currentCalendar];<br>  calendar2 = [NSCalendar autoupdatingCurrentCalendar];</p>
<p>  NSLog(@”%@”,calendar.calendarIdentifier); //print “gregorian”<br>  NSLog(@”%@”,calendar2.calendarIdentifier); //print “gregorian”<br>}</p>
</li>
<li><p>(IBAction)doAgain:(id)sender<br>{<br>  NSLog(@”%@”,calendar.calendarIdentifier); //print “gregorian”<br>  NSLog(@”%@”,calendar2.calendarIdentifier); //print “japanese”<br>}<br>复制代码</p>
</li>
</ul>
<ol start="2">
<li><ul>
<li>(id)initWithCalendarIdentifier:(NSString *)string</li>
</ul>
</li>
</ol>
<p>根据提供的日历标示符初始化</p>
<p>NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSChineseCalendar];<br>NSLog(@”%@”,calendar.calendarIdentifier);<br>系统中定义的日历有：</p>
<p>NSGregorianCalendar – 公历<br>NSBuddhistCalendar – 佛教日历<br>NSChineseCalendar – 中国农历<br>NSHebrewCalendar – 希伯来日历<br>NSIslamicCalendar – 伊斯兰历<br>NSIslamicCivilCalendar – 伊斯兰教日历<br>NSJapaneseCalendar – 日本日历<br>NSRepublicOfChinaCalendar – 中华民国日历（台湾）<br>NSPersianCalendar – 波斯历<br>NSIndianCalendar – 印度日历<br>NSISO8601Calendar – ISO8601</p>
<p>NSCalendar常用对象方法与类方法：</p>
<ol>
<li><ul>
<li>(void)setLocale:(NSLocale *)locale</li>
</ul>
</li>
</ol>
<p>设置本地化信息</p>
<p>NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];<br>[calendar setLocale:[[NSLocale alloc] initWithLocaleIdentifier:@”zh_CN”]];<br>NSLog(@”%@”,calendar.locale.localeIdentifier);</p>
<ol start="2">
<li><ul>
<li>(void)setTimeZone:(NSTimeZone *)tz</li>
</ul>
</li>
</ol>
<p>设置时区信息</p>
<p>NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];<br>[calendar setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@”HKT”]];<br>NSLog(@”%@”,calendar.timeZone);</p>
<ol start="3">
<li><ul>
<li>(void)setFirstWeekday:(NSUInteger)weekday</li>
</ul>
</li>
</ol>
<p>设置每周的第一天从星期几开始，比如：1代表星期日开始，2代表星期一开始，以此类推。默认值是1</p>
<p>如图所示，如果从星期天开始，日历的表现形式：</p>
<p>如果从星期二开始，日历的表现形式：</p>
<p>NSCalendar *calendar = [NSCalendar currentCalendar];<br>[calendar setFirstWeekday:3];<br>NSLog(@”%i”,calendar.firstWeekday);</p>
<ol start="4">
<li><ul>
<li>(void)setMinimumDaysInFirstWeek:(NSUInteger)mdw</li>
</ul>
</li>
</ol>
<p>设置每年及每月第一周必须包含的最少天数，比如：设定第一周最少包括3天，则value传入3</p>
<p>NSCalendar *calendar = [NSCalendar currentCalendar];<br>[calendar setMinimumDaysInFirstWeek:3];<br>NSLog(@”%i”,calendar.minimumDaysInFirstWeek);</p>
<ol start="5">
<li><ul>
<li>(NSUInteger)ordinalityOfUnit:(NSCalendarUnit)smaller inUnit:(NSCalendarUnit)larger forDate:(NSDate *)date</li>
</ul>
</li>
</ol>
<p>获取一个小的单位在一个大的单位里面的序数</p>
<p>NSCalendarUnit包含的值有：</p>
<p>NSEraCalendarUnit – 纪元单位。对于NSGregorianCalendar(公历)来说，只有公元前(BC)和公元(AD)；而对于其它历法可能有很多，例如日本和历是以每一代君王统治来做计算。<br>NSYearCalendarUnit – 年单位。值很大，相当于经历了多少年，未来多少年。<br>NSMonthCalendarUnit – 月单位。范围为1-12<br>NSDayCalendarUnit – 天单位。范围为1-31<br>NSHourCalendarUnit – 小时单位。范围为0-24<br>NSMinuteCalendarUnit – 分钟单位。范围为0-60<br>NSSecondCalendarUnit – 秒单位。范围为0-60<br>NSWeekCalendarUnit – 周单位。范围为1-53<br>NSWeekdayCalendarUnit – 星期单位，每周的7天。范围为1-7<br>NSWeekdayOrdinalCalendarUnit – 没完全搞清楚<br>NSQuarterCalendarUnit – 几刻钟，也就是15分钟。范围为1-4<br>NSWeekOfMonthCalendarUnit – 月包含的周数。最多为6个周<br>NSWeekOfYearCalendarUnit – 年包含的周数。最多为53个周<br>NSYearForWeekOfYearCalendarUnit – 没完全搞清楚<br>NSTimeZoneCalendarUnit – 没完全搞清楚</p>
<p>下面是一些示例：</p>
<p>① 当小单位为NSWeekdayCalendarUnit，大单位为NSWeekCalendarUnit时(即某个日期在这一周是第几天)，根据firstWeekday属性不同，返回的结果也不同。</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [NSDate dateWithTimeIntervalSinceReferenceDate:10];<br>//[calendar setFirstWeekday:2];<br>int count = [calendar ordinalityOfUnit:NSWeekdayCalendarUnit inUnit:NSWeekCalendarUnit forDate:date];<br>NSLog(@”%d”,count);<br>默认firstWeekday为1(星期天开始)的情况下，得到的结果是2，从下图可以看到是第2天。</p>
<p>假如firstWeekday被设置为2(星期一开始)的情况下，得到的结果是1，从下图可以看到是第1天</p>
<p>② 当小单位为NSWeekCalendarUnit，大单位为NSYearCalendarUnit时(即某个日期在这一年中是第几周)，根据minimumDaysInFirstWeek属性不同，返回的结果也不同。</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2013];<br>[compt setMonth:1];<br>[compt setDay:20];</p>
<p>NSCalendar *calendar = [NSCalendar currentCalendar];</p>
<p>NSDate *date = [calendar dateFromComponents:compt];</p>
<p>//[calendar setMinimumDaysInFirstWeek:6];<br>int count = [calendar ordinalityOfUnit:NSWeekCalendarUnit inUnit:NSYearCalendarUnit forDate:date];<br>NSLog(@”%d”,count);<br>复制代码<br>从上图的日历中可以看出，在没有设置minimumDaysInFirstWeek的情况下，1月20日得到的结果是4(第四个周)。</p>
<p>默认情况下第一个周有5天，如果将minimumDaysInFirstWeek设置为6天，则原本是第一周的1月1日–1月5日被划分到了上一年，返回0；而1月6日–1月12日升为第一周，1月13日–1月19日升为第二周。。依此类推。</p>
<p>所以需要关注的是minimumDaysInFirstWeek与实际第一周包含天数的大小比较，如果提供的minimumDaysInFirstWeek比实际第一周的天数小，则一切不变；否则统计”一年中第几周”、”一个月中第几周”会产生变化。</p>
<ol start="6">
<li><ul>
<li>(NSRange)rangeOfUnit:(NSCalendarUnit)smaller inUnit:(NSCalendarUnit)larger forDate:(NSDate *)date</li>
</ul>
</li>
</ol>
<p>根据参数提供的时间点，得到一个小的单位在一个大的单位里面的取值范围</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2013];<br>[compt setMonth:2];<br>[compt setDay:21];<br>[compt setHour:9];<br>[compt setMinute:45];<br>[compt setSecond:30];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [calendar dateFromComponents:compt];</p>
<p>//得到本地时间，避免时区问题<br>NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>NSInteger interval = [zone secondsFromGMTForDate:date];<br>NSDate </em>localeDate = [date dateByAddingTimeInterval:interval];</p>
<p>NSRange range = [calendar rangeOfUnit:NSDayCalendarUnit inUnit:NSYearCalendarUnit forDate:localeDate];</p>
<p>NSLog(@”%d – %d”,range.location,range.length);<br>复制代码<br>调用这个方法要明确一点，取得的是”范围”而不是”包含”，下面是一些例子：</p>
<p>① 小单位是NSDayCalendarUnit，大单位是NSYearCalendarUnit，并不是要取这一年包含多少天，而是要取”天”(Day)这个单位在这一年(Year)的取值范围。其实不管你提供的日期是多少，返回的值都是”1–31”。</p>
<p>② 小单位是NSDayCalendarUnit，大单位是NSMonthCalendarUnit。要取得参数时间点所对应的月份下，”天”(Day)的取值范围。根据参数时间的月份不同，值也不同。例如2月是1–28、3月是1–31、4月是1–30。</p>
<p>③ 小单位是NSWeekCalendarUnit，大单位是NSMonthCalendarUnit。要取得参数时间点所对应的月份下，”周”(Week)的取值范围。需要注意的是结果会受到minimumDaysInFirstWeek属性的影响。在默认minimumDaysInFirstWeek情况下，取得的范围值一般是”1–5”，从日历上可以看出来这个月包含5排，即5个周。</p>
<p>④ 小单位是NSDayCalendarUnit，大单位是NSWeekCalendarUnit。要取得周所包含的”天”(Day)的取值范围。下面是一个示例日历图：</p>
<p>在上图的日期条件下，假如提供的参数是4月1日–4月6日，那么对应的week就是1(第一个周)，可以看到第一个周包含有6天，从1号开始，那么最终得到的范围值为1–6。</p>
<p>假如提供的参数是4月18日，那么对应的week是3(第三个周)，第三个周包含有7天，从14号开始，那么最终得到的范围值是14–7。</p>
<p>假如提供的参数是4月30日，那么对应的week是5(第五个周)，第五个周只包含3天，从28号开始，那么最终得到的范围值是28–3。</p>
<ol start="7">
<li><ul>
<li>(BOOL)rangeOfUnit:(NSCalendarUnit)unit startDate:(NSDate *<em>)datep interval:(NSTimeInterval </em>)tip forDate:(NSDate *)date</li>
</ul>
</li>
</ol>
<p>根据参数提供的时间点，返回所在日历单位的开始时间。如果startDate和interval均可以计算，则返回YES；否则返回NO</p>
<p>unit – 日历单位<br>datep – 开始时间，通过参数返回<br>tip – 日历单位所对应的秒数，通过参数返回<br>date – 时间点参数</p>
<p>复制代码<br>NSDate *dateOut = nil;<br>NSTimeInterval count = 0;</p>
<p>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2013];<br>[compt setMonth:3];<br>[compt setDay:22];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [calendar dateFromComponents:compt];<br>BOOL b = [calendar rangeOfUnit:NSMonthCalendarUnit startDate:&amp;dateOut interval:&amp;count forDate:date];<br>if(b)<br>{<br>    //得到本地时间，避免时区问题<br>    NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>    NSInteger interval = [zone secondsFromGMTForDate:dateOut];<br>    NSDate </em>localeDate = [dateOut dateByAddingTimeInterval:interval];</p>
<pre><code>NSLog(@&quot;%@&quot;,localeDate);
NSLog(@&quot;%f&quot;,count);
</code></pre><p>}<br>else<br>{<br>    NSLog(@”无法计算”);<br>}<br>复制代码<br>上面的例子要求返回2013年3月22日当月的起始时间，以及当月的秒数。得到的结果是：2013-03-01 00:00:00 +0000，2678400。(2678400 = 31天 <em> 24小时 </em> 60分 * 60秒)。</p>
<p>假如将上面的日历单位改为NSWeekCalendarUnit，那么得到的结果是：2013-03-17 00:00:00 +0000，604800。当周的第一天是3月17日。(604800 = 7天 <em> 24小时 </em> 60分 * 60秒)。</p>
<p>假如将上面的日历单位改为NSYearCalendarUnit，那么得到的结果是：2013-01-01 00:00:00 +0000，31536000。这一年的第一天是1月1日，(31536000 = 365天 <em> 24小时 </em> 60分 * 60秒)。</p>
<p>NSDateFormatter</p>
<p>NSDateFormatter的日期格式如下:</p>
<p>复制代码<br>G – 纪元<br>一般会显示公元前(BC)和公元(AD)</p>
<p>y – 年<br>假如是2013年，那么yyyy=2013，yy=13  </p>
<p>M – 月<br>假如是3月，那么M=3，MM=03，MMM=Mar，MMMM=March<br>假如是11月，那么M=11，MM=11，MMM=Nov，MMMM=November</p>
<p>w – 年包含的周<br>假如是1月8日，那么w=2(这一年的第二个周)</p>
<p>W – 月份包含的周(与日历排列有关)<br>假如是2013年4月21日，那么W=4(这个月的第四个周)</p>
<p>F – 月份包含的周(与日历排列无关)<br>和上面的W不一样，F只是单纯以7天为一个单位来统计周，例如7号一定是第一个周，15号一定是第三个周，与日历排列无关。</p>
<p>D – 年包含的天数<br>假如是1月20日，那么D=20(这一年的第20天)<br>假如是2月25日，那么D=31+25=56(这一年的第56天)</p>
<p>d – 月份包含的天数<br>假如是5号，那么d=5，dd=05<br>假如是15号，那么d=15，dd=15</p>
<p>E – 星期<br>假如是星期五，那么E=Fri，EEEE=Friday</p>
<p>a – 上午(AM)/下午(PM)</p>
<p>H – 24小时制，显示为0–23<br>假如是午夜00:40，那么H=0:40，HH=00:40</p>
<p>h – 12小时制，显示为1–12<br>假如是午夜00:40，那么h=12:40</p>
<p>K – 12小时制，显示为0–11<br>假如是午夜00:40，那么K=0:40，KK=00:40</p>
<p>k – 24小时制，显示为1–24<br>假如是午夜00:40，那么k=24:40</p>
<p>m – 分钟<br>假如是5分钟，那么m=5，mm=05<br>假如是45分钟，那么m=45，mm=45</p>
<p>s – 秒<br>假如是5秒钟，那么s=5，ss=05<br>假如是45秒钟，那么s=45，ss=45</p>
<p>S – 毫秒<br>一般用SSS来显示</p>
<p>z – 时区<br>表现形式为GMT+08:00</p>
<p>Z – 时区<br>表现形式为+0800<br>复制代码<br>NSDateFormatter的两个最实用的方法是dateFromString和stringFromDate，前者将一个字符串经过格式化后变成NSDate对象，后者将NSDate对象格式化成字符串。</p>
<p>在调用setDateFormat设置格式化字符串时，可以加入一些别的字符串，用单引号来引入，例如：</p>
<p>[formatter setDateFormat:@”yyyy-MM-dd ‘some ‘’special’’ string’ HH:mm:ss”];<br>使用NSDateFormatter转换时间字符串时，默认的时区是系统时区，例如在中国一般都是北京时间(+8)，如果直接转换会导致结果相差8小时，所以一般的做法是先指定时区为GMT标准时间再转换，例如：</p>
<p>复制代码<br>NSDateFormatter *formatter = [[NSDateFormatter alloc] init];<br>[formatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];<br>[formatter setDateFormat:@”yyyy-MM-dd HH:mm:ss z”];</p>
<p>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2013];<br>[compt setMonth:3];<br>[compt setDay:13];<br>[compt setHour:1];<br>[compt setMinute:55];<br>[compt setSecond:28];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>[calendar setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];<br>NSDate </em>date = [calendar dateFromComponents:compt];<br>NSLog(@”%@”,date);<br>NSString *str = [formatter stringFromDate:date];<br>NSLog(@”%@”,str);</p>
<h3 id="关于pop-动画引擎两个例子"><a href="#关于pop-动画引擎两个例子" class="headerlink" title="关于pop 动画引擎两个例子"></a>关于pop 动画引擎两个例子</h3><p>取色功能动效遇到两个比较麻烦的点，<br>1). 今天在做一个动画的时候，使用‘pop’时候，发现动作做完了，然后一个按钮使其回归原位，但是再做动作的时候，就只动了一下。难以查看过程，当我打断点到layoutSubviews的时候，果然进去了。然后不知道是谁调用的，于是我去使用time profile看了那一段时间干了什么事。于是看到了layoutSubviews被调用了，是‘pop’某一块调用了，使view又跑回原位。这时候，要么将布局代码写到其他地方，要么使用UIView的动画，我选择了后者。<br>2). 在一个回馈动效中使用POPSpringAnimation，但是由于滑块可以快速多次滑动，所以在弹性高过预定值，会产生negative值，即负值，这时3D transform中，scaleXY会出现rotate情况，<code>https://github.com/facebook/pop/issues/76</code>，这里采用clamp，在结束时，不超过回弹值。可以使用下面给出的两端中其一都可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-(void)popupMensionNode&#123;</span><br><span class="line">    POPBasicAnimation *nodeAnim = [POPBasicAnimation animationWithPropertyNamed:kPOPLayerScaleXY];</span><br><span class="line">    nodeAnim.toValue = [NSValue valueWithCGSize:CGSizeMake(1.f, 1.f)];</span><br><span class="line">    nodeAnim.fromValue = [NSValue valueWithCGSize:CGSizeMake(0.f, 0.f)];</span><br><span class="line">    nodeAnim.autoreverses = YES;</span><br><span class="line">    nodeAnim.duration = 0.25;</span><br><span class="line">    [_textNode.layer pop_addAnimation:nodeAnim forKey:NSStringFromSelector(_cmd)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-(void)popupMensionNode&#123;</span><br><span class="line">    POPSpringAnimation *imageNodeAnim = [POPSpringAnimation animationWithPropertyNamed:kPOPLayerScaleXY];</span><br><span class="line">    imageNodeAnim.toValue = [NSValue valueWithCGSize:CGSizeMake(1.f, 1.f)];</span><br><span class="line">    imageNodeAnim.fromValue = [NSValue valueWithCGSize:CGSizeMake(0.f, 0.f)];</span><br><span class="line">    imageNodeAnim.autoreverses = YES;</span><br><span class="line">    imageNodeAnim.clampMode = kPOPAnimationClampEnd;</span><br><span class="line">    imageNodeAnim.springBounciness = 8;</span><br><span class="line">//    imageNodeAnim.springSpeed = 20;</span><br><span class="line">    [_textNode.layer pop_addAnimation:imageNodeAnim forKey:NSStringFromSelector(_cmd)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="今天遇到这么个问题-UIImageView-上面有控件-label-和button-但是看起来很模糊"><a href="#今天遇到这么个问题-UIImageView-上面有控件-label-和button-但是看起来很模糊" class="headerlink" title="今天遇到这么个问题 UIImageView 上面有控件 label 和button ,但是看起来很模糊"></a>今天遇到这么个问题 UIImageView 上面有控件 label 和button ,但是看起来很模糊</h3><p>今天遇到这么个问题 UIImageView 上面有控件 label 和button ,但是看起来很模糊。我当时以为其是否因为是被设置backgroundColor ,但是在设置了UIImageView的图片时，还是模糊。目前未知原因，leave a tag。</p>
<h3 id="浮点精度计算-http-www-jianshu-com-p-25d24a184016"><a href="#浮点精度计算-http-www-jianshu-com-p-25d24a184016" class="headerlink" title="浮点精度计算  http://www.jianshu.com/p/25d24a184016"></a>浮点精度计算  <a href="http://www.jianshu.com/p/25d24a184016" target="_blank" rel="noopener">http://www.jianshu.com/p/25d24a184016</a></h3><p>NSDecimalNumber <em>price1 = [NSDecimalNumber decimalNumberWithString:@”15.99”];<br>NSDecimalNumber </em>price2 = [NSDecimalNumber decimalNumberWithString:@”29.99”];<br>NSDecimalNumber <em>coupon = [NSDecimalNumber decimalNumberWithString:@”5.00”];<br>NSDecimalNumber </em>discount = [NSDecimalNumber decimalNumberWithString:@”.90”];<br>NSDecimalNumber <em>numProducts = [NSDecimalNumber decimalNumberWithString:@”2.0”];<br>NSDecimalNumber </em>subtotal = [price1 decimalNumberByAdding:price2];//price1+price2<br>NSDecimalNumber <em>afterCoupon = [subtotal decimalNumberBySubtracting:coupon];//subtotal-conpon<br>NSDecimalNumber </em>afterDiscount = [afterCoupon decimalNumberByMultiplyingBy:discount];//afterCoupon<em>discount<br>NSDecimalNumber </em>average = [afterDiscount decimalNumberByDividingBy:numProducts];//afterDiscount/2<br>NSDecimalNumber <em>averageSquared = [average decimalNumberByRaisingToPower:2];//average</em>average<br>NSLog(@”Subtotal: %@”, subtotal);                       // 45.98<br>NSLog(@”After coupon: %@”, afterCoupon);                // 40.98<br>NSLog((@”After discount: %@”), afterDiscount);          // 36.882<br>NSLog(@”Average price per product: %@”, average);       // 18.441<br>NSLog(@”Average price squared: %@”, averageSquared);    // 340.070481</p>
<h3 id="iOS多target-http-www-cnblogs-com-yajunLi-p-6001132-html"><a href="#iOS多target-http-www-cnblogs-com-yajunLi-p-6001132-html" class="headerlink" title="iOS多target http://www.cnblogs.com/yajunLi/p/6001132.html"></a>iOS多target <a href="http://www.cnblogs.com/yajunLi/p/6001132.html" target="_blank" rel="noopener">http://www.cnblogs.com/yajunLi/p/6001132.html</a></h3><p>iOS 如何创建多个target，同时表达多target的意义</p>
<h3 id="理解的营收模式"><a href="#理解的营收模式" class="headerlink" title="理解的营收模式"></a>理解的营收模式</h3><p>1：类似onePassword   可以试用1个月 然后，需要购买服务，，收费，，也不贵，，大概也是6、7、10块这样的，永久使用，，，<br>2：限制一些输入，，比如用户可以选择我们给的默认文案，但是用户要自定义，，那就收费，，再给会员予以多个账本创建能力，，，未付费仅能使用1个<br>3：增值服务收费吧；云同步，导出账本，这一类功能开放<br>4：增值服务和广告</p>
<p>多快好省</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-08-24lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/08/24/2017-08-24lesson/">2017/08/24lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/08/24/2017-08-24lesson/" class="article-date">
	  <time datetime="2017-08-24T15:52:28.000Z" itemprop="datePublished">August 24, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017/08/07<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">vim .gitignore</span><br><span class="line"></span><br><span class="line">*/build/*</span><br><span class="line">*.pbxuser</span><br><span class="line">!default.pbxuser</span><br><span class="line">*.mode1v3</span><br><span class="line">!default.mode1v3</span><br><span class="line">*.mode2v3</span><br><span class="line">!default.mode2v3</span><br><span class="line">*.perspectivev3</span><br><span class="line">!default.perspectivev3</span><br><span class="line">xcuserdata</span><br><span class="line">profile</span><br><span class="line">*.moved-aside</span><br><span class="line">DerivedData</span><br><span class="line">.idea/</span><br><span class="line">*.hmap</span><br><span class="line">DS_Store</span><br><span class="line"></span><br><span class="line">#CocoaPods</span><br><span class="line">Pods</span><br><span class="line">Podfile.lock</span><br><span class="line">build*</span><br><span class="line">pics*</span><br><span class="line">a.diff</span><br></pre></td></tr></table></figure></p>
<p>这时还没生效，要么全部quit掉，要么clean cache：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">改动过.gitignore文件之后，在repo的根目录下运行：</span><br><span class="line">git rm -r --cached .</span><br><span class="line">git add .</span><br><span class="line">之后可以进行提交：</span><br><span class="line">git commit -m &quot;fixed untracked files&quot;w</span><br></pre></td></tr></table></figure></p>
<h3 id="最近在学习openGL-ES"><a href="#最近在学习openGL-ES" class="headerlink" title="最近在学习openGL ES"></a>最近在学习openGL ES</h3><p>发现这没有速成方法，遂接下来要每天都抄写熟悉，熟练。这，是一门必修课，肯定会有大用处的。<br>另附学习的metaball学习，还没学成，继续。<br>罗列好的学习网址：</p>
<ul>
<li><a href="http://labs.byhook.com/2011/09/26/vector-metaballs/" target="_blank" rel="noopener">http://labs.byhook.com/2011/09/26/vector-metaballs/</a></li>
<li><a href="https://github.com/Dillion/VectorMetaballs" target="_blank" rel="noopener">https://github.com/Dillion/VectorMetaballs</a></li>
<li><a href="http://t-machine.org/index.php/2013/10/18/ios-open-gl-es-2-multiple-objects-at-once/" target="_blank" rel="noopener">http://t-machine.org/index.php/2013/10/18/ios-open-gl-es-2-multiple-objects-at-once/</a></li>
<li><a href="https://www.khronos.org/opengl/wiki/Framebuffer_Object_Extension_Examples" target="_blank" rel="noopener">https://www.khronos.org/opengl/wiki/Framebuffer_Object_Extension_Examples</a></li>
<li><a href="http://blog.db-in.com/all-about-opengl-es-2-x-part-2/#primitives" target="_blank" rel="noopener">http://blog.db-in.com/all-about-opengl-es-2-x-part-2/#primitives</a></li>
<li><a href="https://github.com/kesalin/OpenGLES" target="_blank" rel="noopener">https://github.com/kesalin/OpenGLES</a></li>
<li><a href="http://www.jianshu.com/p/750fde1d8b6a" target="_blank" rel="noopener">http://www.jianshu.com/p/750fde1d8b6a</a></li>
<li><a href="https://www.raywenderlich.com/3664/opengl-tutorial-for-ios-opengl-es-2-0" target="_blank" rel="noopener">https://www.raywenderlich.com/3664/opengl-tutorial-for-ios-opengl-es-2-0</a></li>
<li><a href="https://www.raywenderlich.com/4404/opengl-es-2-0-for-iphone-tutorial-part-2-textures" target="_blank" rel="noopener">https://www.raywenderlich.com/4404/opengl-es-2-0-for-iphone-tutorial-part-2-textures</a></li>
<li><a href="http://blog.csdn.net/icetime17/article/details/50429658" target="_blank" rel="noopener">http://blog.csdn.net/icetime17/article/details/50429658</a></li>
<li><a href="http://www.cnblogs.com/salam/p/5113572.html" target="_blank" rel="noopener">http://www.cnblogs.com/salam/p/5113572.html</a></li>
<li><a href="http://mobile.51cto.com/app-show-436793.htm" target="_blank" rel="noopener">http://mobile.51cto.com/app-show-436793.htm</a></li>
<li><a href="http://blog.csdn.net/yzfuture2010/article/details/7799800" target="_blank" rel="noopener">http://blog.csdn.net/yzfuture2010/article/details/7799800</a></li>
</ul>
<p>小的app 的生存之道就只有做好，然后苹果推荐。不然没有推广，再好都没用。是金子总会发光，可会发光的金子，时间一长，人就变了胃口喜欢钞票了。IT，时时刻刻要变化。说这些就是要推荐，那随随便便就可以苹果推荐了？？想多了，我查看了推过苹果推荐的，要么是公司花人力物力累积，要么是大牛写写出来绚丽。所以好的东西，需要的沉淀是必然的。没有花心思，只是小东西，苹果商店不缺，只有好的拼一把，才能出众！！！<br>openGL ES 这是非学不可。只要在我要用的领域学够！！！</p>
<h3 id="使用宏忽略警告-http-blog-csdn-net-majiakun1-article-details-46424925"><a href="#使用宏忽略警告-http-blog-csdn-net-majiakun1-article-details-46424925" class="headerlink" title="使用宏忽略警告 http://blog.csdn.net/majiakun1/article/details/46424925"></a>使用宏忽略警告 <a href="http://blog.csdn.net/majiakun1/article/details/46424925" target="_blank" rel="noopener">http://blog.csdn.net/majiakun1/article/details/46424925</a></h3><p>1.使用函数指针方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SEL selector = NSSelectorFromString(@&quot;someMethod&quot;);</span><br><span class="line">IMP imp = [_controller methodForSelector:selector];</span><br><span class="line">void (*func)(id, SEL) = (void *)imp;</span><br><span class="line">func(_controller, selector);</span><br></pre></td></tr></table></figure></p>
<p>当有额外参数时，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SEL selector = NSSelectorFromString(@&quot;processRegion:ofView:&quot;);</span><br><span class="line">IMP imp = [_controller methodForSelector:selector];</span><br><span class="line">CGRect (*func)(id, SEL, CGRect, UIView *) = (void *)imp;</span><br><span class="line">CGRect result = func(_controller, selector, someRect, someView);</span><br></pre></td></tr></table></figure></p>
<p>2.使用宏忽略警告<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#pragma clang diagnostic push </span><br><span class="line">#pragma clang diagnostic ignored &quot;-Warc-performSelector-leaks&quot; </span><br><span class="line">   [someController performSelector: NSSelectorFromString(@&quot;someMethod&quot;)]</span><br><span class="line">#pragma clang diagnostic pop</span><br></pre></td></tr></table></figure></p>
<p>通过使用#pragma clang diagnostic push/pop，你可以告诉Clang编译器仅仅为某一特定部分的代码来忽视特定警告。<br>如果需要忽视的警告有多处，可以定义一个宏<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#define SuppressPerformSelectorLeakWarning(Stuff) \</span><br><span class="line">    do &#123; \</span><br><span class="line">        _Pragma(&quot;clang diagnostic push&quot;) \</span><br><span class="line">        _Pragma(&quot;clang diagnostic ignored \&quot;-Warc-performSelector-leaks\&quot;&quot;) \</span><br><span class="line">        Stuff; \</span><br><span class="line">        _Pragma(&quot;clang diagnostic pop&quot;) \</span><br><span class="line">    &#125; while (0)</span><br></pre></td></tr></table></figure></p>
<p>在产生警告也就是performSelector的地方用使用该宏，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SuppressPerformSelectorLeakWarning(</span><br><span class="line">    [_target performSelector:_action withObject:self]</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>如果需要performSelector返回值的话，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">id result;</span><br><span class="line">SuppressPerformSelectorLeakWarning(</span><br><span class="line">    result = [_target performSelector:_action withObject:self]</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<h3 id="iOS时区"><a href="#iOS时区" class="headerlink" title="iOS时区"></a>iOS时区</h3><pre><code>ADT = &quot;America/Halifax&quot;;
AKDT = &quot;America/Juneau&quot;;
AKST = &quot;America/Juneau&quot;;
ART = &quot;America/Argentina/Buenos_Aires&quot;;
AST = &quot;America/Halifax&quot;;
BDT = &quot;Asia/Dhaka&quot;;
BRST = &quot;America/Sao_Paulo&quot;;
BRT = &quot;America/Sao_Paulo&quot;;
BST = &quot;Europe/London&quot;;
CAT = &quot;Africa/Harare&quot;;
CDT = &quot;America/Chicago&quot;;
CEST = &quot;Europe/Paris&quot;;
CET = &quot;Europe/Paris&quot;;
CLST = &quot;America/Santiago&quot;;
CLT = &quot;America/Santiago&quot;;
COT = &quot;America/Bogota&quot;;
CST = &quot;America/Chicago&quot;;
EAT = &quot;Africa/Addis_Ababa&quot;;
EDT = &quot;America/New_York&quot;;
EEST = &quot;Europe/Istanbul&quot;;
EET = &quot;Europe/Istanbul&quot;;
EST = &quot;America/New_York&quot;;
GMT = GMT;
GST = &quot;Asia/Dubai&quot;;
HKT = &quot;Asia/Hong_Kong&quot;;
HST = &quot;Pacific/Honolulu&quot;;
ICT = &quot;Asia/Bangkok&quot;;
IRST = &quot;Asia/Tehran&quot;;
IST = &quot;Asia/Calcutta&quot;;
JST = &quot;Asia/Tokyo&quot;;
KST = &quot;Asia/Seoul&quot;;
MDT = &quot;America/Denver&quot;;
MSD = &quot;Europe/Moscow&quot;;
MSK = &quot;Europe/Moscow&quot;;
MST = &quot;America/Denver&quot;;
NZDT = &quot;Pacific/Auckland&quot;;
NZST = &quot;Pacific/Auckland&quot;;
PDT = &quot;America/Los_Angeles&quot;;
PET = &quot;America/Lima&quot;;
PHT = &quot;Asia/Manila&quot;;
PKT = &quot;Asia/Karachi&quot;;
PST = &quot;America/Los_Angeles&quot;;
SGT = &quot;Asia/Singapore&quot;;
UTC = UTC;
WAT = &quot;Africa/Lagos&quot;;
WEST = &quot;Europe/Lisbon&quot;;
WET = &quot;Europe/Lisbon&quot;;
WIT = &quot;Asia/Jakarta&quot;;
</code></pre><h3 id="离开海外部-稍微总结一下"><a href="#离开海外部-稍微总结一下" class="headerlink" title="离开海外部,稍微总结一下"></a>离开海外部,稍微总结一下</h3><p>twitter 分享，是不跳转<br>instagram 只能分享图片<br>twitter 在创建完app key、secret 时需要在permission 里面再设置一项：获得access 能力。同时update。<br>外国在UI上注重的比国内要强很多。外国在矩阵、重度OpenGL 比国内要强很多。</p>
<h3 id="Reveal-iFile-路径"><a href="#Reveal-iFile-路径" class="headerlink" title="Reveal_iFile_路径"></a>Reveal_iFile_路径</h3><p><a href="http://www.cnblogs.com/blfbuaa/p/7248252.html" target="_blank" rel="noopener">http://www.cnblogs.com/blfbuaa/p/7248252.html</a><br>这时候，我们在Mac浏览器里打开192.168.<em>.**</em>，就能够查看iPhone上的文件系统。并上传文件到iPhone了。</p>
<p>打开Mac上的Reveal。并选择”Help”-“Show Reveal Library in Finder”。这时候有2个文件：Reveal.framework和libReveal.dylib。</p>
<p>将Reveal.framework压缩(不能上传文件夹)并上传到iPhone的”/System/Library/Frameworks/”文件夹中，然后解压缩；</p>
<p>在iFile里打开”应用程序”文件夹(iFile的内置书签)，找到你想查看的APP文件夹里的info.plist文件。查找这个APP的Bundle ID，如果为com.example.domain。</p>
<p>在Mac上创建libReveal.plist，编辑内容为：<br>“`<br>{<br>Filter={<br>Bundles = “com.example.domain”;<br>}<br>}<br>上传libReveal.plist到”/Library/MobileSubstrate/DynamicLibraries”，也就是和libReveal.dylib在一起。</p>
<p>最后一步。重新启动iPhone。然后打开想要查看的APP。Mac上的Reveal就有反应啦！</p>
<h3 id="记一次GPUImage-在export-movie-内存暴涨，崩溃问题"><a href="#记一次GPUImage-在export-movie-内存暴涨，崩溃问题" class="headerlink" title="记一次GPUImage 在export movie 内存暴涨，崩溃问题"></a>记一次GPUImage 在export movie 内存暴涨，崩溃问题</h3><p>原因是在GPUImage 加了UIElementFilter 现实纹理，其在update中需要update 操作。机型是iOS 9 以上，只要视频大于2分钟，就一定出现崩溃现象。原因为，uielement 在update 内部操作中没有进行及时内存释放。此时操作，是将@autoreleasepool { [x update]; }包裹即可解决。 </p>
<h3 id="记一次比较闹心的事"><a href="#记一次比较闹心的事" class="headerlink" title="记一次比较闹心的事"></a>记一次比较闹心的事</h3><p>之前从海外组回归到原本团队，海外组探求之后，没能做到利益，没办法，其实海外领队和其中内部全部开发:两个开发-.-都知道。这其实是一个没有绝对胜仗可打的局。前面没有路走，只有试试、只有闯闯，成功就成功，失败领队都没有怨言，壮士扼腕，是我觉得的扼腕。<br>回来之后我完成原本project内部的业务部分。正如当时进来时，大师和我们说的，这里面基本都是业务，全是业务。<br>是的，基本都是业务，按照其中条条框框，按部就班，规规矩矩。<br>重回到之前状态，还是没找到感觉，但一回来就给我weex 和内部代码之间的交互。那好，我搞搞，建了个类写一写，写到一半，他们又说继承他们的。好好好，继承你们的，想着他们还可能用得上这个，没去掉，至少之后可以继续扩展下去，就留着那个类，这个留着后话。<br>继承他人的类，那个类不小啊，，700多行，然后其有一些view 是weex 交流。weex 的html是军哥那边搞的，他都没做好，我要和他一起搞。继承的类，想着尽量不动那些代码，就用for 循环 把其上的view 全部删了。那个页面真不要啊，和他们讨论，他们说要是有要添加的，那不就一块没啦。。听到这里我蛋疼的一比。这是weex 页面，客户端要改也是在我新添加的层上加啊。我仅仅是使用你的功能而已，整个view 都应该给你扔了了，全部在我新写的功能页面上才对。虽然我知道，这种删除做法是绝对的错误，但是，他适用在这。<br>接下来是一个打log 的问题上。这个project 能使用的log 有：CCLog、DLog、FSLog、等等等，NSLog 我也不清楚他们有否在Release 上去掉相应的定义，所以尽量不敢用NSLog。那就想着用我以前用的CCLog吧。然而问题又来了，不要打CCLog 啊(我当时还不知道有DLog这玩意)，难道用console window，用断点。我曹，我都骂出来。我现在用的黑苹果，不知为何其在大型项目会这么卡，编译也比较慢。先讲断点，我用的iPhone 6s，project如果不在断点页面运行，那么肯定断点几乎就不相应的；在相应断点页面却也不一定出来，出来也卡的半死。再讲我未断点和断点切换都能卡，我要特么不打log，是别想开发了。而且这种业务型的，不看内里数据，是无法继续的了，这又是一个蛋疼。<br>再说一个我的缺点吧，这是我的不对地方：<br>我不爱写注释。我不写注释，前提是东西简单、业务单项、方法名已经取好了。还有就是我从海外部转回来，作为我安分守己的性格，尽量都是做到不动其他代码，于是出现了我新建一个和之前类名很类似的类，却没有把他删除。我有错这个，但却不能错在我。我回来的时候，什么都没有知会，没有权利，只有义务。说我好歹是中级开发者，代码却没有好好维护，写不好代码，这我就更不同意了，我就一码农，开开心心生活的码农，，，开开心心多好，哈哈哈<br>接下来还是一个蛋疼的地方，注释掉的东西，我有时会留在那里。一个类东西不多，注释掉的有些用处，或者不太占位置，我就不会太在意那些。<br>于是在这次也特别说我的这点，这点我认了。之后勤快些吧，尽量谢谢注释吧，毕竟确实是我不对；如果有需要删除、测试代码等对源码可能造成影响的，我都要注意了；毕竟这也是个人修养，对我有好处，让我升级为好好码农也是不错的。。。<br>继承他人，有我不需要实现的功能，甚至替换他人代码层面，看到那些就蛋疼了。<br>最最最后说一个。我特么一过来就丢给我一个UI、丢一个wiki、我都还是不知道里面什么鬼，要问个人要转好几个弯，来来回回，晕头转向，过去了，大师态度我自己知道，说的很迷糊那种，问回来了还是迷迷糊糊。然而项目已经把时间差不多给你定好了。<br>你说蛋疼不。发版的时间就这么几天，那边都还没做好，下一个要做的功能又来了。<br>这次说我，我觉得很小题大作，我觉得无所谓，我会吸取教训，“小心、小心再小心”而已。我只是那只跳起来的鸡，刚好从海外组过来，是该杀杀锐气的。也为他人警示，警示也是有好处的警示，我认了。<br>规范也没说，那就个人尽量做好即可。我那一两个空文件，project 就卡的半死啦？？<br>那么多的重复库，重复定义，奇奇怪怪的内容、图片，就把我说一通？？<br>这个我嘴里服，心里也不服。说我不把项目当自己的搞，毛蛋！我要是不当回事，我代码就能写成以完成任务为主了。<br>再说之前那个类，那个类是我特么要写着留下来升华的，不用我早删了好伐，虽然不见得目前这个功能还没好，我可能会后面补上，但这个本来我就是要自己写，被你们决定要换思路的好伐，忘记是正常的，我现在还不知道这个weex内部怎么沟通的，脑子还是一团浆糊咧，哪可能记得那个啊。不要说你们写demo的时候第一次写把每个api 铭记，能记住的往后站，大部分都记不住好伐。我特么不标榜自己是多高尚的人，多聪明的人，我特么就是个努力的人，仅仅努力而已，我也不想我能写出多么超级超级好的代码，中国人是需要生活的，不是码神。<br>OK，说了那么多，是该说重点了。<br>这么多年来，我一直说着，学完这一个，是会上升自己空间了，学完这一个，我又更强大了，基本在这个层面的人都是比较好的，普遍普通类别之上的了。但是还是不够。我来当前公司，其实就是奔着学习而来。其实已经大差不差。比如一些思维开拓，一些产品思维、一些业务逻辑，一些控制管理，把控等，在新的知识储备方面也更加的好了，也更多的接触到底层，能做更好的了。<br>其实好的东西不是说拼命往上赶，拼命往上堆叠，就能好的。<br>好的东西，都是要有好的技术，好的底层。正如我之前思考的，很多的好的，能令人轰动的都是别人能学其表，难成其里的，好在了内在，真正的技术。其实现在我所做的，不过就是真的业务员，能研究的机会都不多，再难一点的东西都是局限于业务、功能块内，不能超脱，比如我们的技术领导“大师”，都把东西做到一半了，其他只不过是堆叠。<br>我自己私下，需要有两个地方开花。第一是面向工资编程的实现，没有金钱入手，什么都是没用的。<br>第二是将我这三十岁之前最后一个，最难的的东西学好：opengl。<br>以前确实都不是我该学习该物的时候，但，现在已经可以。以前的知识储备完全不能理解其中变化，现在已经能够得着了，也就是时候了。<br>是时候了。<br>想想兰姐2年5多部电影。我更努力学习难道不应该乎？</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-7-30lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/07/30/2017-7-30lesson/">2017/7/30lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/07/30/2017-7-30lesson/" class="article-date">
	  <time datetime="2017-07-29T16:02:57.000Z" itemprop="datePublished">July 30, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="新App上传"><a href="#新App上传" class="headerlink" title="新App上传"></a>新App上传</h3><p>上传碰见这事：构建的版本上去了，也出现在构建版本里面，不过过没一会就消失了。由于邮箱什么的都不在我这，过了好久才想起来，用的另一个邮箱，于是去看看有没有什么说明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Dear developer,</span><br><span class="line">We have discovered one or more issues with your recent delivery for &quot;Color Saga - Coloring book&quot;. To process your delivery, the following issues must be corrected:</span><br><span class="line">Non-public API usage:</span><br><span class="line">The app references non-public symbols in XXT: _UICreateCGImageFromIOSurface</span><br><span class="line">If method names in your source code match the private Apple APIs listed above, altering your method names will help prevent this app from being flagged in future submissions. In addition, note that one or more of the above APIs may be located in a static library that was included with your app. If so, they must be removed.</span><br><span class="line">If you think this message was sent in error and that you have only used Apple-published APIs in accordance with the guidelines, send the app&apos;s nine-digit Apple ID, along with detailed information about why you believe the above APIs were incorrectly flagged, to appreview@apple.com. For further information, visit the Technical Support Information page.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSCalendarsUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSPhotoLibraryUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSBluetoothPeripheralUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSMicrophoneUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSMotionUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Once these issues have been corrected, you can then redeliver the corrected binary.</span><br><span class="line">Regards,</span><br><span class="line">The App Store team</span><br></pre></td></tr></table></figure>
<p>然后就找到这篇文章，唉，，Reavel我按照教程，说不出问题了呀，但还是出这个问题了。</p>
<p><a href="http://www.cnblogs.com/WayneLiu/p/5251565.html" target="_blank" rel="noopener">http://www.cnblogs.com/WayneLiu/p/5251565.html</a></p>
<h3 id="YTKNetWork-在cacheData-时出错"><a href="#YTKNetWork-在cacheData-时出错" class="headerlink" title="YTKNetWork 在cacheData 时出错"></a>YTKNetWork 在cacheData 时出错</h3><p>缘由是cacheData数据没有在拿到缓存之后继续跟服务器获取，查到<a href="https://github.com/yuantiku/YTKNetwork/issues/106" target="_blank" rel="noopener">https://github.com/yuantiku/YTKNetwork/issues/106</a><br>处理为下例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">XXHomeCateListApi *cateListApi = [[XXHomeCateListApi alloc]initWithData:@&#123;@&quot;category_id&quot;:self.cateModel.id,@&quot;start&quot;:input,@&quot;category_name&quot;:self.cateModel.name&#125;];</span><br><span class="line">if ([cateListApi loadCacheWithError:nil]) &#123;</span><br><span class="line">[self requestSuccessWithapi:cateListApi subscriber:subscriber];</span><br><span class="line">&#125;</span><br><span class="line">cateListApi = [[XXHomeCateListApi alloc]initWithData:@&#123;@&quot;category_id&quot;:self.cateModel.id,@&quot;start&quot;:input,@&quot;category_name&quot;:self.cateModel.name&#125;];</span><br><span class="line">[cateListApi startWithoutCache];</span><br><span class="line">[cateListApi startWithCompletionBlockWithSuccess:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">&#125; failure:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h3 id="InAPPPurchase"><a href="#InAPPPurchase" class="headerlink" title="InAPPPurchase"></a>InAPPPurchase</h3><p>这几天有做内购遇到的问题</p>
<ul>
<li>首先是刚进入先确认一次内购金额和手机当前货币的对比，保存该数据（如果没有获取到则显示默认的美金金额）如</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">+(void)queryProductMoney&#123;</span><br><span class="line">dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</span><br><span class="line">NSArray *googsArray = @[@&quot;0&quot;,@&quot;1&quot;,@&quot;12&quot;];</span><br><span class="line">NSSet *products = [NSSet setWithArray:googsArray];</span><br><span class="line">[[RMStore defaultStore] requestProducts:products success:^(NSArray *products, NSArray *invalidProductIdentifiers) &#123;</span><br><span class="line">NSLog(@&quot;Products loaded&quot;);</span><br><span class="line">NSMutableDictionary *priceDic = [@&#123;&#125; mutableCopy];</span><br><span class="line">[products enumerateObjectsUsingBlock:^(SKProduct*  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123;</span><br><span class="line">LxDBAnyVar(obj);</span><br><span class="line">NSString *str = [XXPurchaseRequest currencyPriceWithProduct:obj];</span><br><span class="line">[priceDic setObject:str forKey:obj.productIdentifier];</span><br><span class="line">&#125;];</span><br><span class="line">[USERDEFAULT setObject:priceDic forKey:kAPPProduct];</span><br><span class="line">&#125; failure:^(NSError *error) &#123;</span><br><span class="line">&#125;];</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样便能显示出你当前要展示的加个信息了。</p>
<ul>
<li>关于内购时省查最严的就是More Info这个关键词。More Info 填写在有持续性扣费，会更加严格，我们当时在“Mine APP” 备注加上<br><code>we have the purchase info at setting page ,click the &quot;Subscription FAQ&quot;&amp;&quot;About&quot; which user purchase info is display there. when user is about to pay, there have a button name &quot;more info&quot; , user can get enough help with that.</code></li>
</ul>
<p>然后在相应位置提供more info。特么注明要有如以下词汇：改词汇来自“ColorSaga”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ColorSaga Premium</span><br><span class="line">- With ColorSaga Premium you can subscribe for daily new picture updates and unlimited access to the full picture catalog</span><br><span class="line">- You&apos;ll be able to access all available pictures</span><br><span class="line">- The subscriptions are $2.99 USD weekly, $7.99 USD monthly and $39.99 USD annually or equal to the same price tier that &quot;Apple&apos;s App Store Matrix&quot; determines in other currencies.</span><br><span class="line">- You may cancel a subscription or free-trial anytime via the subscription setting through your iTunes account. This must be done 24 hours before the end of the free-trial or subscription period to avoid being charged.</span><br><span class="line">- Subscription automatically renews unless auto-renew is turned off at least 24-hours before the end of the current period. No cancellation of the current subscription is allowed during active subscription period. Any unused portion of a free-trial period, will be forfeited when the user purchases a ColorSaga Premium</span><br><span class="line"></span><br><span class="line">Terms of use: http://d.fenfenriji.com/colorx/html/termsOfService.html</span><br><span class="line">Privacy policy: http://d.fenfenriji.com/colorx/html/privacyPolicy.html</span><br></pre></td></tr></table></figure>
<ul>
<li>技术支持URL</li>
</ul>
<p>可以使用github 网址或者博客网址，但是一定要有两个因素：1，该为为xxx提供技术支持 2，该含有联系电话或联系邮箱</p>
<ul>
<li>在上线一两天之后开始做一次应用购买以提升曝光率。小技巧</li>
</ul>
<p>应用如果有付费情况，然后过几天之后就解开，那么会有一些网站给该应用写报道，称限免应用，这样会出现一波高增长。</p>
<h3 id="CaLayer-drawInContext-绘图方法，出现-lt-Error-gt-CGContextSetFlatness-invalid-context-0x0-If-you-want-to-see-the-backtrace-please-set-CG-CONTEXT-SHOW-BACKTRACE-environmental-variable"><a href="#CaLayer-drawInContext-绘图方法，出现-lt-Error-gt-CGContextSetFlatness-invalid-context-0x0-If-you-want-to-see-the-backtrace-please-set-CG-CONTEXT-SHOW-BACKTRACE-environmental-variable" class="headerlink" title="CaLayer drawInContext 绘图方法，出现&lt;Error&gt;: CGContextSetFlatness: invalid context 0x0. If you want to see the backtrace, please set CG_CONTEXT_SHOW_BACKTRACE environmental variable."></a>CaLayer drawInContext 绘图方法，出现<code>&lt;Error&gt;: CGContextSetFlatness: invalid context 0x0. If you want to see the backtrace, please set CG_CONTEXT_SHOW_BACKTRACE environmental variable.</code></h3><p>在<code>-(void)drawInContext:(CGContextRef)ctx</code>方法开始第一句加上<code>UIGraphicsPushContext(ctx);</code>，因为当前绘图上下文在上层</p>
<h3 id="UIColor-colorWithPattern-gt-提供一个图"><a href="#UIColor-colorWithPattern-gt-提供一个图" class="headerlink" title="UIColor colorWithPattern-&gt;提供一个图"></a>UIColor colorWithPattern-&gt;提供一个图</h3><p>最近在做绘图工具，思考要一个东西。即要画一个有texture layer的图，没法输入。一开始有想法说在layer的contents，将图片叠加之后的image填为contents，后来重新看到这个方法即想到了，我可以使用color 的其中一个方法colorWithPattern的方法得到texture 图了。</p>
<h3 id="上海办理公积金"><a href="#上海办理公积金" class="headerlink" title="上海办理公积金"></a>上海办理公积金</h3><p>由于公积金可以付房租，对于待上海人来说能缓解很大很大的压力。这里给出前几天去办理大概过程。<br>地点：##汉中路120号##。地铁下来之后找到#汉中路#出口，走上楼梯之后往右走。大概100米有个不是门的小入口有一个向上的logo，写着上二楼。<br>上二楼之后填写两张表格，记得人多先取等号机。<br>需要的材料：<br>(结婚)结婚证、两人一起去(看情况，那次老婆先去也办成功，尽量一起去吧)、身份证、银行卡(上海银行卡、办理支行,作用是到时办理人员要刷一下)、手机；<br>未结婚的话，除去结婚证其他同样；<br>金额：每人（每户）最多2000，按季度发放，家庭办理一个之后，扣完款没有余额了才能办理另一个人的；<br>办理成功大概需要半个月；<br>上班时间：上午9点到11点40左右 下午一点半到4点半左右；</p>
<h3 id="通过越狱机iFile-导出手机数据"><a href="#通过越狱机iFile-导出手机数据" class="headerlink" title="通过越狱机iFile 导出手机数据"></a>通过越狱机iFile 导出手机数据</h3><p>由于手机不是完美越狱，很久没更新，导入导出数据都巨麻烦。这里提供一个思路。由于iFunbox提供导入导出路径在Home 的Media文件目录。<br>首先，app 路径在/var/containers/Bundle/Application 里面找到自己要的数据，右上角Edit，右下角Copy。然后点击中间的Home键，翻到Media目录，Paste。<br>在电脑使用iFunbox 到Media目录，然后导出改文件。导入文件也同理反操作。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/8/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/10/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div class="widget-wrap" style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 75%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 42px;" placeholder=" Search…" value name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Connect With Us</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
          
     			  <li><a href="https://github.com/shaohung001" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Google-plus"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Pinterest"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Flickr"><i class="fa fa-flickr" aria-hidden="true"></i></a></li> 
          
   		
          
            <li><a href="mailto:?subject=请联系我&body=我能帮你什么" title="email"><i class="fa fa-envelope" aria-hidden="true"></i></a></li> 
          
   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/08/05/2021-8-5lesson/">2021-8-5lesson</a></h6>
              <span>August 5, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/07/31/2021-7-31lesson/">2021-7-31lesson</a></h6>
              <span>July 31, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/07/06/2021-7-5lesson/">2021-7-5lesson</a></h6>
              <span>July 6, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/07/06/2021-7-6lesson/">2021-7-6lesson</a></h6>
              <span>July 6, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/06/16/2021-6-16lesson/">2021-6-16lesson</a></h6>
              <span>June 16, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/06/16/2021-6-11lesson/">2021-6-11lesson</a></h6>
              <span>June 16, 2021</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2020过年/">2020过年</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Charles-https-iTunes-下载历史版本/">Charles https iTunes 下载历史版本</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPUimage/">GPUimage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GTX750/">GTX750</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IT/">IT</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAC/">RAC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VVVVVV/">VVVVVV</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/acme/">acme</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awaitCall/">awaitCall</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bitbucket-ios/">bitbucket  ios</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocoapods/">cocoapods</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-golang/">docker golang</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/goland-mod-爆红/">goland mod 爆红</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hackintoshell/">hackintoshell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios-it-dylib-nosuchfileordirectory/">ios it dylib(nosuchfileordirectory)</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios7/">ios7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k3s/">k3s</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac-opengl/">mac_opengl</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/neo4j/">neo4j</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-http-flv-module/">nginx-http-flv-module</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/obs/">obs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/parallels/">parallels</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qiniu/">qiniu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reactivecocoa/">reactivecocoa</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/src-nginx-flv/">src nginx-flv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/srs/">srs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/买房-产证/">买房, 产证</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/买房资格/">买房资格</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小说/">小说</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/居住证积分/">居住证积分</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂谈/">杂谈</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/猴头菇生病/">猴头菇生病</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/看房/">看房</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/科目三/">科目三</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/脑残/">脑残</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/2020过年/" style="font-size: 10px;">2020过年</a> <a href="/tags/Charles-https-iTunes-下载历史版本/" style="font-size: 10px;">Charles https iTunes 下载历史版本</a> <a href="/tags/GPUimage/" style="font-size: 10px;">GPUimage</a> <a href="/tags/GTX750/" style="font-size: 10px;">GTX750</a> <a href="/tags/IT/" style="font-size: 15px;">IT</a> <a href="/tags/RAC/" style="font-size: 10px;">RAC</a> <a href="/tags/VVVVVV/" style="font-size: 20px;">VVVVVV</a> <a href="/tags/acme/" style="font-size: 10px;">acme</a> <a href="/tags/awaitCall/" style="font-size: 10px;">awaitCall</a> <a href="/tags/bitbucket-ios/" style="font-size: 10px;">bitbucket  ios</a> <a href="/tags/c/" style="font-size: 10px;">c++</a> <a href="/tags/cocoapods/" style="font-size: 10px;">cocoapods</a> <a href="/tags/docker-golang/" style="font-size: 10px;">docker golang</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/goland-mod-爆红/" style="font-size: 10px;">goland mod 爆红</a> <a href="/tags/hackintoshell/" style="font-size: 10px;">hackintoshell</a> <a href="/tags/ios-it-dylib-nosuchfileordirectory/" style="font-size: 10px;">ios it dylib(nosuchfileordirectory)</a> <a href="/tags/ios7/" style="font-size: 10px;">ios7</a> <a href="/tags/k3s/" style="font-size: 10px;">k3s</a> <a href="/tags/mac-opengl/" style="font-size: 10px;">mac_opengl</a> <a href="/tags/neo4j/" style="font-size: 10px;">neo4j</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/nginx-http-flv-module/" style="font-size: 10px;">nginx-http-flv-module</a> <a href="/tags/obs/" style="font-size: 10px;">obs</a> <a href="/tags/parallels/" style="font-size: 10px;">parallels</a> <a href="/tags/qiniu/" style="font-size: 10px;">qiniu</a> <a href="/tags/reactivecocoa/" style="font-size: 10px;">reactivecocoa</a> <a href="/tags/src-nginx-flv/" style="font-size: 10px;">src nginx-flv</a> <a href="/tags/srs/" style="font-size: 10px;">srs</a> <a href="/tags/买房-产证/" style="font-size: 10px;">买房, 产证</a> <a href="/tags/买房资格/" style="font-size: 10px;">买房资格</a> <a href="/tags/小说/" style="font-size: 10px;">小说</a> <a href="/tags/居住证积分/" style="font-size: 10px;">居住证积分</a> <a href="/tags/杂谈/" style="font-size: 10px;">杂谈</a> <a href="/tags/猴头菇生病/" style="font-size: 10px;">猴头菇生病</a> <a href="/tags/看房/" style="font-size: 10px;">看房</a> <a href="/tags/科目三/" style="font-size: 10px;">科目三</a> <a href="/tags/脑残/" style="font-size: 10px;">脑残</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">68</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2021 aKer All Rights Reserved.
          
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hiero" target="_blank">hiero</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1278024876&web_id=1278024876" language="JavaScript"></script>
  </div>



	<script async src="https://dnqof95d40fo6.cloudfront.net/atw7f8.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/src/click.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
