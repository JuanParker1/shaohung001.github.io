<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title>aKer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
    <meta name="google-site-verification" content="4ibqBFKTH9pzNJzZlbE3r1AaiwTFg4sNw9KZ5oQL9c4">
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="aKer">
<meta property="og:url" content="https://shaohung001.github.io/page/8/index.html">
<meta property="og:site_name" content="aKer">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="aKer">
  
    <link rel="alternate" href="/atom.xml" title="aKer" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  
    <link rel="stylesheet" href="/css/vdonate.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-7054334687711145",
          enable_page_level_ads: true
      });
  </script>
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/archives"] = "Archives"; 

  themeMenus["/categories"] = "Categories"; 

  themeMenus["/tags"] = "Tags"; 

  themeMenus["/about"] = "About"; 

</script>


  <body>


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="aKer" rel="home"> aKer </a>
            
          </h1>

          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/tags">Tags</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt src>
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "css/images/pose.jpg,https://source.unsplash.com/collection/954550/1920x1080".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">

      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-2017-08-29lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/10/06/2017-08-29lesson/">2017-08-29lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/10/06/2017-08-29lesson/" class="article-date">
	  <time datetime="2017-10-06T12:23:31.000Z" itemprop="datePublished">October 6, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017/8/29<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">NSURL *url = [NSURL URLWithString: @&quot;http://www.baidu.com/s?tn=baiduhome_pg&amp;bs=NSRUL&amp;f=8&amp;rsv_bp=1&amp;rsv_spt=1&amp;wd=NSurl&amp;inputT=2709&quot;];  </span><br><span class="line">NSLog(@&quot;Scheme: %@&quot;, [url scheme]); </span><br><span class="line">NSLog(@&quot;Host: %@&quot;, [url host]); </span><br><span class="line">NSLog(@&quot;Port: %@&quot;, [url port]);  </span><br><span class="line">NSLog(@&quot;Path: %@&quot;, [url path]);  </span><br><span class="line">NSLog(@&quot;Relative path: %@&quot;, [url relativePath]); </span><br><span class="line">NSLog(@&quot;Path components as array: %@&quot;, [url pathComponents]);   </span><br><span class="line">NSLog(@&quot;Parameter string: %@&quot;, [url parameterString]);  </span><br><span class="line">NSLog(@&quot;Query: %@&quot;, [url query]);   </span><br><span class="line">NSLog(@&quot;Fragment: %@&quot;, [url fragment]); </span><br><span class="line">NSLog(@&quot;User: %@&quot;, [url user]); </span><br><span class="line">NSLog(@&quot;Password: %@&quot;, [url password]);</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2012-03-31 18:22:20.904 SmallDemoList[5473:11603] 12131232</span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Scheme: http </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Host: www.baidu.com </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Port: (null) </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Path: /s </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Relative path: /s </span><br><span class="line">2012-03-31 18:22:20.907 SmallDemoList[5473:11603] Path components as array: ( </span><br><span class="line"> &quot;/&quot;, </span><br><span class="line">) </span><br><span class="line">2012-03-31 18:22:20.916 SmallDemoList[5473:11603] Parameter string: (null) </span><br><span class="line">2012-03-31 18:22:20.917 SmallDemoList[5473:11603] Query: tn=baiduhome_pg&amp;bs=NSRUL&amp;f=8&amp;rsv_bp=1&amp;rsv_spt=1&amp;wd=NSurl&amp;inputT=2709</span><br><span class="line">2012-03-31 18:22:20.917 SmallDemoList[5473:11603] Fragment: (null) </span><br><span class="line">2012-03-31 18:22:20.917 SmallDemoList[5473:11603] User: (null) </span><br><span class="line">2012-03-31 18:22:20.917 SmallDemoList[5473:11603] Password: (null)</span><br></pre></td></tr></table></figure>
<hr>
<p>sourcetree 自己比较常用的<br>1：amand 钩子 对本地的进行amand<br>2：将“xxx”重置到本次提交 - 强行合并 丢弃所有工作副本改动       将本地数据回调到选中版本，删除所有工作副本<br>3：要commit 前，查看所有改动，确认所有改动是否正确</p>
<h3 id="接下来的时间，是时候拆解一个项目，成为一个一个精品轮子了"><a href="#接下来的时间，是时候拆解一个项目，成为一个一个精品轮子了" class="headerlink" title="接下来的时间，是时候拆解一个项目，成为一个一个精品轮子了"></a>接下来的时间，是时候拆解一个项目，成为一个一个精品轮子了</h3><ul>
<li>日记</li>
<li>单位换算</li>
<li>BMI</li>
<li>手账</li>
<li>给他们写一个小型聊天demo</li>
</ul>
<h3 id="记一次输入键盘-在inputView替换状态resignKeyboard-出现的问题"><a href="#记一次输入键盘-在inputView替换状态resignKeyboard-出现的问题" class="headerlink" title="记一次输入键盘 在inputView替换状态resignKeyboard 出现的问题"></a>记一次输入键盘 在inputView替换状态resignKeyboard 出现的问题</h3><p>其中在 emoji状态，如果resign 那么其会走 showKeyboard 和hideKeyboard ，由于keyboard 比较慢，，会出现completion 最慢，，最后导致界面不能滑动</p>
<h3 id="导航栏的几种推栈、退栈"><a href="#导航栏的几种推栈、退栈" class="headerlink" title="导航栏的几种推栈、退栈"></a>导航栏的几种推栈、退栈</h3><ol>
<li>没导航栏-&gt;有导航栏   没导航栏&lt;-有导航栏</li>
<li>有导航栏-&gt;有导航栏   有导航栏&lt;-有导航栏</li>
<li>没导航栏-&gt;没导航栏   没导航栏&lt;-没导航栏</li>
</ol>
<p>这一类都是需要注意的一个地方，在viewwillApeare 和viewWillDisapear 2个方法里面的对应2个方法优化:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.navigationController.navigationBarHidden = YES;</span><br><span class="line">[self.navigationController setNavigationBarHidden:YES animated:animated];</span><br></pre></td></tr></table></figure></p>
<h3 id="日期格式"><a href="#日期格式" class="headerlink" title="日期格式"></a>日期格式</h3><p><a href="http://www.cnblogs.com/wayne23/archive/2013/03/25/2981009.html" target="_blank" rel="noopener">http://www.cnblogs.com/wayne23/archive/2013/03/25/2981009.html</a></p>
<p>时间与日期处理</p>
<p>主要有以下类：<br>NSDate – 表示一个绝对的时间点<br>NSTimeZone – 时区信息<br>NSLocale – 本地化信息<br>NSDateComponents – 一个封装了具体年月日、时秒分、周、季度等的类<br>NSCalendar – 日历类，它提供了大部分的日期计算接口，并且允许您在NSDate和NSDateComponents之间转换<br>NSDateFormatter – 用来在日期和字符串之间转换</p>
<p>NSDate</p>
<p>NSDate用来表示公历的GMT时间(格林威治时间)。 有下面几种初始化方法：</p>
<ol>
<li><ul>
<li>(id)init</li>
</ul>
</li>
</ol>
<p>默认初始化，返回当前时间，也可以直接调用类方法 +(id)date</p>
<p>NSDate <em>date = [[NSDate alloc] init];<br>//NSDate </em>date = [NSDate date];<br>NSLog(@”print date is %@”,date);<br>将打印出计算机当前时间：2013-03-04 08:57:20 +0000</p>
<ol start="2">
<li><ul>
<li>(id)initWithTimeIntervalSinceNow:(NSTimeInterval)seconds</li>
</ul>
</li>
</ol>
<p>以当前时间的偏移秒数来初始化，也可以直接调用类方法 + (id)dateWithTimeIntervalSinceNow:(NSTimeInterval)seconds</p>
<p>NSDate <em>date = [[NSDate alloc] initWithTimeIntervalSinceNow:20];<br>//NSDate </em>date = [NSDate dateWithTimeIntervalSinceNow:20];<br>NSLog(@”print date is %@”,date);<br>假如当前时间是2013-03-04 08:57:20 +0000，那么初始化后得到的时间是2013-03-04 08:57:40 +0000</p>
<ol start="3">
<li><ul>
<li>(id)initWithTimeIntervalSince1970:(NSTimeInterval)seconds</li>
</ul>
</li>
</ol>
<p>以GMT时间的偏移秒数来初始化，也可以直接调用类方法 + (id)dateWithTimeIntervalSince1970:(NSTimeInterval)seconds</p>
<p>NSDate <em>date = [[NSDate alloc] initWithTimeIntervalSince1970:-20];<br>//NSDate </em>date = [NSDate dateWithTimeIntervalSince1970:-20];<br>NSLog(@”print date is %@”,date);<br>得到的时间是格林威治时间往前20秒，将打印出：1969-12-31 23:59:40 +0000</p>
<ol start="4">
<li><ul>
<li>(id)initWithTimeIntervalSinceReferenceDate:(NSTimeInterval)seconds</li>
</ul>
</li>
</ol>
<p>以2001-1-1 0:0:0的偏移秒数来初始化，也可以直接调用类方法 + (id)dateWithTimeIntervalSinceReferenceDate:(NSTimeInterval)seconds</p>
<p>NSDate <em>date = [[NSDate alloc] initWithTimeIntervalSinceReferenceDate:80];<br>//NSDate </em>date = [NSDate dateWithTimeIntervalSinceReferenceDate:80];<br>NSLog(@”print date is %@”,date);<br>将打印出：2001-01-01 00:01:20 +0000</p>
<ol start="5">
<li><ul>
<li>(id)initWithTimeInterval:(NSTimeInterval)seconds sinceDate:(NSDate *)refDate</li>
</ul>
</li>
</ol>
<p>以基准时间的偏移秒数来初始化，也可以直接调用类方法 + (id)dateWithTimeInterval:(NSTimeInterval)seconds sinceDate:(NSDate *)date</p>
<p>复制代码<br>NSDate *date1 = [[NSDate alloc] initWithTimeIntervalSinceReferenceDate:20];<br>NSLog(@”print date1 is %@”,date1);</p>
<p>NSDate <em>date2 = [[NSDate alloc] initWithTimeInterval:10 sinceDate:date1];<br>//NSDate </em>date2 = [NSDate dateWithTimeInterval:10 sinceDate:date1];<br>NSLog(@”print date2 is %@”,date2);<br>复制代码<br>第一个基准时间是2001-01-01 00:00:20 +0000，根据基准时间偏移10秒的结果是2001-01-01 00:00:30 +0000</p>
<ol start="6">
<li><ul>
<li>(id)distantPast 与 + (id)distantFuture</li>
</ul>
</li>
</ol>
<p>这两个是类方法，分别用来返回一个极早的时间点和一个极晚的时间点</p>
<p>NSDate *date = [NSDate distantFuture];<br>NSLog(@”future date is %@”,date);</p>
<p>NSDate *date2 = [NSDate distantPast];<br>NSLog(@”past date is %@”,date2);<br>distantPast将返回：0001-12-30 00:00:00 +0000，distantFuture将返回：4001-01-01 00:00:00 +0000</p>
<p>NSDate的常用对象方法：</p>
<ol>
<li>-(id)dateByAddingTimeInterval:(NSTimeInterval)seconds</li>
</ol>
<p>返回以当前NSDate对象为基准，偏移多少秒后得到的新NSDate对象。(旧方法 - (id)addTimeInterval:(NSTimeInterval)seconds已被弃用)</p>
<p>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [date dateByAddingTimeInterval:-20];<br>NSLog(@”%@”,date2);</p>
<ol start="2">
<li><ul>
<li>(BOOL)isEqualToDate:(NSDate *)anotherDate</li>
</ul>
</li>
</ol>
<p>将当前对象与参数传递的对象进行比较，根据是否相同返回BOOL值</p>
<p>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [NSDate dateWithTimeInterval:0 sinceDate:date];<br>BOOL isEqual = [date isEqualToDate:date2];<br>NSLog(@”%i”,isEqual);</p>
<ol start="3">
<li><ul>
<li>(NSDate <em>)earlierDate:(NSDate </em>)anotherDate 与 - (NSDate <em>)laterDate:(NSDate </em>)anotherDate</li>
</ul>
</li>
</ol>
<p>比较两个NSDate对象，返回较早/较晚的时间点，并以新NSDate对象的形式返回</p>
<p>复制代码<br>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [NSDate dateWithTimeInterval:-50 sinceDate:date];</p>
<p>NSDate *date3 = [date earlierDate:date2];<br>NSLog(@”earlier date is %@”,date3);</p>
<p>NSDate *date4 = [date laterDate:date2];<br>NSLog(@”later date is %@”,date4);<br>复制代码</p>
<ol start="4">
<li><ul>
<li>(NSComparisonResult)compare:(NSDate *)anotherDate</li>
</ul>
</li>
</ol>
<p>将当前对象与参数传递的对象进行比较，如果相同，返回0(NSOrderedSame)；对象时间早于参数时间，返回-1(NSOrderedAscending)；对象时间晚于参数时间，返回1(NSOrderedDescending)</p>
<p>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [NSDate dateWithTimeInterval:-50 sinceDate:date];</p>
<p>NSInteger result = [date compare:date2];<br>NSLog(@”%i”,result);</p>
<ol start="5">
<li><ul>
<li>(NSTimeInterval)timeIntervalSince1970</li>
</ul>
</li>
</ol>
<p>返回当前对象时间与1970-1-1 0:0:0的相隔秒数，也可以这样理解：从1970-1-1 0:0:0开始，经过多少秒到达对象指定时间。</p>
<p>NSDate *date = [NSDate dateWithTimeIntervalSince1970:50];<br>NSInteger seconds = [date timeIntervalSince1970];<br>NSLog(@”%i”,seconds);<br>将返回结果50</p>
<ol start="6">
<li><ul>
<li>(NSTimeInterval)timeIntervalSinceReferenceDate</li>
</ul>
</li>
</ol>
<p>返回当前对象时间与2001-1-1 0:0:0的相隔秒数，也可以这样理解：从2001-1-1 0:0:0开始，经过多少秒到达对象指定时间。</p>
<p>NSDate *date = [NSDate dateWithTimeIntervalSinceReferenceDate:-30];<br>NSInteger seconds = [date timeIntervalSinceReferenceDate];<br>NSLog(@”%i”,seconds);<br>将返回结果-30，负数代表从2001-1-1 0:0:0开始，倒退30秒到达当前时间。</p>
<ol start="7">
<li><ul>
<li>(NSTimeInterval)timeIntervalSinceNow</li>
</ul>
</li>
</ol>
<p>返回当前对象时间与客户端时间的相隔秒数，也可以这样理解：从客户端当前时间开始，经过多少秒到达对象指定时间。</p>
<p>NSDate *date = [NSDate dateWithTimeIntervalSinceNow:100];<br>NSInteger seconds = [date timeIntervalSinceNow];<br>NSLog(@”%i”,seconds);<br>经测试返回了结果99，但初始化时提供的参数是100。这可能是因为第一句初始化代码到第二句计算代码之间有个1秒内的延时，所以计算时的客户端时间比初始化时的客户端时间快了1秒。</p>
<ol start="8">
<li><ul>
<li>(NSTimeInterval)timeIntervalSinceDate:(NSDate *)anotherDate</li>
</ul>
</li>
</ol>
<p>返回当前对象时间与参数传递的对象时间的相隔秒数，也可以这样理解：从参数时间开始，经过多少秒到达对象执行时间。</p>
<p>NSDate <em>date = [NSDate dateWithTimeIntervalSince1970:0];<br>NSDate </em>date2 = [NSDate dateWithTimeInterval:50 sinceDate:date];<br>NSInteger seconds = [date timeIntervalSinceDate:date2];<br>NSLog(@”%i”,seconds);<br>将返回结果-50，date为1970-1-1 0:0:0，date2为1970-1-1 0:0:50，从date2的时间开始，倒退50秒到达date的时间。</p>
<p>NSTimeZone</p>
<p>NSTimeZone表示时区信息。 有下面几种初始化方法：</p>
<ol>
<li><ul>
<li>(id)timeZoneWithName:(NSString <em>)aTimeZoneName / - (id)initWithName:(NSString </em>)aName</li>
</ul>
</li>
</ol>
<p>根据时区名称初始化。可以调用NSTimeZone的类方法 + (NSArray *)knownTimeZoneNames来返回所有已知的时区名称。</p>
<p>NSTimeZone <em>zone = [[NSTimeZone alloc] initWithName:@”America/Chicago”];<br>//NSTimeZone </em>zone = [NSTimeZone timeZoneWithName:@”America/Chicago”];<br>NSLog(@”%@”,zone);<br>打印出：America/Chicago (CST) offset -21600</p>
<ol start="2">
<li><ul>
<li>(id)timeZoneWithAbbreviation:(NSString *)abbreviation</li>
</ul>
</li>
</ol>
<p>根据时区缩写初始化。例如：EST(美国东部标准时间)、HKT(香港标准时间)</p>
<p>NSTimeZone *zone = [NSTimeZone timeZoneWithAbbreviation:@”EST”];<br>NSLog(@”%@”,zone);<br>打印出：Asia/Hong_Kong (HKT) offset 28800</p>
<ol start="3">
<li><ul>
<li>(NSTimeZone *)systemTimeZone</li>
</ul>
</li>
</ol>
<p>返回系统时区</p>
<p>NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>NSLog(@”%@”,zone);<br>假如时区是上海，打印出的时区信息将会是：Asia/Shanghai (CST (China)) offset 28800，28800代表相对于GMT时间偏移的秒数，即8个小时。(8</em>60*60)</p>
<ol start="4">
<li><ul>
<li>(NSTimeZone *)localTimeZone</li>
</ul>
</li>
</ol>
<p>返回本地时区，与systemTimeZone的区别在于：本地时区可以被修改，而系统时区不能修改。</p>
<p>复制代码<br>[NSTimeZone setDefaultTimeZone:[[NSTimeZone alloc] initWithName:@”America/Chicago”]];</p>
<p>NSTimeZone <em>systemZone = [NSTimeZone systemTimeZone];<br>NSTimeZone </em>localZone = [NSTimeZone localTimeZone];</p>
<p>NSLog(@”%@”,systemZone);<br>NSLog(@”%@”,localZone);<br>复制代码<br>打印出的系统时区仍然是：Asia/Shanghai (CST (China)) offset 28800；而本地时区经过修改后，变成了：Local Time Zone (America/Chicago (CST) offset -21600)</p>
<ol start="5">
<li><ul>
<li>(id)timeZoneForSecondsFromGMT:(NSInteger)seconds</li>
</ul>
</li>
</ol>
<p>根据零时区的秒数偏移返回一个新时区对象</p>
<p>NSTimeZone *zone = [NSTimeZone timeZoneForSecondsFromGMT:28800];<br>NSLog(@”%@”,zone);<br>打印出：GMT+0800 (GMT+08:00) offset 28800</p>
<p>NSTimeZone常用对象方法与类方法：</p>
<ol>
<li><ul>
<li>(NSArray *)knownTimeZoneNames</li>
</ul>
</li>
</ol>
<p>以数组的形式返回所有已知的时区名称</p>
<p>NSArray <em>zoneArray = [NSTimeZone knownTimeZoneNames];<br>for(NSString </em>str in zoneArray)<br>{<br>    NSLog(@”%@”,str);<br>}</p>
<ol start="2">
<li><ul>
<li>(NSString <em>)name / - (NSString </em>)abbreviation</li>
</ul>
</li>
</ol>
<p>返回时区对象的名称或缩写</p>
<p>NSTimeZone <em>zone = [NSTimeZone localTimeZone];<br>NSString </em>strZoneName = [zone name];<br>NSString *strZoneAbbreviation = [zone abbreviation];<br>NSLog(@”name is %@”,strZoneName);<br>NSLog(@”abbreviation is %@”,strZoneAbbreviation);<br>name is Asia/Hong_Kong</p>
<p>abbreviation is HKT</p>
<ol start="3">
<li><ul>
<li>(NSInteger)secondsFromGMT</li>
</ul>
</li>
</ol>
<p>得到当前时区与零时区的间隔秒数</p>
<p>NSTimeZone *zone = [NSTimeZone localTimeZone];<br>int seconds = [zone secondsFromGMT];<br>NSLog(@”%i”,seconds);<br>NSLoale</p>
<p>NSLoale类返回本地化信息，主要体现在”语言”和”区域格式”这两个设置项。有下面几种初始化方法：</p>
<ol>
<li><ul>
<li>(id)systemLocale</li>
</ul>
</li>
</ol>
<p>返回系统初始本地化信息</p>
<p>NSLocale *locale = [NSLocale systemLocale];<br>NSLog(@”%@”,[[locale objectForKey:NSLocaleCalendar] calendarIdentifier]);</p>
<ol start="2">
<li><ul>
<li>(id)currentLocale / + (id)autoupdatingCurrentLocale</li>
</ul>
</li>
</ol>
<p>这两个类方法都将返回当前客户端的本地化信息，区别在于：currentLocale取得的值会一直保持在cache中，第一次用此方法实例化对象后，即使修改了本地化设定，这个对象也不会改变。而使用autoupdatingCurrentLocale，当每次修改本地化设定，其实例化的对象也会随之改变。</p>
<p>下面的代码演示了区别所在，假设初始本地化信息为en_US，先用这两个函数分别初始化两个对象，然后修改本地化设定语言为台湾繁体中文，再重新打印这两个对象的信息：</p>
<p>复制代码<br>NSLocale <em>locale1;<br>NSLocale </em>locale2;</p>
<ul>
<li><p>(IBAction)doTest:(id)sender<br>{<br>  locale1 = [NSLocale currentLocale];<br>  locale2 = [NSLocale autoupdatingCurrentLocale];</p>
<p>  NSLog(@”%@”,locale1.localeIdentifier); //print “en_US”<br>  NSLog(@”%@”,locale2.localeIdentifier); //print “en_US”<br>}</p>
</li>
<li><p>(IBAction)doAgain:(id)sender<br>{<br>  NSLog(@”%@”,locale1.localeIdentifier); //print “en_US”<br>  NSLog(@”%@”,locale2.localeIdentifier); //print “zh_TW”<br>}<br>复制代码</p>
</li>
</ul>
<ol start="3">
<li><ul>
<li>(id)initWithLocaleIdentifier:(NSString *)string</li>
</ul>
</li>
</ol>
<p>用标示符初始化本地化信息</p>
<p>NSLocale <em>locale = [[NSLocale alloc] initWithLocaleIdentifier:@”zh_CN”];<br>NSString </em>strSymbol = [locale objectForKey:NSLocaleCurrencySymbol];<br>NSLog(@”%@”,strSymbol);<br>代码用”zh_CN”来初始化对象，然后再打印出对象的货币符号，得到的结果是人民币符号￥</p>
<p>NSLoale常用对象方法与类方法：</p>
<ol>
<li><ul>
<li>(id)objectForKey:(id)key</li>
</ul>
</li>
</ol>
<p>根据不同的key返回各种本地化信息，例如下面的代码返回了当前货币符号：</p>
<p>NSLocale <em>locale = [NSLocale currentLocale];<br>NSString </em>strSymbol = [locale objectForKey:NSLocaleCurrencySymbol];<br>NSCalendar *calendar = [[NSLocale currentLocale] objectForKey:NSLocaleCalendar];</p>
<ol start="2">
<li><ul>
<li>(NSString *)displayNameForKey:(id)key value:(id)value</li>
</ul>
</li>
</ol>
<p>显示特定地区代号下相应键的显示名称：</p>
<p>NSLocale <em>locale = [[NSLocale alloc] initWithLocaleIdentifier:@”zh_CN”];<br>NSString </em>str = [locale displayNameForKey:NSLocaleIdentifier value:@”en_US”];<br>NSLog(@”%@”,str);<br>第一句代码代表以中文来实例化对象，然后得到”en_US”的NSLocaleIdentifier键的显示名称。最后输出的结果是”英文（美国）”</p>
<p>NSDateComponents</p>
<p>NSDateComponents封装了具体年月日、时秒分、周、季度等</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setEra:1];<br>[compt setYear:2013];<br>[compt setMonth:3];<br>[compt setDay:15];<br>[compt setHour:11];<br>[compt setMinute:20];<br>[compt setSecond:55];<br>[compt setQuarter:2];<br>[compt setTimeZone:[NSTimeZone systemTimeZone]];<br>[compt setWeek:3];<br>[compt setWeekday:4];<br>[compt setWeekOfMonth:3];<br>[compt setWeekOfYear:2];<br>[compt setCalendar:[NSCalendar currentCalendar]];<br>复制代码<br>NSDateComponents相关方法：</p>
<ol>
<li>NSCalendar对象的 - (NSDateComponents <em>)components:(NSUInteger)unitFlags fromDate:(NSDate </em>)date</li>
</ol>
<p>取得一个NSDate对象的1个或多个部分，用NSDateComponents来封装</p>
<p>复制代码<br>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [NSDate date];<br>//NSDateComponents <em>compt = [calendar components:NSDayCalendarUnit fromDate:date];<br>NSDateComponents </em>compt = [calendar components:(NSYearCalendarUnit|NSMonthCalendarUnit|NSDayCalendarUnit) fromDate:date];</p>
<p>NSLog(@”%d,%@”,[compt year],date);<br>NSLog(@”%d,%@”,[compt month],date);<br>NSLog(@”%d,%@”,[compt day],date);<br>复制代码<br>需要注意的是，只有明确指定了unitFlags，NSDateComponents相应的那一部分才有值。</p>
<ol start="2">
<li>NSCalendar对象的 - (NSDateComponents <em>)components:(NSUInteger)unitFlags fromDate:(NSDate </em>)startingDate toDate:(NSDate *)resultDate options : (NSUInteger)opts</li>
</ol>
<p>取得两个NSDate对象的时间间隔，用NSDateComponents来封装</p>
<p>复制代码<br>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [NSDate date];<br>NSDate <em>date2 = [NSDate dateWithTimeInterval:5</em>60<em>60+75 sinceDate:date];<br>NSDateComponents </em>compt = [calendar components:(NSMinuteCalendarUnit|NSSecondCalendarUnit) fromDate:date toDate:date2 options:0];</p>
<p>NSLog(@”%d”,[compt minute]);<br>NSLog(@”%d”,[compt second]);<br>复制代码<br>有几点需要注意：</p>
<p>① 得到的NSDateComponents对象可能会包含负数。例如：当toDate比fromDate晚10秒，second部分返回10；当toDate比fromDate早10秒，second部分返回-10</p>
<p>② 当指定unitFlags返回多个部分时，相隔的时间由多个部分共同组成(而不是独立去表示)。例如：上面的例子时间相差5小时1分15秒，如果指定只返回second部分，将得到18075秒；如果指定返回minute和second部分，将得到301分15秒；如果指定返回hour、minute和second，将得到5小时1分15秒。</p>
<ol start="3">
<li>NSCalendar对象的 - (NSDate <em>)dateFromComponents:(NSDateComponents </em>)comps</li>
</ol>
<p>根据NSDateComponents对象得到一个NSDate对象</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2012];<br>[compt setMonth:5];<br>[compt setDay:11];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [calendar dateFromComponents:compt];<br>//得到本地时间，避免时区问题<br>NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>NSInteger interval = [zone secondsFromGMTForDate:date];<br>NSDate </em>localeDate = [date dateByAddingTimeInterval:interval];</p>
<p>NSLog(@”%@”,localeDate);<br>复制代码</p>
<ol start="4">
<li>NSCalendar对象的 - (NSDate <em>)dateByAddingComponents:(NSDateComponents </em>)comps toDate:(NSDate *)date options:(NSUInteger)opts</li>
</ol>
<p>在参数date基础上，增加一个NSDateComponents类型的时间增量</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setDay:25];<br>[compt setHour:4];<br>[compt setMinute:66];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [calendar dateByAddingComponents:compt toDate:[NSDate date] options:0];</p>
<p>//得到本地时间，避免时区问题<br>NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>NSInteger interval = [zone secondsFromGMTForDate:date];<br>NSDate </em>localeDate = [date dateByAddingTimeInterval:interval];</p>
<p>NSLog(@”%@”,localeDate);<br>复制代码<br>当前时间的基础上，增加25天4小时66秒</p>
<p>NSCalendar</p>
<ol>
<li><ul>
<li>(id)currentCalendar / + (id)autoupdatingCurrentCalendar</li>
</ul>
</li>
</ol>
<p>这两个类方法都将返回当前客户端的逻辑日历，区别在于：currentCalendar取得的值会一直保持在cache中，第一次用此方法实例化对象后，即使修改了系统日历设定，这个对象也不会改变。而使用autoupdatingCurrentCalendar，当每次修改系统日历设定，其实例化的对象也会随之改变。</p>
<p>下面的代码演示了区别所在，假设初始Calendar设定为NSGregorianCalendar(公历)，先用这两个函数分别初始化两个对象，然后修改系统日历为NSJapaneseCalendar(日本和历)，再重新打印这两个对象的信息：</p>
<p>复制代码<br>NSCalendar <em>calendar;<br>NSCalendar </em>calendar2;</p>
<ul>
<li><p>(IBAction)doTest:(id)sender<br>{<br>  calendar = [NSCalendar currentCalendar];<br>  calendar2 = [NSCalendar autoupdatingCurrentCalendar];</p>
<p>  NSLog(@”%@”,calendar.calendarIdentifier); //print “gregorian”<br>  NSLog(@”%@”,calendar2.calendarIdentifier); //print “gregorian”<br>}</p>
</li>
<li><p>(IBAction)doAgain:(id)sender<br>{<br>  NSLog(@”%@”,calendar.calendarIdentifier); //print “gregorian”<br>  NSLog(@”%@”,calendar2.calendarIdentifier); //print “japanese”<br>}<br>复制代码</p>
</li>
</ul>
<ol start="2">
<li><ul>
<li>(id)initWithCalendarIdentifier:(NSString *)string</li>
</ul>
</li>
</ol>
<p>根据提供的日历标示符初始化</p>
<p>NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSChineseCalendar];<br>NSLog(@”%@”,calendar.calendarIdentifier);<br>系统中定义的日历有：</p>
<p>NSGregorianCalendar – 公历<br>NSBuddhistCalendar – 佛教日历<br>NSChineseCalendar – 中国农历<br>NSHebrewCalendar – 希伯来日历<br>NSIslamicCalendar – 伊斯兰历<br>NSIslamicCivilCalendar – 伊斯兰教日历<br>NSJapaneseCalendar – 日本日历<br>NSRepublicOfChinaCalendar – 中华民国日历（台湾）<br>NSPersianCalendar – 波斯历<br>NSIndianCalendar – 印度日历<br>NSISO8601Calendar – ISO8601</p>
<p>NSCalendar常用对象方法与类方法：</p>
<ol>
<li><ul>
<li>(void)setLocale:(NSLocale *)locale</li>
</ul>
</li>
</ol>
<p>设置本地化信息</p>
<p>NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];<br>[calendar setLocale:[[NSLocale alloc] initWithLocaleIdentifier:@”zh_CN”]];<br>NSLog(@”%@”,calendar.locale.localeIdentifier);</p>
<ol start="2">
<li><ul>
<li>(void)setTimeZone:(NSTimeZone *)tz</li>
</ul>
</li>
</ol>
<p>设置时区信息</p>
<p>NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];<br>[calendar setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@”HKT”]];<br>NSLog(@”%@”,calendar.timeZone);</p>
<ol start="3">
<li><ul>
<li>(void)setFirstWeekday:(NSUInteger)weekday</li>
</ul>
</li>
</ol>
<p>设置每周的第一天从星期几开始，比如：1代表星期日开始，2代表星期一开始，以此类推。默认值是1</p>
<p>如图所示，如果从星期天开始，日历的表现形式：</p>
<p>如果从星期二开始，日历的表现形式：</p>
<p>NSCalendar *calendar = [NSCalendar currentCalendar];<br>[calendar setFirstWeekday:3];<br>NSLog(@”%i”,calendar.firstWeekday);</p>
<ol start="4">
<li><ul>
<li>(void)setMinimumDaysInFirstWeek:(NSUInteger)mdw</li>
</ul>
</li>
</ol>
<p>设置每年及每月第一周必须包含的最少天数，比如：设定第一周最少包括3天，则value传入3</p>
<p>NSCalendar *calendar = [NSCalendar currentCalendar];<br>[calendar setMinimumDaysInFirstWeek:3];<br>NSLog(@”%i”,calendar.minimumDaysInFirstWeek);</p>
<ol start="5">
<li><ul>
<li>(NSUInteger)ordinalityOfUnit:(NSCalendarUnit)smaller inUnit:(NSCalendarUnit)larger forDate:(NSDate *)date</li>
</ul>
</li>
</ol>
<p>获取一个小的单位在一个大的单位里面的序数</p>
<p>NSCalendarUnit包含的值有：</p>
<p>NSEraCalendarUnit – 纪元单位。对于NSGregorianCalendar(公历)来说，只有公元前(BC)和公元(AD)；而对于其它历法可能有很多，例如日本和历是以每一代君王统治来做计算。<br>NSYearCalendarUnit – 年单位。值很大，相当于经历了多少年，未来多少年。<br>NSMonthCalendarUnit – 月单位。范围为1-12<br>NSDayCalendarUnit – 天单位。范围为1-31<br>NSHourCalendarUnit – 小时单位。范围为0-24<br>NSMinuteCalendarUnit – 分钟单位。范围为0-60<br>NSSecondCalendarUnit – 秒单位。范围为0-60<br>NSWeekCalendarUnit – 周单位。范围为1-53<br>NSWeekdayCalendarUnit – 星期单位，每周的7天。范围为1-7<br>NSWeekdayOrdinalCalendarUnit – 没完全搞清楚<br>NSQuarterCalendarUnit – 几刻钟，也就是15分钟。范围为1-4<br>NSWeekOfMonthCalendarUnit – 月包含的周数。最多为6个周<br>NSWeekOfYearCalendarUnit – 年包含的周数。最多为53个周<br>NSYearForWeekOfYearCalendarUnit – 没完全搞清楚<br>NSTimeZoneCalendarUnit – 没完全搞清楚</p>
<p>下面是一些示例：</p>
<p>① 当小单位为NSWeekdayCalendarUnit，大单位为NSWeekCalendarUnit时(即某个日期在这一周是第几天)，根据firstWeekday属性不同，返回的结果也不同。</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [NSDate dateWithTimeIntervalSinceReferenceDate:10];<br>//[calendar setFirstWeekday:2];<br>int count = [calendar ordinalityOfUnit:NSWeekdayCalendarUnit inUnit:NSWeekCalendarUnit forDate:date];<br>NSLog(@”%d”,count);<br>默认firstWeekday为1(星期天开始)的情况下，得到的结果是2，从下图可以看到是第2天。</p>
<p>假如firstWeekday被设置为2(星期一开始)的情况下，得到的结果是1，从下图可以看到是第1天</p>
<p>② 当小单位为NSWeekCalendarUnit，大单位为NSYearCalendarUnit时(即某个日期在这一年中是第几周)，根据minimumDaysInFirstWeek属性不同，返回的结果也不同。</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2013];<br>[compt setMonth:1];<br>[compt setDay:20];</p>
<p>NSCalendar *calendar = [NSCalendar currentCalendar];</p>
<p>NSDate *date = [calendar dateFromComponents:compt];</p>
<p>//[calendar setMinimumDaysInFirstWeek:6];<br>int count = [calendar ordinalityOfUnit:NSWeekCalendarUnit inUnit:NSYearCalendarUnit forDate:date];<br>NSLog(@”%d”,count);<br>复制代码<br>从上图的日历中可以看出，在没有设置minimumDaysInFirstWeek的情况下，1月20日得到的结果是4(第四个周)。</p>
<p>默认情况下第一个周有5天，如果将minimumDaysInFirstWeek设置为6天，则原本是第一周的1月1日–1月5日被划分到了上一年，返回0；而1月6日–1月12日升为第一周，1月13日–1月19日升为第二周。。依此类推。</p>
<p>所以需要关注的是minimumDaysInFirstWeek与实际第一周包含天数的大小比较，如果提供的minimumDaysInFirstWeek比实际第一周的天数小，则一切不变；否则统计”一年中第几周”、”一个月中第几周”会产生变化。</p>
<ol start="6">
<li><ul>
<li>(NSRange)rangeOfUnit:(NSCalendarUnit)smaller inUnit:(NSCalendarUnit)larger forDate:(NSDate *)date</li>
</ul>
</li>
</ol>
<p>根据参数提供的时间点，得到一个小的单位在一个大的单位里面的取值范围</p>
<p>复制代码<br>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2013];<br>[compt setMonth:2];<br>[compt setDay:21];<br>[compt setHour:9];<br>[compt setMinute:45];<br>[compt setSecond:30];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [calendar dateFromComponents:compt];</p>
<p>//得到本地时间，避免时区问题<br>NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>NSInteger interval = [zone secondsFromGMTForDate:date];<br>NSDate </em>localeDate = [date dateByAddingTimeInterval:interval];</p>
<p>NSRange range = [calendar rangeOfUnit:NSDayCalendarUnit inUnit:NSYearCalendarUnit forDate:localeDate];</p>
<p>NSLog(@”%d – %d”,range.location,range.length);<br>复制代码<br>调用这个方法要明确一点，取得的是”范围”而不是”包含”，下面是一些例子：</p>
<p>① 小单位是NSDayCalendarUnit，大单位是NSYearCalendarUnit，并不是要取这一年包含多少天，而是要取”天”(Day)这个单位在这一年(Year)的取值范围。其实不管你提供的日期是多少，返回的值都是”1–31”。</p>
<p>② 小单位是NSDayCalendarUnit，大单位是NSMonthCalendarUnit。要取得参数时间点所对应的月份下，”天”(Day)的取值范围。根据参数时间的月份不同，值也不同。例如2月是1–28、3月是1–31、4月是1–30。</p>
<p>③ 小单位是NSWeekCalendarUnit，大单位是NSMonthCalendarUnit。要取得参数时间点所对应的月份下，”周”(Week)的取值范围。需要注意的是结果会受到minimumDaysInFirstWeek属性的影响。在默认minimumDaysInFirstWeek情况下，取得的范围值一般是”1–5”，从日历上可以看出来这个月包含5排，即5个周。</p>
<p>④ 小单位是NSDayCalendarUnit，大单位是NSWeekCalendarUnit。要取得周所包含的”天”(Day)的取值范围。下面是一个示例日历图：</p>
<p>在上图的日期条件下，假如提供的参数是4月1日–4月6日，那么对应的week就是1(第一个周)，可以看到第一个周包含有6天，从1号开始，那么最终得到的范围值为1–6。</p>
<p>假如提供的参数是4月18日，那么对应的week是3(第三个周)，第三个周包含有7天，从14号开始，那么最终得到的范围值是14–7。</p>
<p>假如提供的参数是4月30日，那么对应的week是5(第五个周)，第五个周只包含3天，从28号开始，那么最终得到的范围值是28–3。</p>
<ol start="7">
<li><ul>
<li>(BOOL)rangeOfUnit:(NSCalendarUnit)unit startDate:(NSDate *<em>)datep interval:(NSTimeInterval </em>)tip forDate:(NSDate *)date</li>
</ul>
</li>
</ol>
<p>根据参数提供的时间点，返回所在日历单位的开始时间。如果startDate和interval均可以计算，则返回YES；否则返回NO</p>
<p>unit – 日历单位<br>datep – 开始时间，通过参数返回<br>tip – 日历单位所对应的秒数，通过参数返回<br>date – 时间点参数</p>
<p>复制代码<br>NSDate *dateOut = nil;<br>NSTimeInterval count = 0;</p>
<p>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2013];<br>[compt setMonth:3];<br>[compt setDay:22];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>NSDate </em>date = [calendar dateFromComponents:compt];<br>BOOL b = [calendar rangeOfUnit:NSMonthCalendarUnit startDate:&amp;dateOut interval:&amp;count forDate:date];<br>if(b)<br>{<br>    //得到本地时间，避免时区问题<br>    NSTimeZone <em>zone = [NSTimeZone systemTimeZone];<br>    NSInteger interval = [zone secondsFromGMTForDate:dateOut];<br>    NSDate </em>localeDate = [dateOut dateByAddingTimeInterval:interval];</p>
<pre><code>NSLog(@&quot;%@&quot;,localeDate);
NSLog(@&quot;%f&quot;,count);
</code></pre><p>}<br>else<br>{<br>    NSLog(@”无法计算”);<br>}<br>复制代码<br>上面的例子要求返回2013年3月22日当月的起始时间，以及当月的秒数。得到的结果是：2013-03-01 00:00:00 +0000，2678400。(2678400 = 31天 <em> 24小时 </em> 60分 * 60秒)。</p>
<p>假如将上面的日历单位改为NSWeekCalendarUnit，那么得到的结果是：2013-03-17 00:00:00 +0000，604800。当周的第一天是3月17日。(604800 = 7天 <em> 24小时 </em> 60分 * 60秒)。</p>
<p>假如将上面的日历单位改为NSYearCalendarUnit，那么得到的结果是：2013-01-01 00:00:00 +0000，31536000。这一年的第一天是1月1日，(31536000 = 365天 <em> 24小时 </em> 60分 * 60秒)。</p>
<p>NSDateFormatter</p>
<p>NSDateFormatter的日期格式如下:</p>
<p>复制代码<br>G – 纪元<br>一般会显示公元前(BC)和公元(AD)</p>
<p>y – 年<br>假如是2013年，那么yyyy=2013，yy=13  </p>
<p>M – 月<br>假如是3月，那么M=3，MM=03，MMM=Mar，MMMM=March<br>假如是11月，那么M=11，MM=11，MMM=Nov，MMMM=November</p>
<p>w – 年包含的周<br>假如是1月8日，那么w=2(这一年的第二个周)</p>
<p>W – 月份包含的周(与日历排列有关)<br>假如是2013年4月21日，那么W=4(这个月的第四个周)</p>
<p>F – 月份包含的周(与日历排列无关)<br>和上面的W不一样，F只是单纯以7天为一个单位来统计周，例如7号一定是第一个周，15号一定是第三个周，与日历排列无关。</p>
<p>D – 年包含的天数<br>假如是1月20日，那么D=20(这一年的第20天)<br>假如是2月25日，那么D=31+25=56(这一年的第56天)</p>
<p>d – 月份包含的天数<br>假如是5号，那么d=5，dd=05<br>假如是15号，那么d=15，dd=15</p>
<p>E – 星期<br>假如是星期五，那么E=Fri，EEEE=Friday</p>
<p>a – 上午(AM)/下午(PM)</p>
<p>H – 24小时制，显示为0–23<br>假如是午夜00:40，那么H=0:40，HH=00:40</p>
<p>h – 12小时制，显示为1–12<br>假如是午夜00:40，那么h=12:40</p>
<p>K – 12小时制，显示为0–11<br>假如是午夜00:40，那么K=0:40，KK=00:40</p>
<p>k – 24小时制，显示为1–24<br>假如是午夜00:40，那么k=24:40</p>
<p>m – 分钟<br>假如是5分钟，那么m=5，mm=05<br>假如是45分钟，那么m=45，mm=45</p>
<p>s – 秒<br>假如是5秒钟，那么s=5，ss=05<br>假如是45秒钟，那么s=45，ss=45</p>
<p>S – 毫秒<br>一般用SSS来显示</p>
<p>z – 时区<br>表现形式为GMT+08:00</p>
<p>Z – 时区<br>表现形式为+0800<br>复制代码<br>NSDateFormatter的两个最实用的方法是dateFromString和stringFromDate，前者将一个字符串经过格式化后变成NSDate对象，后者将NSDate对象格式化成字符串。</p>
<p>在调用setDateFormat设置格式化字符串时，可以加入一些别的字符串，用单引号来引入，例如：</p>
<p>[formatter setDateFormat:@”yyyy-MM-dd ‘some ‘’special’’ string’ HH:mm:ss”];<br>使用NSDateFormatter转换时间字符串时，默认的时区是系统时区，例如在中国一般都是北京时间(+8)，如果直接转换会导致结果相差8小时，所以一般的做法是先指定时区为GMT标准时间再转换，例如：</p>
<p>复制代码<br>NSDateFormatter *formatter = [[NSDateFormatter alloc] init];<br>[formatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];<br>[formatter setDateFormat:@”yyyy-MM-dd HH:mm:ss z”];</p>
<p>NSDateComponents *compt = [[NSDateComponents alloc] init];<br>[compt setYear:2013];<br>[compt setMonth:3];<br>[compt setDay:13];<br>[compt setHour:1];<br>[compt setMinute:55];<br>[compt setSecond:28];</p>
<p>NSCalendar <em>calendar = [NSCalendar currentCalendar];<br>[calendar setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];<br>NSDate </em>date = [calendar dateFromComponents:compt];<br>NSLog(@”%@”,date);<br>NSString *str = [formatter stringFromDate:date];<br>NSLog(@”%@”,str);</p>
<h3 id="关于pop-动画引擎两个例子"><a href="#关于pop-动画引擎两个例子" class="headerlink" title="关于pop 动画引擎两个例子"></a>关于pop 动画引擎两个例子</h3><p>取色功能动效遇到两个比较麻烦的点，<br>1). 今天在做一个动画的时候，使用‘pop’时候，发现动作做完了，然后一个按钮使其回归原位，但是再做动作的时候，就只动了一下。难以查看过程，当我打断点到layoutSubviews的时候，果然进去了。然后不知道是谁调用的，于是我去使用time profile看了那一段时间干了什么事。于是看到了layoutSubviews被调用了，是‘pop’某一块调用了，使view又跑回原位。这时候，要么将布局代码写到其他地方，要么使用UIView的动画，我选择了后者。<br>2). 在一个回馈动效中使用POPSpringAnimation，但是由于滑块可以快速多次滑动，所以在弹性高过预定值，会产生negative值，即负值，这时3D transform中，scaleXY会出现rotate情况，<code>https://github.com/facebook/pop/issues/76</code>，这里采用clamp，在结束时，不超过回弹值。可以使用下面给出的两端中其一都可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-(void)popupMensionNode&#123;</span><br><span class="line">    POPBasicAnimation *nodeAnim = [POPBasicAnimation animationWithPropertyNamed:kPOPLayerScaleXY];</span><br><span class="line">    nodeAnim.toValue = [NSValue valueWithCGSize:CGSizeMake(1.f, 1.f)];</span><br><span class="line">    nodeAnim.fromValue = [NSValue valueWithCGSize:CGSizeMake(0.f, 0.f)];</span><br><span class="line">    nodeAnim.autoreverses = YES;</span><br><span class="line">    nodeAnim.duration = 0.25;</span><br><span class="line">    [_textNode.layer pop_addAnimation:nodeAnim forKey:NSStringFromSelector(_cmd)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-(void)popupMensionNode&#123;</span><br><span class="line">    POPSpringAnimation *imageNodeAnim = [POPSpringAnimation animationWithPropertyNamed:kPOPLayerScaleXY];</span><br><span class="line">    imageNodeAnim.toValue = [NSValue valueWithCGSize:CGSizeMake(1.f, 1.f)];</span><br><span class="line">    imageNodeAnim.fromValue = [NSValue valueWithCGSize:CGSizeMake(0.f, 0.f)];</span><br><span class="line">    imageNodeAnim.autoreverses = YES;</span><br><span class="line">    imageNodeAnim.clampMode = kPOPAnimationClampEnd;</span><br><span class="line">    imageNodeAnim.springBounciness = 8;</span><br><span class="line">//    imageNodeAnim.springSpeed = 20;</span><br><span class="line">    [_textNode.layer pop_addAnimation:imageNodeAnim forKey:NSStringFromSelector(_cmd)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="今天遇到这么个问题-UIImageView-上面有控件-label-和button-但是看起来很模糊"><a href="#今天遇到这么个问题-UIImageView-上面有控件-label-和button-但是看起来很模糊" class="headerlink" title="今天遇到这么个问题 UIImageView 上面有控件 label 和button ,但是看起来很模糊"></a>今天遇到这么个问题 UIImageView 上面有控件 label 和button ,但是看起来很模糊</h3><p>今天遇到这么个问题 UIImageView 上面有控件 label 和button ,但是看起来很模糊。我当时以为其是否因为是被设置backgroundColor ,但是在设置了UIImageView的图片时，还是模糊。目前未知原因，leave a tag。</p>
<h3 id="浮点精度计算-http-www-jianshu-com-p-25d24a184016"><a href="#浮点精度计算-http-www-jianshu-com-p-25d24a184016" class="headerlink" title="浮点精度计算  http://www.jianshu.com/p/25d24a184016"></a>浮点精度计算  <a href="http://www.jianshu.com/p/25d24a184016" target="_blank" rel="noopener">http://www.jianshu.com/p/25d24a184016</a></h3><p>NSDecimalNumber <em>price1 = [NSDecimalNumber decimalNumberWithString:@”15.99”];<br>NSDecimalNumber </em>price2 = [NSDecimalNumber decimalNumberWithString:@”29.99”];<br>NSDecimalNumber <em>coupon = [NSDecimalNumber decimalNumberWithString:@”5.00”];<br>NSDecimalNumber </em>discount = [NSDecimalNumber decimalNumberWithString:@”.90”];<br>NSDecimalNumber <em>numProducts = [NSDecimalNumber decimalNumberWithString:@”2.0”];<br>NSDecimalNumber </em>subtotal = [price1 decimalNumberByAdding:price2];//price1+price2<br>NSDecimalNumber <em>afterCoupon = [subtotal decimalNumberBySubtracting:coupon];//subtotal-conpon<br>NSDecimalNumber </em>afterDiscount = [afterCoupon decimalNumberByMultiplyingBy:discount];//afterCoupon<em>discount<br>NSDecimalNumber </em>average = [afterDiscount decimalNumberByDividingBy:numProducts];//afterDiscount/2<br>NSDecimalNumber <em>averageSquared = [average decimalNumberByRaisingToPower:2];//average</em>average<br>NSLog(@”Subtotal: %@”, subtotal);                       // 45.98<br>NSLog(@”After coupon: %@”, afterCoupon);                // 40.98<br>NSLog((@”After discount: %@”), afterDiscount);          // 36.882<br>NSLog(@”Average price per product: %@”, average);       // 18.441<br>NSLog(@”Average price squared: %@”, averageSquared);    // 340.070481</p>
<h3 id="iOS多target-http-www-cnblogs-com-yajunLi-p-6001132-html"><a href="#iOS多target-http-www-cnblogs-com-yajunLi-p-6001132-html" class="headerlink" title="iOS多target http://www.cnblogs.com/yajunLi/p/6001132.html"></a>iOS多target <a href="http://www.cnblogs.com/yajunLi/p/6001132.html" target="_blank" rel="noopener">http://www.cnblogs.com/yajunLi/p/6001132.html</a></h3><p>iOS 如何创建多个target，同时表达多target的意义</p>
<h3 id="理解的营收模式"><a href="#理解的营收模式" class="headerlink" title="理解的营收模式"></a>理解的营收模式</h3><p>1：类似onePassword   可以试用1个月 然后，需要购买服务，，收费，，也不贵，，大概也是6、7、10块这样的，永久使用，，，<br>2：限制一些输入，，比如用户可以选择我们给的默认文案，但是用户要自定义，，那就收费，，再给会员予以多个账本创建能力，，，未付费仅能使用1个<br>3：增值服务收费吧；云同步，导出账本，这一类功能开放<br>4：增值服务和广告</p>
<p>多快好省</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-08-24lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/08/24/2017-08-24lesson/">2017/08/24lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/08/24/2017-08-24lesson/" class="article-date">
	  <time datetime="2017-08-24T15:52:28.000Z" itemprop="datePublished">August 24, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017/08/07<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">vim .gitignore</span><br><span class="line"></span><br><span class="line">*/build/*</span><br><span class="line">*.pbxuser</span><br><span class="line">!default.pbxuser</span><br><span class="line">*.mode1v3</span><br><span class="line">!default.mode1v3</span><br><span class="line">*.mode2v3</span><br><span class="line">!default.mode2v3</span><br><span class="line">*.perspectivev3</span><br><span class="line">!default.perspectivev3</span><br><span class="line">xcuserdata</span><br><span class="line">profile</span><br><span class="line">*.moved-aside</span><br><span class="line">DerivedData</span><br><span class="line">.idea/</span><br><span class="line">*.hmap</span><br><span class="line">DS_Store</span><br><span class="line"></span><br><span class="line">#CocoaPods</span><br><span class="line">Pods</span><br><span class="line">Podfile.lock</span><br><span class="line">build*</span><br><span class="line">pics*</span><br><span class="line">a.diff</span><br></pre></td></tr></table></figure></p>
<p>这时还没生效，要么全部quit掉，要么clean cache：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">改动过.gitignore文件之后，在repo的根目录下运行：</span><br><span class="line">git rm -r --cached .</span><br><span class="line">git add .</span><br><span class="line">之后可以进行提交：</span><br><span class="line">git commit -m &quot;fixed untracked files&quot;w</span><br></pre></td></tr></table></figure></p>
<h3 id="最近在学习openGL-ES"><a href="#最近在学习openGL-ES" class="headerlink" title="最近在学习openGL ES"></a>最近在学习openGL ES</h3><p>发现这没有速成方法，遂接下来要每天都抄写熟悉，熟练。这，是一门必修课，肯定会有大用处的。<br>另附学习的metaball学习，还没学成，继续。<br>罗列好的学习网址：</p>
<ul>
<li><a href="http://labs.byhook.com/2011/09/26/vector-metaballs/" target="_blank" rel="noopener">http://labs.byhook.com/2011/09/26/vector-metaballs/</a></li>
<li><a href="https://github.com/Dillion/VectorMetaballs" target="_blank" rel="noopener">https://github.com/Dillion/VectorMetaballs</a></li>
<li><a href="http://t-machine.org/index.php/2013/10/18/ios-open-gl-es-2-multiple-objects-at-once/" target="_blank" rel="noopener">http://t-machine.org/index.php/2013/10/18/ios-open-gl-es-2-multiple-objects-at-once/</a></li>
<li><a href="https://www.khronos.org/opengl/wiki/Framebuffer_Object_Extension_Examples" target="_blank" rel="noopener">https://www.khronos.org/opengl/wiki/Framebuffer_Object_Extension_Examples</a></li>
<li><a href="http://blog.db-in.com/all-about-opengl-es-2-x-part-2/#primitives" target="_blank" rel="noopener">http://blog.db-in.com/all-about-opengl-es-2-x-part-2/#primitives</a></li>
<li><a href="https://github.com/kesalin/OpenGLES" target="_blank" rel="noopener">https://github.com/kesalin/OpenGLES</a></li>
<li><a href="http://www.jianshu.com/p/750fde1d8b6a" target="_blank" rel="noopener">http://www.jianshu.com/p/750fde1d8b6a</a></li>
<li><a href="https://www.raywenderlich.com/3664/opengl-tutorial-for-ios-opengl-es-2-0" target="_blank" rel="noopener">https://www.raywenderlich.com/3664/opengl-tutorial-for-ios-opengl-es-2-0</a></li>
<li><a href="https://www.raywenderlich.com/4404/opengl-es-2-0-for-iphone-tutorial-part-2-textures" target="_blank" rel="noopener">https://www.raywenderlich.com/4404/opengl-es-2-0-for-iphone-tutorial-part-2-textures</a></li>
<li><a href="http://blog.csdn.net/icetime17/article/details/50429658" target="_blank" rel="noopener">http://blog.csdn.net/icetime17/article/details/50429658</a></li>
<li><a href="http://www.cnblogs.com/salam/p/5113572.html" target="_blank" rel="noopener">http://www.cnblogs.com/salam/p/5113572.html</a></li>
<li><a href="http://mobile.51cto.com/app-show-436793.htm" target="_blank" rel="noopener">http://mobile.51cto.com/app-show-436793.htm</a></li>
<li><a href="http://blog.csdn.net/yzfuture2010/article/details/7799800" target="_blank" rel="noopener">http://blog.csdn.net/yzfuture2010/article/details/7799800</a></li>
</ul>
<p>小的app 的生存之道就只有做好，然后苹果推荐。不然没有推广，再好都没用。是金子总会发光，可会发光的金子，时间一长，人就变了胃口喜欢钞票了。IT，时时刻刻要变化。说这些就是要推荐，那随随便便就可以苹果推荐了？？想多了，我查看了推过苹果推荐的，要么是公司花人力物力累积，要么是大牛写写出来绚丽。所以好的东西，需要的沉淀是必然的。没有花心思，只是小东西，苹果商店不缺，只有好的拼一把，才能出众！！！<br>openGL ES 这是非学不可。只要在我要用的领域学够！！！</p>
<h3 id="使用宏忽略警告-http-blog-csdn-net-majiakun1-article-details-46424925"><a href="#使用宏忽略警告-http-blog-csdn-net-majiakun1-article-details-46424925" class="headerlink" title="使用宏忽略警告 http://blog.csdn.net/majiakun1/article/details/46424925"></a>使用宏忽略警告 <a href="http://blog.csdn.net/majiakun1/article/details/46424925" target="_blank" rel="noopener">http://blog.csdn.net/majiakun1/article/details/46424925</a></h3><p>1.使用函数指针方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SEL selector = NSSelectorFromString(@&quot;someMethod&quot;);</span><br><span class="line">IMP imp = [_controller methodForSelector:selector];</span><br><span class="line">void (*func)(id, SEL) = (void *)imp;</span><br><span class="line">func(_controller, selector);</span><br></pre></td></tr></table></figure></p>
<p>当有额外参数时，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SEL selector = NSSelectorFromString(@&quot;processRegion:ofView:&quot;);</span><br><span class="line">IMP imp = [_controller methodForSelector:selector];</span><br><span class="line">CGRect (*func)(id, SEL, CGRect, UIView *) = (void *)imp;</span><br><span class="line">CGRect result = func(_controller, selector, someRect, someView);</span><br></pre></td></tr></table></figure></p>
<p>2.使用宏忽略警告<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#pragma clang diagnostic push </span><br><span class="line">#pragma clang diagnostic ignored &quot;-Warc-performSelector-leaks&quot; </span><br><span class="line">   [someController performSelector: NSSelectorFromString(@&quot;someMethod&quot;)]</span><br><span class="line">#pragma clang diagnostic pop</span><br></pre></td></tr></table></figure></p>
<p>通过使用#pragma clang diagnostic push/pop，你可以告诉Clang编译器仅仅为某一特定部分的代码来忽视特定警告。<br>如果需要忽视的警告有多处，可以定义一个宏<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#define SuppressPerformSelectorLeakWarning(Stuff) \</span><br><span class="line">    do &#123; \</span><br><span class="line">        _Pragma(&quot;clang diagnostic push&quot;) \</span><br><span class="line">        _Pragma(&quot;clang diagnostic ignored \&quot;-Warc-performSelector-leaks\&quot;&quot;) \</span><br><span class="line">        Stuff; \</span><br><span class="line">        _Pragma(&quot;clang diagnostic pop&quot;) \</span><br><span class="line">    &#125; while (0)</span><br></pre></td></tr></table></figure></p>
<p>在产生警告也就是performSelector的地方用使用该宏，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SuppressPerformSelectorLeakWarning(</span><br><span class="line">    [_target performSelector:_action withObject:self]</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>如果需要performSelector返回值的话，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">id result;</span><br><span class="line">SuppressPerformSelectorLeakWarning(</span><br><span class="line">    result = [_target performSelector:_action withObject:self]</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<h3 id="iOS时区"><a href="#iOS时区" class="headerlink" title="iOS时区"></a>iOS时区</h3><pre><code>ADT = &quot;America/Halifax&quot;;
AKDT = &quot;America/Juneau&quot;;
AKST = &quot;America/Juneau&quot;;
ART = &quot;America/Argentina/Buenos_Aires&quot;;
AST = &quot;America/Halifax&quot;;
BDT = &quot;Asia/Dhaka&quot;;
BRST = &quot;America/Sao_Paulo&quot;;
BRT = &quot;America/Sao_Paulo&quot;;
BST = &quot;Europe/London&quot;;
CAT = &quot;Africa/Harare&quot;;
CDT = &quot;America/Chicago&quot;;
CEST = &quot;Europe/Paris&quot;;
CET = &quot;Europe/Paris&quot;;
CLST = &quot;America/Santiago&quot;;
CLT = &quot;America/Santiago&quot;;
COT = &quot;America/Bogota&quot;;
CST = &quot;America/Chicago&quot;;
EAT = &quot;Africa/Addis_Ababa&quot;;
EDT = &quot;America/New_York&quot;;
EEST = &quot;Europe/Istanbul&quot;;
EET = &quot;Europe/Istanbul&quot;;
EST = &quot;America/New_York&quot;;
GMT = GMT;
GST = &quot;Asia/Dubai&quot;;
HKT = &quot;Asia/Hong_Kong&quot;;
HST = &quot;Pacific/Honolulu&quot;;
ICT = &quot;Asia/Bangkok&quot;;
IRST = &quot;Asia/Tehran&quot;;
IST = &quot;Asia/Calcutta&quot;;
JST = &quot;Asia/Tokyo&quot;;
KST = &quot;Asia/Seoul&quot;;
MDT = &quot;America/Denver&quot;;
MSD = &quot;Europe/Moscow&quot;;
MSK = &quot;Europe/Moscow&quot;;
MST = &quot;America/Denver&quot;;
NZDT = &quot;Pacific/Auckland&quot;;
NZST = &quot;Pacific/Auckland&quot;;
PDT = &quot;America/Los_Angeles&quot;;
PET = &quot;America/Lima&quot;;
PHT = &quot;Asia/Manila&quot;;
PKT = &quot;Asia/Karachi&quot;;
PST = &quot;America/Los_Angeles&quot;;
SGT = &quot;Asia/Singapore&quot;;
UTC = UTC;
WAT = &quot;Africa/Lagos&quot;;
WEST = &quot;Europe/Lisbon&quot;;
WET = &quot;Europe/Lisbon&quot;;
WIT = &quot;Asia/Jakarta&quot;;
</code></pre><h3 id="离开海外部-稍微总结一下"><a href="#离开海外部-稍微总结一下" class="headerlink" title="离开海外部,稍微总结一下"></a>离开海外部,稍微总结一下</h3><p>twitter 分享，是不跳转<br>instagram 只能分享图片<br>twitter 在创建完app key、secret 时需要在permission 里面再设置一项：获得access 能力。同时update。<br>外国在UI上注重的比国内要强很多。外国在矩阵、重度OpenGL 比国内要强很多。</p>
<h3 id="Reveal-iFile-路径"><a href="#Reveal-iFile-路径" class="headerlink" title="Reveal_iFile_路径"></a>Reveal_iFile_路径</h3><p><a href="http://www.cnblogs.com/blfbuaa/p/7248252.html" target="_blank" rel="noopener">http://www.cnblogs.com/blfbuaa/p/7248252.html</a><br>这时候，我们在Mac浏览器里打开192.168.<em>.**</em>，就能够查看iPhone上的文件系统。并上传文件到iPhone了。</p>
<p>打开Mac上的Reveal。并选择”Help”-“Show Reveal Library in Finder”。这时候有2个文件：Reveal.framework和libReveal.dylib。</p>
<p>将Reveal.framework压缩(不能上传文件夹)并上传到iPhone的”/System/Library/Frameworks/”文件夹中，然后解压缩；</p>
<p>在iFile里打开”应用程序”文件夹(iFile的内置书签)，找到你想查看的APP文件夹里的info.plist文件。查找这个APP的Bundle ID，如果为com.example.domain。</p>
<p>在Mac上创建libReveal.plist，编辑内容为：<br>“`<br>{<br>Filter={<br>Bundles = “com.example.domain”;<br>}<br>}<br>上传libReveal.plist到”/Library/MobileSubstrate/DynamicLibraries”，也就是和libReveal.dylib在一起。</p>
<p>最后一步。重新启动iPhone。然后打开想要查看的APP。Mac上的Reveal就有反应啦！</p>
<h3 id="记一次GPUImage-在export-movie-内存暴涨，崩溃问题"><a href="#记一次GPUImage-在export-movie-内存暴涨，崩溃问题" class="headerlink" title="记一次GPUImage 在export movie 内存暴涨，崩溃问题"></a>记一次GPUImage 在export movie 内存暴涨，崩溃问题</h3><p>原因是在GPUImage 加了UIElementFilter 现实纹理，其在update中需要update 操作。机型是iOS 9 以上，只要视频大于2分钟，就一定出现崩溃现象。原因为，uielement 在update 内部操作中没有进行及时内存释放。此时操作，是将@autoreleasepool { [x update]; }包裹即可解决。 </p>
<h3 id="记一次比较闹心的事"><a href="#记一次比较闹心的事" class="headerlink" title="记一次比较闹心的事"></a>记一次比较闹心的事</h3><p>之前从海外组回归到原本团队，海外组探求之后，没能做到利益，没办法，其实海外领队和其中内部全部开发:两个开发-.-都知道。这其实是一个没有绝对胜仗可打的局。前面没有路走，只有试试、只有闯闯，成功就成功，失败领队都没有怨言，壮士扼腕，是我觉得的扼腕。<br>回来之后我完成原本project内部的业务部分。正如当时进来时，大师和我们说的，这里面基本都是业务，全是业务。<br>是的，基本都是业务，按照其中条条框框，按部就班，规规矩矩。<br>重回到之前状态，还是没找到感觉，但一回来就给我weex 和内部代码之间的交互。那好，我搞搞，建了个类写一写，写到一半，他们又说继承他们的。好好好，继承你们的，想着他们还可能用得上这个，没去掉，至少之后可以继续扩展下去，就留着那个类，这个留着后话。<br>继承他人的类，那个类不小啊，，700多行，然后其有一些view 是weex 交流。weex 的html是军哥那边搞的，他都没做好，我要和他一起搞。继承的类，想着尽量不动那些代码，就用for 循环 把其上的view 全部删了。那个页面真不要啊，和他们讨论，他们说要是有要添加的，那不就一块没啦。。听到这里我蛋疼的一比。这是weex 页面，客户端要改也是在我新添加的层上加啊。我仅仅是使用你的功能而已，整个view 都应该给你扔了了，全部在我新写的功能页面上才对。虽然我知道，这种删除做法是绝对的错误，但是，他适用在这。<br>接下来是一个打log 的问题上。这个project 能使用的log 有：CCLog、DLog、FSLog、等等等，NSLog 我也不清楚他们有否在Release 上去掉相应的定义，所以尽量不敢用NSLog。那就想着用我以前用的CCLog吧。然而问题又来了，不要打CCLog 啊(我当时还不知道有DLog这玩意)，难道用console window，用断点。我曹，我都骂出来。我现在用的黑苹果，不知为何其在大型项目会这么卡，编译也比较慢。先讲断点，我用的iPhone 6s，project如果不在断点页面运行，那么肯定断点几乎就不相应的；在相应断点页面却也不一定出来，出来也卡的半死。再讲我未断点和断点切换都能卡，我要特么不打log，是别想开发了。而且这种业务型的，不看内里数据，是无法继续的了，这又是一个蛋疼。<br>再说一个我的缺点吧，这是我的不对地方：<br>我不爱写注释。我不写注释，前提是东西简单、业务单项、方法名已经取好了。还有就是我从海外部转回来，作为我安分守己的性格，尽量都是做到不动其他代码，于是出现了我新建一个和之前类名很类似的类，却没有把他删除。我有错这个，但却不能错在我。我回来的时候，什么都没有知会，没有权利，只有义务。说我好歹是中级开发者，代码却没有好好维护，写不好代码，这我就更不同意了，我就一码农，开开心心生活的码农，，，开开心心多好，哈哈哈<br>接下来还是一个蛋疼的地方，注释掉的东西，我有时会留在那里。一个类东西不多，注释掉的有些用处，或者不太占位置，我就不会太在意那些。<br>于是在这次也特别说我的这点，这点我认了。之后勤快些吧，尽量谢谢注释吧，毕竟确实是我不对；如果有需要删除、测试代码等对源码可能造成影响的，我都要注意了；毕竟这也是个人修养，对我有好处，让我升级为好好码农也是不错的。。。<br>继承他人，有我不需要实现的功能，甚至替换他人代码层面，看到那些就蛋疼了。<br>最最最后说一个。我特么一过来就丢给我一个UI、丢一个wiki、我都还是不知道里面什么鬼，要问个人要转好几个弯，来来回回，晕头转向，过去了，大师态度我自己知道，说的很迷糊那种，问回来了还是迷迷糊糊。然而项目已经把时间差不多给你定好了。<br>你说蛋疼不。发版的时间就这么几天，那边都还没做好，下一个要做的功能又来了。<br>这次说我，我觉得很小题大作，我觉得无所谓，我会吸取教训，“小心、小心再小心”而已。我只是那只跳起来的鸡，刚好从海外组过来，是该杀杀锐气的。也为他人警示，警示也是有好处的警示，我认了。<br>规范也没说，那就个人尽量做好即可。我那一两个空文件，project 就卡的半死啦？？<br>那么多的重复库，重复定义，奇奇怪怪的内容、图片，就把我说一通？？<br>这个我嘴里服，心里也不服。说我不把项目当自己的搞，毛蛋！我要是不当回事，我代码就能写成以完成任务为主了。<br>再说之前那个类，那个类是我特么要写着留下来升华的，不用我早删了好伐，虽然不见得目前这个功能还没好，我可能会后面补上，但这个本来我就是要自己写，被你们决定要换思路的好伐，忘记是正常的，我现在还不知道这个weex内部怎么沟通的，脑子还是一团浆糊咧，哪可能记得那个啊。不要说你们写demo的时候第一次写把每个api 铭记，能记住的往后站，大部分都记不住好伐。我特么不标榜自己是多高尚的人，多聪明的人，我特么就是个努力的人，仅仅努力而已，我也不想我能写出多么超级超级好的代码，中国人是需要生活的，不是码神。<br>OK，说了那么多，是该说重点了。<br>这么多年来，我一直说着，学完这一个，是会上升自己空间了，学完这一个，我又更强大了，基本在这个层面的人都是比较好的，普遍普通类别之上的了。但是还是不够。我来当前公司，其实就是奔着学习而来。其实已经大差不差。比如一些思维开拓，一些产品思维、一些业务逻辑，一些控制管理，把控等，在新的知识储备方面也更加的好了，也更多的接触到底层，能做更好的了。<br>其实好的东西不是说拼命往上赶，拼命往上堆叠，就能好的。<br>好的东西，都是要有好的技术，好的底层。正如我之前思考的，很多的好的，能令人轰动的都是别人能学其表，难成其里的，好在了内在，真正的技术。其实现在我所做的，不过就是真的业务员，能研究的机会都不多，再难一点的东西都是局限于业务、功能块内，不能超脱，比如我们的技术领导“大师”，都把东西做到一半了，其他只不过是堆叠。<br>我自己私下，需要有两个地方开花。第一是面向工资编程的实现，没有金钱入手，什么都是没用的。<br>第二是将我这三十岁之前最后一个，最难的的东西学好：opengl。<br>以前确实都不是我该学习该物的时候，但，现在已经可以。以前的知识储备完全不能理解其中变化，现在已经能够得着了，也就是时候了。<br>是时候了。<br>想想兰姐2年5多部电影。我更努力学习难道不应该乎？</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-7-30lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/07/30/2017-7-30lesson/">2017/7/30lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/07/30/2017-7-30lesson/" class="article-date">
	  <time datetime="2017-07-29T16:02:57.000Z" itemprop="datePublished">July 30, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="新App上传"><a href="#新App上传" class="headerlink" title="新App上传"></a>新App上传</h3><p>上传碰见这事：构建的版本上去了，也出现在构建版本里面，不过过没一会就消失了。由于邮箱什么的都不在我这，过了好久才想起来，用的另一个邮箱，于是去看看有没有什么说明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Dear developer,</span><br><span class="line">We have discovered one or more issues with your recent delivery for &quot;Color Saga - Coloring book&quot;. To process your delivery, the following issues must be corrected:</span><br><span class="line">Non-public API usage:</span><br><span class="line">The app references non-public symbols in XXT: _UICreateCGImageFromIOSurface</span><br><span class="line">If method names in your source code match the private Apple APIs listed above, altering your method names will help prevent this app from being flagged in future submissions. In addition, note that one or more of the above APIs may be located in a static library that was included with your app. If so, they must be removed.</span><br><span class="line">If you think this message was sent in error and that you have only used Apple-published APIs in accordance with the guidelines, send the app&apos;s nine-digit Apple ID, along with detailed information about why you believe the above APIs were incorrectly flagged, to appreview@apple.com. For further information, visit the Technical Support Information page.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSCalendarsUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSPhotoLibraryUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSBluetoothPeripheralUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSMicrophoneUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Missing Info.plist key - This app attempts to access privacy-sensitive data without a usage description. The app&apos;s Info.plist must contain an NSMotionUsageDescription key with a string value explaining to the user how the app uses this data.</span><br><span class="line">Once these issues have been corrected, you can then redeliver the corrected binary.</span><br><span class="line">Regards,</span><br><span class="line">The App Store team</span><br></pre></td></tr></table></figure>
<p>然后就找到这篇文章，唉，，Reavel我按照教程，说不出问题了呀，但还是出这个问题了。</p>
<p><a href="http://www.cnblogs.com/WayneLiu/p/5251565.html" target="_blank" rel="noopener">http://www.cnblogs.com/WayneLiu/p/5251565.html</a></p>
<h3 id="YTKNetWork-在cacheData-时出错"><a href="#YTKNetWork-在cacheData-时出错" class="headerlink" title="YTKNetWork 在cacheData 时出错"></a>YTKNetWork 在cacheData 时出错</h3><p>缘由是cacheData数据没有在拿到缓存之后继续跟服务器获取，查到<a href="https://github.com/yuantiku/YTKNetwork/issues/106" target="_blank" rel="noopener">https://github.com/yuantiku/YTKNetwork/issues/106</a><br>处理为下例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">XXHomeCateListApi *cateListApi = [[XXHomeCateListApi alloc]initWithData:@&#123;@&quot;category_id&quot;:self.cateModel.id,@&quot;start&quot;:input,@&quot;category_name&quot;:self.cateModel.name&#125;];</span><br><span class="line">if ([cateListApi loadCacheWithError:nil]) &#123;</span><br><span class="line">[self requestSuccessWithapi:cateListApi subscriber:subscriber];</span><br><span class="line">&#125;</span><br><span class="line">cateListApi = [[XXHomeCateListApi alloc]initWithData:@&#123;@&quot;category_id&quot;:self.cateModel.id,@&quot;start&quot;:input,@&quot;category_name&quot;:self.cateModel.name&#125;];</span><br><span class="line">[cateListApi startWithoutCache];</span><br><span class="line">[cateListApi startWithCompletionBlockWithSuccess:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">&#125; failure:^(__kindof YTKBaseRequest * _Nonnull request) &#123;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h3 id="InAPPPurchase"><a href="#InAPPPurchase" class="headerlink" title="InAPPPurchase"></a>InAPPPurchase</h3><p>这几天有做内购遇到的问题</p>
<ul>
<li>首先是刚进入先确认一次内购金额和手机当前货币的对比，保存该数据（如果没有获取到则显示默认的美金金额）如</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">+(void)queryProductMoney&#123;</span><br><span class="line">dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</span><br><span class="line">NSArray *googsArray = @[@&quot;0&quot;,@&quot;1&quot;,@&quot;12&quot;];</span><br><span class="line">NSSet *products = [NSSet setWithArray:googsArray];</span><br><span class="line">[[RMStore defaultStore] requestProducts:products success:^(NSArray *products, NSArray *invalidProductIdentifiers) &#123;</span><br><span class="line">NSLog(@&quot;Products loaded&quot;);</span><br><span class="line">NSMutableDictionary *priceDic = [@&#123;&#125; mutableCopy];</span><br><span class="line">[products enumerateObjectsUsingBlock:^(SKProduct*  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123;</span><br><span class="line">LxDBAnyVar(obj);</span><br><span class="line">NSString *str = [XXPurchaseRequest currencyPriceWithProduct:obj];</span><br><span class="line">[priceDic setObject:str forKey:obj.productIdentifier];</span><br><span class="line">&#125;];</span><br><span class="line">[USERDEFAULT setObject:priceDic forKey:kAPPProduct];</span><br><span class="line">&#125; failure:^(NSError *error) &#123;</span><br><span class="line">&#125;];</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样便能显示出你当前要展示的加个信息了。</p>
<ul>
<li>关于内购时省查最严的就是More Info这个关键词。More Info 填写在有持续性扣费，会更加严格，我们当时在“Mine APP” 备注加上<br><code>we have the purchase info at setting page ,click the &quot;Subscription FAQ&quot;&amp;&quot;About&quot; which user purchase info is display there. when user is about to pay, there have a button name &quot;more info&quot; , user can get enough help with that.</code></li>
</ul>
<p>然后在相应位置提供more info。特么注明要有如以下词汇：改词汇来自“ColorSaga”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ColorSaga Premium</span><br><span class="line">- With ColorSaga Premium you can subscribe for daily new picture updates and unlimited access to the full picture catalog</span><br><span class="line">- You&apos;ll be able to access all available pictures</span><br><span class="line">- The subscriptions are $2.99 USD weekly, $7.99 USD monthly and $39.99 USD annually or equal to the same price tier that &quot;Apple&apos;s App Store Matrix&quot; determines in other currencies.</span><br><span class="line">- You may cancel a subscription or free-trial anytime via the subscription setting through your iTunes account. This must be done 24 hours before the end of the free-trial or subscription period to avoid being charged.</span><br><span class="line">- Subscription automatically renews unless auto-renew is turned off at least 24-hours before the end of the current period. No cancellation of the current subscription is allowed during active subscription period. Any unused portion of a free-trial period, will be forfeited when the user purchases a ColorSaga Premium</span><br><span class="line"></span><br><span class="line">Terms of use: http://d.fenfenriji.com/colorx/html/termsOfService.html</span><br><span class="line">Privacy policy: http://d.fenfenriji.com/colorx/html/privacyPolicy.html</span><br></pre></td></tr></table></figure>
<ul>
<li>技术支持URL</li>
</ul>
<p>可以使用github 网址或者博客网址，但是一定要有两个因素：1，该为为xxx提供技术支持 2，该含有联系电话或联系邮箱</p>
<ul>
<li>在上线一两天之后开始做一次应用购买以提升曝光率。小技巧</li>
</ul>
<p>应用如果有付费情况，然后过几天之后就解开，那么会有一些网站给该应用写报道，称限免应用，这样会出现一波高增长。</p>
<h3 id="CaLayer-drawInContext-绘图方法，出现-lt-Error-gt-CGContextSetFlatness-invalid-context-0x0-If-you-want-to-see-the-backtrace-please-set-CG-CONTEXT-SHOW-BACKTRACE-environmental-variable"><a href="#CaLayer-drawInContext-绘图方法，出现-lt-Error-gt-CGContextSetFlatness-invalid-context-0x0-If-you-want-to-see-the-backtrace-please-set-CG-CONTEXT-SHOW-BACKTRACE-environmental-variable" class="headerlink" title="CaLayer drawInContext 绘图方法，出现&lt;Error&gt;: CGContextSetFlatness: invalid context 0x0. If you want to see the backtrace, please set CG_CONTEXT_SHOW_BACKTRACE environmental variable."></a>CaLayer drawInContext 绘图方法，出现<code>&lt;Error&gt;: CGContextSetFlatness: invalid context 0x0. If you want to see the backtrace, please set CG_CONTEXT_SHOW_BACKTRACE environmental variable.</code></h3><p>在<code>-(void)drawInContext:(CGContextRef)ctx</code>方法开始第一句加上<code>UIGraphicsPushContext(ctx);</code>，因为当前绘图上下文在上层</p>
<h3 id="UIColor-colorWithPattern-gt-提供一个图"><a href="#UIColor-colorWithPattern-gt-提供一个图" class="headerlink" title="UIColor colorWithPattern-&gt;提供一个图"></a>UIColor colorWithPattern-&gt;提供一个图</h3><p>最近在做绘图工具，思考要一个东西。即要画一个有texture layer的图，没法输入。一开始有想法说在layer的contents，将图片叠加之后的image填为contents，后来重新看到这个方法即想到了，我可以使用color 的其中一个方法colorWithPattern的方法得到texture 图了。</p>
<h3 id="上海办理公积金"><a href="#上海办理公积金" class="headerlink" title="上海办理公积金"></a>上海办理公积金</h3><p>由于公积金可以付房租，对于待上海人来说能缓解很大很大的压力。这里给出前几天去办理大概过程。<br>地点：##汉中路120号##。地铁下来之后找到#汉中路#出口，走上楼梯之后往右走。大概100米有个不是门的小入口有一个向上的logo，写着上二楼。<br>上二楼之后填写两张表格，记得人多先取等号机。<br>需要的材料：<br>(结婚)结婚证、两人一起去(看情况，那次老婆先去也办成功，尽量一起去吧)、身份证、银行卡(上海银行卡、办理支行,作用是到时办理人员要刷一下)、手机；<br>未结婚的话，除去结婚证其他同样；<br>金额：每人（每户）最多2000，按季度发放，家庭办理一个之后，扣完款没有余额了才能办理另一个人的；<br>办理成功大概需要半个月；<br>上班时间：上午9点到11点40左右 下午一点半到4点半左右；</p>
<h3 id="通过越狱机iFile-导出手机数据"><a href="#通过越狱机iFile-导出手机数据" class="headerlink" title="通过越狱机iFile 导出手机数据"></a>通过越狱机iFile 导出手机数据</h3><p>由于手机不是完美越狱，很久没更新，导入导出数据都巨麻烦。这里提供一个思路。由于iFunbox提供导入导出路径在Home 的Media文件目录。<br>首先，app 路径在/var/containers/Bundle/Application 里面找到自己要的数据，右上角Edit，右下角Copy。然后点击中间的Home键，翻到Media目录，Paste。<br>在电脑使用iFunbox 到Media目录，然后导出改文件。导入文件也同理反操作。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-0709lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/07/09/2017-0709lesson/">2017/0709lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/07/09/2017-0709lesson/" class="article-date">
	  <time datetime="2017-07-09T15:22:09.000Z" itemprop="datePublished">July 9, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="2017-05-31"><a href="#2017-05-31" class="headerlink" title="2017/05/31"></a>2017/05/31</h3><p>使用UIEffectView 的一个坑：UIEffectView的实现方式是将底部的着色吸附到当前View中。我喜欢使用帧动画，pop更加爱，于是出现一个情况，该effectView在上下滑动时，吸附的图片会出现在之前的位置，很不稳定，估计是使用局部变量编写，然后没有着色在之前的rect上面，出现有刷新当前区域指令的时候，就会清楚这块不稳定内容。<br>这个问题重点在动画上。pop帧动画，采用逐步转移，而不是我现在解决使用的UIView动画。UIView动画是点到终点的动画，而pop是过程可逆的过程动画。</p>
<h3 id="这里记录一次ASDK中滑动卡顿一愣一愣，以及push卡顿。"><a href="#这里记录一次ASDK中滑动卡顿一愣一愣，以及push卡顿。" class="headerlink" title="这里记录一次ASDK中滑动卡顿一愣一愣，以及push卡顿。"></a>这里记录一次ASDK中滑动卡顿一愣一愣，以及push卡顿。</h3><p>ASDK滑动卡顿解决过程，使用将其他因素全部关掉方法。心里解决难，是因为其还有其他可能卡顿因素，所以不觉得是因为在ASDK内容物问题，因为试图由好几个层级嵌套合成。真正卡顿在ASCellNode里面，由于设计图要有cornerRadius ，单元格要有shadow，于是我加在didLoad方法里面。但是每次滑动过程，可能走到了shadow 过程，于是试图又尝试算了一遍。<br>push卡顿问题，首先要理解试图从创建过程，到压栈完成的流程。首先走init方法、接着走pushViewcontroller、viewDidLoad方法、然后走push压栈动画、最后viewwillappear。由于压栈动画是要有主线程的，当然viewDidLoad中也是有主线程卡主，那么也会有进入很慢的过程。<br>这次是因为我加了一个小方法-&gt;使用SVGKit 加载一个svg 然后转成image过程。在其中一个UIView的子UIButton使用了该转换的Image，于是我一次次打log，计算时间消耗，该处消耗0.6s，而且是在主线程，于是该处出现了卡顿。</p>
<h3 id="锤子和钉子，工具和需求"><a href="#锤子和钉子，工具和需求" class="headerlink" title="锤子和钉子，工具和需求"></a>锤子和钉子，工具和需求</h3><p>前两天在看数据库Realm，后半段功能。然不尽了解内里，所以想问公司其他人了解我所不了解的需求完成过程。但是和他们说的过程中，博士一句话点醒了我：钉子是先存在的，然后找到了锤子解决；而不是拿着锤子寻找钉子。给我的醒悟是，如果我一开始还没有钉子（后半段功能产生的需求），却急于找到锤子，那么没有钉子的需求，很快我也将忘了锤子；所以我慢了下来：在目前碰到的钉子，使用一个个不同的锤子解决。</p>
<h3 id="记录一次碰到僵尸代码以及解决过程"><a href="#记录一次碰到僵尸代码以及解决过程" class="headerlink" title="记录一次碰到僵尸代码以及解决过程"></a>记录一次碰到僵尸代码以及解决过程</h3><p>当前页面是这样：push到的DetailVC 有navigationDelegate，作为转场代理，DetailVC操作完进入“完成、分享页面”，然后有这一份代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.tabBarController.selectedIndex = 1;</span><br><span class="line">[self.navigationController popToRootViewControllerAnimated:NO];</span><br></pre></td></tr></table></figure></p>
<p>让其转向tabbar为1（之前tabbarindex=0），然后popToRootVC；这里引导出了一个问题，我再点击Tabbar=0时，此时的navigationDelegate还是detailVC，但是却早已经被dealloc了，于是就崩溃。解决是viewwillDisappear处将navigationDelegate置空。<br>OK，代码解决为之上处理，但是一开始碰到这个crash的时候，程序什么提示都没有，直接进入AppDelegate的“Bad Access XXXX”。查阅资料：<a href="http://www.cocoachina.com/bbs/read.php?tid-257873.html" target="_blank" rel="noopener"></a> :你得先知道哪报错，按下面设一下，结合日志，先找到错误的代码,<br>设置NSZombieEnabled、MallocStackLogging、NSAutoreleaseFreedObjectCheckEnabled、NSDebugEnabled：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. Product-&gt;Edit Scheme...-&gt;Run...-&gt;EnvironmentVariables. </span><br><span class="line">2. add NSZombieEnabled，set the value with YES</span><br><span class="line">3. add MallocStackLogging, set the value with YES.</span><br><span class="line">4. add NSAutoreleaseFreedObjectCheckEnabled, set the value with YES.</span><br><span class="line">5. add NSDebugEnabled, set the value with YES.</span><br></pre></td></tr></table></figure></p>
<p>这时程序console才会打出说<code>*** -[XXXXXViewC respondsToSelector:]: message sent to deallocated instance 0x134ed5900</code><br>这时又借鉴这两篇文章:<a href="http://www.cnblogs.com/myblog-12368/p/4367034.html" target="_blank" rel="noopener"></a><br><a href="http://blog.csdn.net/smking/article/details/43775523" target="_blank" rel="noopener"></a><br>后一篇跟我的很类似，都是根据VC 和 delegate 之间的关系。然后得以解决</p>
<h3 id="library-not-found-for-lcrt"><a href="#library-not-found-for-lcrt" class="headerlink" title="library not found for -lcrt"></a>library not found for -lcrt</h3><p>出现这个错误，是因为你的测试版本号太高了，以前Demo的版本低于你能运行的版本，解决：Targets-&gt;General-&gt;Deployment Info-&gt;Deployment Target改为当前Xcode能运行的最低版本</p>
<h3 id="viewModel-xxxCommand-execute-在其返回executionSignals之前调用，不会走executionSignal方法"><a href="#viewModel-xxxCommand-execute-在其返回executionSignals之前调用，不会走executionSignal方法" class="headerlink" title="[viewModel.xxxCommand execute]在其返回executionSignals之前调用，不会走executionSignal方法"></a>[viewModel.xxxCommand execute]在其返回executionSignals之前调用，不会走executionSignal方法</h3><p>今天调试一个网络，由于试试写法execute方法，这次将其写在executionSignals之前，怎么都不会走，我怎么看写法都不可能错，在将挂起方法：execute写到后面才走。在此记录一个，有机会再看是什么缘由。</p>
<h3 id="iOS跳转到具体某个应用的设置"><a href="#iOS跳转到具体某个应用的设置" class="headerlink" title="iOS跳转到具体某个应用的设置"></a>iOS跳转到具体某个应用的设置</h3><p><a href="http://blog.csdn.net/jsjxiaobing/article/details/51260753" target="_blank" rel="noopener">http://blog.csdn.net/jsjxiaobing/article/details/51260753</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">NSString * UIApplicationOpenSettingsURLString = @&quot;prefs:root=WIFI&quot;;  </span><br><span class="line">NSURL * url = [NSURL URLWithString:UIApplicationOpenSettingsURLString];  </span><br><span class="line">if([[UIApplication sharedApplication] canOpenURL:url]) &#123;  </span><br><span class="line">    [[UIApplication sharedApplication] openURL:url];  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">About — prefs:root=General&amp;path=About  </span><br><span class="line"> Accessibility — prefs:root=General&amp;path=ACCESSIBILITY  </span><br><span class="line"> AirplaneModeOn— prefs:root=AIRPLANE_MODE  </span><br><span class="line"> Auto-Lock — prefs:root=General&amp;path=AUTOLOCK  </span><br><span class="line"> Brightness — prefs:root=Brightness  </span><br><span class="line"> Bluetooth — prefs:root=General&amp;path=Bluetooth  </span><br><span class="line"> Date&amp; Time — prefs:root=General&amp;path=DATE_AND_TIME  </span><br><span class="line"> FaceTime — prefs:root=FACETIME  </span><br><span class="line"> General— prefs:root=General  </span><br><span class="line"> Keyboard — prefs:root=General&amp;path=Keyboard  </span><br><span class="line"> iCloud — prefs:root=CASTLE  iCloud  </span><br><span class="line"> Storage &amp; Backup — prefs:root=CASTLE&amp;path=STORAGE_AND_BACKUP  </span><br><span class="line"> International — prefs:root=General&amp;path=INTERNATIONAL  </span><br><span class="line"> Location Services — prefs:root=LOCATION_SERVICES  </span><br><span class="line"> Music — prefs:root=MUSIC  </span><br><span class="line"> Music Equalizer — prefs:root=MUSIC&amp;path=EQ  </span><br><span class="line"> Music VolumeLimit— prefs:root=MUSIC&amp;path=VolumeLimit  </span><br><span class="line"> Network — prefs:root=General&amp;path=Network  </span><br><span class="line"> Nike + iPod — prefs:root=NIKE_PLUS_IPOD  </span><br><span class="line"> Notes — prefs:root=NOTES  </span><br><span class="line"> Notification — prefs:root=NOTIFICATIONS_ID  </span><br><span class="line"> Phone — prefs:root=Phone  </span><br><span class="line"> Photos — prefs:root=Photos  </span><br><span class="line"> Profile — prefs:root=General&amp;path=ManagedConfigurationList  </span><br><span class="line"> Reset — prefs:root=General&amp;path=Reset  </span><br><span class="line"> Safari — prefs:root=Safari  Siri — prefs:root=General&amp;path=Assistant  </span><br><span class="line"> Sounds — prefs:root=Sounds  </span><br><span class="line"> SoftwareUpdate— prefs:root=General&amp;path=SOFTWARE_UPDATE_LINK  </span><br><span class="line"> Store — prefs:root=STORE  </span><br><span class="line"> Twitter — prefs:root=TWITTER  </span><br><span class="line"> Usage — prefs:root=General&amp;path=USAGE  </span><br><span class="line"> VPN — prefs:root=General&amp;path=Network/VPN  </span><br><span class="line"> Wallpaper — prefs:root=Wallpaper  </span><br><span class="line"> Wi-Fi — prefs:root=WIFI  </span><br><span class="line"> Setting—prefs:root=INTERNET_TETHERING</span><br></pre></td></tr></table></figure></p>
<h3 id="记一次Instrument-Time-Profile-过程"><a href="#记一次Instrument-Time-Profile-过程" class="headerlink" title="记一次Instrument - Time Profile 过程"></a>记一次Instrument - Time Profile 过程</h3><p>xcode 8.+在使用Time Profile中，会出现信息不完整，没法指示更多有用的信息。<br>首先由这篇文章：<a href="http://www.cnblogs.com/ym123/p/4324335.html能明白大概操作内容。在xcode" target="_blank" rel="noopener">http://www.cnblogs.com/ym123/p/4324335.html能明白大概操作内容。在xcode</a> 8.+中，CallTree被移动到最下方而不是右下角处。然后跟着走的时候，并没有显示文章中说的<code>图标为黑色头像的就是Time Profiler给我们的提示，有可能存在性能瓶颈的地方，可以逐渐向下展开，找到产生的根本原因。</code>这个；<br>我又找了找这篇文章：<a href="http://www.jianshu.com/p/179d69f636b0" target="_blank" rel="noopener">http://www.jianshu.com/p/179d69f636b0</a><br>原来是需要在Target-Build Settings-Debug Information Format-Debug 选择dwarf-with-dsym，如果没有该选项，需要手动打入。<br>同时开启TimeProfile就可以看到黑色头像，同时各个方法调用栈就出来。<br>我的操作是：先点击你需要debug的附近区域，然后CPU Usage会有很多波动，然后你可以暂停（stop，不是shut down）同时选中该波动区域附近，形成一个区间。然后下方的调用栈即为该时间区域的调用信息。即得到所需要信息。</p>
<h3 id="记一次硬磕UI、转场遇到的问题"><a href="#记一次硬磕UI、转场遇到的问题" class="headerlink" title="记一次硬磕UI、转场遇到的问题"></a>记一次硬磕UI、转场遇到的问题</h3><p>1：转场的时候alpha很重要，比如pushTransitino的时候，toVC的alpha一开始就要设好，如果animate组，半途还有转变动画，那么会带来感觉像是掉帧的bug。fromVC也一样，多调试这一块，结合Time Profile看这中间有没有其他重操作，提前做，或者之后做。<br>2：pop的时候，与push很像。这里提一点，动作与控制要同步，比如转场里面某一元素，如果动画场景不一致，会带来断层，中间的东西没了，然后又有了。比如我后退，立马把该元素隐藏，但是等到要做动画其实还要几毫秒，于是就会出现断层。这时候最好的就是先在contextView中添好该元素试图覆盖，然后再隐藏。<br>多用动画稿，尽量不要埋头苦调试，没有数值真的很麻烦。</p>
<h3 id="昨晚看到一个帖子列出好的一些iOS片段，我继续删减，留下适合我，我可能会遇到的"><a href="#昨晚看到一个帖子列出好的一些iOS片段，我继续删减，留下适合我，我可能会遇到的" class="headerlink" title="昨晚看到一个帖子列出好的一些iOS片段，我继续删减，留下适合我，我可能会遇到的"></a>昨晚看到一个帖子列出好的一些iOS片段，我继续删减，留下适合我，我可能会遇到的</h3><h5 id="去除数组中重复的对象"><a href="#去除数组中重复的对象" class="headerlink" title="去除数组中重复的对象"></a>去除数组中重复的对象</h5><p><code>NSArray *newArr = [oldArr valueForKeyPath:@“@distinctUnionOfObjects.self&quot;];</code></p>
<h5 id="动画切换window的根控制器"><a href="#动画切换window的根控制器" class="headerlink" title="动画切换window的根控制器"></a>动画切换window的根控制器</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// options是动画选项</span><br><span class="line">[UIView transitionWithView:[UIApplication sharedApplication].keyWindow duration:0.5f options:UIViewAnimationOptionTransitionCrossDissolve animations:^&#123;</span><br><span class="line">        BOOL oldState = [UIView areAnimationsEnabled];</span><br><span class="line">        [UIView setAnimationsEnabled:NO];</span><br><span class="line">        [UIApplication sharedApplication].keyWindow.rootViewController = [RootViewController new];</span><br><span class="line">        [UIView setAnimationsEnabled:oldState];</span><br><span class="line">    &#125; completion:^(BOOL finished) &#123;</span><br><span class="line">    &#125;];</span><br></pre></td></tr></table></figure>
<h5 id="由角度转换弧度"><a href="#由角度转换弧度" class="headerlink" title="由角度转换弧度"></a>由角度转换弧度</h5><p>`</p>
<p>#define DegreesToRadian(x) (M_PI * (x) / 180.0)<br>`</p>
<h5 id="控制屏幕旋转，在控制器中写"><a href="#控制屏幕旋转，在控制器中写" class="headerlink" title="控制屏幕旋转，在控制器中写"></a>控制屏幕旋转，在控制器中写</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/** 是否支持自动转屏 */</span><br><span class="line">- (BOOL)shouldAutorotate &#123;</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">/** 支持哪些屏幕方向 */</span><br><span class="line">- (UIInterfaceOrientationMask)supportedInterfaceOrientations &#123;</span><br><span class="line">    return UIInterfaceOrientationMaskLandscapeLeft | UIInterfaceOrientationMaskLandscapeRight;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">/** 默认的屏幕方向（当前ViewController必须是通过模态出来的UIViewController（模态带导航的无效）方式展现出来的，才会调用这个方法） */</span><br><span class="line">- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation &#123;</span><br><span class="line">    return UIInterfaceOrientationLandscapeLeft | UIInterfaceOrientationLandscapeRight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="几个常用权限判断"><a href="#几个常用权限判断" class="headerlink" title="几个常用权限判断"></a>几个常用权限判断</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    if ([CLLocationManager authorizationStatus] ==kCLAuthorizationStatusDenied) &#123;</span><br><span class="line">        NSLog(@&quot;没有定位权限&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    AVAuthorizationStatus statusVideo = [AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeVideo];</span><br><span class="line">    if (statusVideo == AVAuthorizationStatusDenied) &#123;</span><br><span class="line">        NSLog(@&quot;没有摄像头权限&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    //是否有麦克风权限</span><br><span class="line">    AVAuthorizationStatus statusAudio = [AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeAudio];</span><br><span class="line">    if (statusAudio == AVAuthorizationStatusDenied) &#123;</span><br><span class="line">        NSLog(@&quot;没有录音权限&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    [PHPhotoLibrary requestAuthorization:^(PHAuthorizationStatus status) &#123;</span><br><span class="line">        if (status == PHAuthorizationStatusDenied) &#123;</span><br><span class="line">            NSLog(@&quot;没有相册权限&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br></pre></td></tr></table></figure>
<h5 id="判断图片类型"><a href="#判断图片类型" class="headerlink" title="判断图片类型"></a>判断图片类型</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">//通过图片Data数据第一个字节 来获取图片扩展名</span><br><span class="line">- (NSString *)contentTypeForImageData:(NSData *)data</span><br><span class="line">&#123;</span><br><span class="line">    uint8_t c;</span><br><span class="line">    [data getBytes:&amp;c length:1];</span><br><span class="line">    switch (c)</span><br><span class="line">    &#123;</span><br><span class="line">        case 0xFF:</span><br><span class="line">            return @&quot;jpeg&quot;;</span><br><span class="line"> </span><br><span class="line">        case 0x89:</span><br><span class="line">            return @&quot;png&quot;;</span><br><span class="line"> </span><br><span class="line">        case 0x47:</span><br><span class="line">            return @&quot;gif&quot;;</span><br><span class="line"> </span><br><span class="line">        case 0x49:</span><br><span class="line">        case 0x4D:</span><br><span class="line">            return @&quot;tiff&quot;;</span><br><span class="line"> </span><br><span class="line">        case 0x52:</span><br><span class="line">        if ([data length] &lt; 12) &#123;</span><br><span class="line">            return nil;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        NSString *testString = [[NSString alloc] initWithData:[data subdataWithRange:NSMakeRange(0, 12)] encoding:NSASCIIStringEncoding];</span><br><span class="line">        if ([testString hasPrefix:@&quot;RIFF&quot;]</span><br><span class="line">            &amp;&amp; [testString hasSuffix:@&quot;WEBP&quot;])</span><br><span class="line">        &#123;</span><br><span class="line">            return @&quot;webp&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        return nil;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="获取手机和app信息"><a href="#获取手机和app信息" class="headerlink" title="获取手机和app信息"></a>获取手机和app信息</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">NSDictionary *infoDictionary = [[NSBundle mainBundle] infoDictionary];  </span><br><span class="line"> CFShow(infoDictionary);  </span><br><span class="line">// app名称  </span><br><span class="line"> NSString *app_Name = [infoDictionary objectForKey:@&quot;CFBundleDisplayName&quot;];  </span><br><span class="line"> // app版本  </span><br><span class="line"> NSString *app_Version = [infoDictionary objectForKey:@&quot;CFBundleShortVersionString&quot;];  </span><br><span class="line"> // app build版本  </span><br><span class="line"> NSString *app_build = [infoDictionary objectForKey:@&quot;CFBundleVersion&quot;];  </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    //手机序列号  </span><br><span class="line">    NSString* identifierNumber = [[UIDevice currentDevice] uniqueIdentifier];  </span><br><span class="line">    NSLog(@&quot;手机序列号: %@&quot;,identifierNumber);  </span><br><span class="line">    //手机别名： 用户定义的名称  </span><br><span class="line">    NSString* userPhoneName = [[UIDevice currentDevice] name];  </span><br><span class="line">    NSLog(@&quot;手机别名: %@&quot;, userPhoneName);  </span><br><span class="line">    //设备名称  </span><br><span class="line">    NSString* deviceName = [[UIDevice currentDevice] systemName];  </span><br><span class="line">    NSLog(@&quot;设备名称: %@&quot;,deviceName );  </span><br><span class="line">    //手机系统版本  </span><br><span class="line">    NSString* phoneVersion = [[UIDevice currentDevice] systemVersion];  </span><br><span class="line">    NSLog(@&quot;手机系统版本: %@&quot;, phoneVersion);  </span><br><span class="line">    //手机型号  </span><br><span class="line">    NSString* phoneModel = [[UIDevice currentDevice] model];  </span><br><span class="line">    NSLog(@&quot;手机型号: %@&quot;,phoneModel );  </span><br><span class="line">    //地方型号  （国际化区域名称）  </span><br><span class="line">    NSString* localPhoneModel = [[UIDevice currentDevice] localizedModel];  </span><br><span class="line">    NSLog(@&quot;国际化区域名称: %@&quot;,localPhoneModel );  </span><br><span class="line"> </span><br><span class="line">    NSDictionary *infoDictionary = [[NSBundle mainBundle] infoDictionary];  </span><br><span class="line">    // 当前应用名称  </span><br><span class="line">    NSString *appCurName = [infoDictionary objectForKey:@&quot;CFBundleDisplayName&quot;];  </span><br><span class="line">    NSLog(@&quot;当前应用名称：%@&quot;,appCurName);  </span><br><span class="line">    // 当前应用软件版本  比如：1.0.1  </span><br><span class="line">    NSString *appCurVersion = [infoDictionary objectForKey:@&quot;CFBundleShortVersionString&quot;];  </span><br><span class="line">    NSLog(@&quot;当前应用软件版本:%@&quot;,appCurVersion);  </span><br><span class="line">    // 当前应用版本号码   int类型  </span><br><span class="line">    NSString *appCurVersionNum = [infoDictionary objectForKey:@&quot;CFBundleVersion&quot;];  </span><br><span class="line">    NSLog(@&quot;当前应用版本号码：%@&quot;,appCurVersionNum);</span><br></pre></td></tr></table></figure>
<h5 id="获取设备mac地址"><a href="#获取设备mac地址" class="headerlink" title="获取设备mac地址"></a>获取设备mac地址</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">+ (NSString *)macAddress &#123;</span><br><span class="line">    int                 mib[6];</span><br><span class="line">    size_t              len;</span><br><span class="line">    char                *buf;</span><br><span class="line">    unsigned char       *ptr;</span><br><span class="line">    struct if_msghdr    *ifm;</span><br><span class="line">    struct sockaddr_dl  *sdl;</span><br><span class="line"> </span><br><span class="line">    mib[0] = CTL_NET;</span><br><span class="line">    mib[1] = AF_ROUTE;</span><br><span class="line">    mib[2] = 0;</span><br><span class="line">    mib[3] = AF_LINK;</span><br><span class="line">    mib[4] = NET_RT_IFLIST;</span><br><span class="line"> </span><br><span class="line">    if((mib[5] = if_nametoindex(&quot;en0&quot;)) == 0) &#123;</span><br><span class="line">        printf(&quot;Error: if_nametoindex error\n&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    if(sysctl(mib, 6, NULL, &amp;len, NULL, 0) &lt; 0) &#123;</span><br><span class="line">        printf(&quot;Error: sysctl, take 1\n&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    if((buf = malloc(len)) == NULL) &#123;</span><br><span class="line">        printf(&quot;Could not allocate memory. Rrror!\n&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    if(sysctl(mib, 6, buf, &amp;len, NULL, 0) &lt; 0) &#123;</span><br><span class="line">        printf(&quot;Error: sysctl, take 2&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    ifm = (struct if_msghdr *)buf;</span><br><span class="line">    sdl = (struct sockaddr_dl *)(ifm + 1);</span><br><span class="line">    ptr = (unsigned char *)LLADDR(sdl);</span><br><span class="line">    NSString *outstring = [NSString stringWithFormat:@&quot;X:X:X:X:X:X&quot;,</span><br><span class="line">                           *ptr, *(ptr+1), *(ptr+2), *(ptr+3), *(ptr+4), *(ptr+5)];</span><br><span class="line">    free(buf);</span><br><span class="line"> </span><br><span class="line">    return outstring;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="拿到当前正在显示的控制器，不管是push进去的，还是present进去的都能拿到"><a href="#拿到当前正在显示的控制器，不管是push进去的，还是present进去的都能拿到" class="headerlink" title="拿到当前正在显示的控制器，不管是push进去的，还是present进去的都能拿到"></a>拿到当前正在显示的控制器，不管是push进去的，还是present进去的都能拿到</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (UIViewController *)getVisibleViewControllerFrom:(UIViewController*)vc &#123;</span><br><span class="line">    if ([vc isKindOfClass:[UINavigationController class]]) &#123;</span><br><span class="line">        return [self getVisibleViewControllerFrom:[((UINavigationController*) vc) visibleViewController]];</span><br><span class="line">    &#125;else if ([vc isKindOfClass:[UITabBarController class]])&#123;</span><br><span class="line">        return [self getVisibleViewControllerFrom:[((UITabBarController*) vc) selectedViewController]];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        if (vc.presentedViewController) &#123;</span><br><span class="line">            return [self getVisibleViewControllerFrom:vc.presentedViewController];</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return vc;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="AFNetworking监听网络状态"><a href="#AFNetworking监听网络状态" class="headerlink" title="AFNetworking监听网络状态"></a>AFNetworking监听网络状态</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// 监听网络状况</span><br><span class="line">    AFNetworkReachabilityManager *mgr = [AFNetworkReachabilityManager sharedManager];</span><br><span class="line">    [mgr setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) &#123;</span><br><span class="line">        switch (status) &#123;</span><br><span class="line">            case AFNetworkReachabilityStatusUnknown:</span><br><span class="line">                break;</span><br><span class="line">            case AFNetworkReachabilityStatusNotReachable: &#123;</span><br><span class="line">                [SVProgressHUD showInfoWithStatus:@&quot;当前设备无网络&quot;];</span><br><span class="line">            &#125;</span><br><span class="line">                break;</span><br><span class="line">            case AFNetworkReachabilityStatusReachableViaWiFi:</span><br><span class="line">                [SVProgressHUD showInfoWithStatus:@&quot;当前Wi-Fi网络&quot;];</span><br><span class="line">                break;</span><br><span class="line">            case AFNetworkReachabilityStatusReachableViaWWAN:</span><br><span class="line">                [SVProgressHUD showInfoWithStatus:@&quot;当前蜂窝移动网络&quot;];</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    [mgr startMonitoring];</span><br></pre></td></tr></table></figure>
<h5 id="判断该图片是否有透明度通道"><a href="#判断该图片是否有透明度通道" class="headerlink" title="判断该图片是否有透明度通道"></a>判断该图片是否有透明度通道</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  - (BOOL)hasAlphaChannel</span><br><span class="line">&#123;</span><br><span class="line">    CGImageAlphaInfo alpha = CGImageGetAlphaInfo(self.CGImage);</span><br><span class="line">    return (alpha == kCGImageAlphaFirst ||</span><br><span class="line">            alpha == kCGImageAlphaLast ||</span><br><span class="line">            alpha == kCGImageAlphaPremultipliedFirst ||</span><br><span class="line">            alpha == kCGImageAlphaPremultipliedLast);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="获得灰度图"><a href="#获得灰度图" class="headerlink" title="获得灰度图"></a>获得灰度图</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">+ (UIImage*)covertToGrayImageFromImage:(UIImage*)sourceImage</span><br><span class="line">&#123;</span><br><span class="line">    int width = sourceImage.size.width;</span><br><span class="line">    int height = sourceImage.size.height;</span><br><span class="line"> </span><br><span class="line">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceGray();</span><br><span class="line">    CGContextRef context = CGBitmapContextCreate (nil,width,height,8,0,colorSpace,kCGImageAlphaNone);</span><br><span class="line">    CGColorSpaceRelease(colorSpace);</span><br><span class="line"> </span><br><span class="line">    if (context == NULL) &#123;</span><br><span class="line">        return nil;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    CGContextDrawImage(context,CGRectMake(0, 0, width, height), sourceImage.CGImage);</span><br><span class="line">    CGImageRef contextRef = CGBitmapContextCreateImage(context);</span><br><span class="line">    UIImage *grayImage = [UIImage imageWithCGImage:contextRef];</span><br><span class="line">    CGContextRelease(context);</span><br><span class="line">    CGImageRelease(contextRef);</span><br><span class="line"> </span><br><span class="line">    return grayImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="UILabel设置内边距"><a href="#UILabel设置内边距" class="headerlink" title="UILabel设置内边距"></a>UILabel设置内边距</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">子类化UILabel，重写drawTextInRect方法</span><br><span class="line">- (void)drawTextInRect:(CGRect)rect &#123;</span><br><span class="line">    // 边距，上左下右</span><br><span class="line">    UIEdgeInsets insets = &#123;0, 5, 0, 5&#125;;</span><br><span class="line">    [super drawTextInRect:UIEdgeInsetsInsetRect(rect, insets)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="让手机震动一下"><a href="#让手机震动一下" class="headerlink" title="让手机震动一下"></a>让手机震动一下</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">倒入框架</span><br><span class="line">#import</span><br><span class="line">AudioServicesPlayAlertSound(kSystemSoundID_Vibrate);</span><br><span class="line">或者</span><br><span class="line">AudioServicesPlaySystemSound(kSystemSoundID_Vibrate);</span><br></pre></td></tr></table></figure>
<h5 id="摇一摇功能"><a href="#摇一摇功能" class="headerlink" title="摇一摇功能"></a>摇一摇功能</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1、打开摇一摇功能</span><br><span class="line">    [UIApplication sharedApplication].applicationSupportsShakeToEdit = YES;</span><br><span class="line">2、让需要摇动的控制器成为第一响应者</span><br><span class="line">[self becomeFirstResponder];</span><br><span class="line">3、实现以下方法</span><br><span class="line"> </span><br><span class="line">// 开始摇动</span><br><span class="line">- (void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event</span><br><span class="line">// 取消摇动</span><br><span class="line">- (void)motionCancelled:(UIEventSubtype)motion withEvent:(UIEvent *)event</span><br><span class="line">// 摇动结束</span><br><span class="line">- (void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event</span><br></pre></td></tr></table></figure>
<h5 id="UITextView中打开或禁用复制，剪切，选择，全选等功能"><a href="#UITextView中打开或禁用复制，剪切，选择，全选等功能" class="headerlink" title="UITextView中打开或禁用复制，剪切，选择，全选等功能"></a>UITextView中打开或禁用复制，剪切，选择，全选等功能</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 继承UITextView重写这个方法</span><br><span class="line">- (BOOL)canPerformAction:(SEL)action withSender:(id)sender</span><br><span class="line">&#123;</span><br><span class="line">// 返回NO为禁用，YES为开启</span><br><span class="line">    // 粘贴</span><br><span class="line">    if (action == @selector(paste:)) return NO;</span><br><span class="line">    // 剪切</span><br><span class="line">    if (action == @selector(cut:)) return NO;</span><br><span class="line">    // 复制</span><br><span class="line">    if (action == @selector(copy:)) return NO;</span><br><span class="line">    // 选择</span><br><span class="line">    if (action == @selector(select:)) return NO;</span><br><span class="line">    // 选中全部</span><br><span class="line">    if (action == @selector(selectAll:)) return NO;</span><br><span class="line">    // 删除</span><br><span class="line">    if (action == @selector(delete:)) return NO;</span><br><span class="line">    // 分享</span><br><span class="line">    if (action == @selector(share)) return NO;</span><br><span class="line">    return [super canPerformAction:action withSender:sender];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="记录一个“POP”引擎动画后调用了superView的layoutSubViews方法"><a href="#记录一个“POP”引擎动画后调用了superView的layoutSubViews方法" class="headerlink" title="记录一个“POP”引擎动画后调用了superView的layoutSubViews方法"></a>记录一个“POP”引擎动画后调用了superView的layoutSubViews方法</h3><p>今天在做一个动画的时候，使用‘pop’时候，发现动作做完了，然后一个按钮使其回归原位，但是再做动作的时候，就只动了一下。难以查看过程，当我打断点到layoutSubviews的时候，果然进去了。然后不知道是谁调用的，于是我去使用time profile看了那一段时间干了什么事。于是看到了layoutSubviews被调用了，是‘pop’某一块调用了，使view又跑回原位。这时候，要么将布局代码写到其他地方，要么使用UIView的动画，我选择了后者。</p>
<h3 id="POPSpringAnimation-‘scaleXY’-会出现rotate-情况"><a href="#POPSpringAnimation-‘scaleXY’-会出现rotate-情况" class="headerlink" title="POPSpringAnimation ‘scaleXY’ 会出现rotate 情况"></a>POPSpringAnimation ‘scaleXY’ 会出现rotate 情况</h3><p>在一个回馈动效中使用POPSpringAnimation，但是由于滑块可以快速多次滑动，所以在弹性高过预定值，会产生negative值，即负值，这时3D transform中，scaleXY会出现rotate情况，<code>https://github.com/facebook/pop/issues/76</code>，这里采用clamp，在结束时，不超过回弹值。可以使用下面给出的两端中其一都可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-(void)popupMensionNode&#123;</span><br><span class="line">    POPBasicAnimation *nodeAnim = [POPBasicAnimation animationWithPropertyNamed:kPOPLayerScaleXY];</span><br><span class="line">    nodeAnim.toValue = [NSValue valueWithCGSize:CGSizeMake(1.f, 1.f)];</span><br><span class="line">    nodeAnim.fromValue = [NSValue valueWithCGSize:CGSizeMake(0.f, 0.f)];</span><br><span class="line">    nodeAnim.autoreverses = YES;</span><br><span class="line">    nodeAnim.duration = 0.25;</span><br><span class="line">    [_textNode.layer pop_addAnimation:nodeAnim forKey:NSStringFromSelector(_cmd)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-(void)popupMensionNode&#123;</span><br><span class="line">    POPSpringAnimation *imageNodeAnim = [POPSpringAnimation animationWithPropertyNamed:kPOPLayerScaleXY];</span><br><span class="line">    imageNodeAnim.toValue = [NSValue valueWithCGSize:CGSizeMake(1.f, 1.f)];</span><br><span class="line">    imageNodeAnim.fromValue = [NSValue valueWithCGSize:CGSizeMake(0.f, 0.f)];</span><br><span class="line">    imageNodeAnim.autoreverses = YES;</span><br><span class="line">    imageNodeAnim.clampMode = kPOPAnimationClampEnd;</span><br><span class="line">    imageNodeAnim.springBounciness = 8;</span><br><span class="line">//    imageNodeAnim.springSpeed = 20;</span><br><span class="line">    [_textNode.layer pop_addAnimation:imageNodeAnim forKey:NSStringFromSelector(_cmd)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面两个带来的效果还是不尽完美，这时可以更进一步，又要同时有Spring动画效果，又要有回弹，那么只能使用自主操作：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-(POPSpringAnimation *)popupMensionNode&#123;</span><br><span class="line">    [_popNode.layer pop_removeAllAnimations];</span><br><span class="line">    </span><br><span class="line">    POPSpringAnimation *nodeAnim = self.popNodeAnima;</span><br><span class="line">    nodeAnim.fromValue = [NSValue valueWithCGSize:CGSizeMake(0.f, 0.f)];</span><br><span class="line">    nodeAnim.toValue = [NSValue valueWithCGSize:CGSizeMake(1.f, 1.f)];</span><br><span class="line">//    nodeAnim.autoreverses = YES;</span><br><span class="line">    nodeAnim.springBounciness = 6;</span><br><span class="line">    [_popNode.layer pop_addAnimation:nodeAnim forKey:NSStringFromSelector(_cmd)];</span><br><span class="line">    </span><br><span class="line">    POPBasicAnimation *minScaleXYAnimate = [POPBasicAnimation animationWithPropertyNamed:kPOPLayerScaleXY];</span><br><span class="line">    minScaleXYAnimate.duration = .2;</span><br><span class="line">    minScaleXYAnimate.toValue = [NSValue valueWithCGSize:CGSizeMake(0.f, 0.f)];</span><br><span class="line">    </span><br><span class="line">    [nodeAnim setCompletionBlock:^(POPAnimation *animation,BOOL complete)&#123;</span><br><span class="line">        if (complete) &#123;</span><br><span class="line">            [_popNode.layer pop_addAnimation:minScaleXYAnimate forKey:@&quot;kminScaleAnimate&quot;];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">    return nodeAnim;</span><br><span class="line">&#125;</span><br><span class="line">-(POPSpringAnimation *)popNodeAnima&#123;</span><br><span class="line">    if (!_popNodeAnima) &#123;</span><br><span class="line">        _popNodeAnima = [POPSpringAnimation animationWithPropertyNamed:kPOPLayerScaleXY];</span><br><span class="line">    &#125;</span><br><span class="line">    return _popNodeAnima;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样子便不会出现negative值，不会发生rotate，同时还保留有spring动画的停顿效果，多次快速点击也能相应，不会出问题。</p>
<h3 id="更换PinRemoteImage已经保存的图片"><a href="#更换PinRemoteImage已经保存的图片" class="headerlink" title="更换PinRemoteImage已经保存的图片"></a>更换PinRemoteImage已经保存的图片</h3><p>这种做法比较少，但是还是会有此需求，比如我现在做的。<br>要更换就要更换两处，memory cache 和disk cache。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PINRemoteImageManager *imageManager = [PINRemoteImageManager sharedImageManager];</span><br><span class="line">[imageManager.cache removeObjectForKeyFromMemory:model.img_url];</span><br><span class="line">NSData *data = UIImagePNGRepresentation(para1.contentImg);</span><br><span class="line">[imageManager.defaultImageCache setObjectInMemory:data forKey:model.img_url withCost:data.length];</span><br><span class="line">[imageManager.cache setObjectOnDisk:data forKey:model.img_url];</span><br></pre></td></tr></table></figure></p>
<p>model.img_url 是其地址，在disk-&gt;library-&gt;cache-&gt;pincache-&gt;com.pinterest.pinremoteImage目录下，记不清其目录地址，大概是这样的。<br>data是我们要保存的图片的NSData 。</p>
<h3 id="记一次Apple-Develop-center-加多个device-id经历"><a href="#记一次Apple-Develop-center-加多个device-id经历" class="headerlink" title="记一次Apple Develop center 加多个device id经历"></a>记一次Apple Develop center 加多个device id经历</h3><p>1：首先先下载上面一段话的特殊字，写着实例文件。<br>2：然后我跟着写了其格式：<br>1）第一行为无效文字，苹果不填写，仅做log实例。<br>2）第二行开始，左边填写”devices id+’tab’+名称(名称全部用英文写，不要有中文符号，不要有空格，不要奇奇怪怪东西)”<br>3：然后上传基本就可以了</p>
<p>如果中间有出问题，尽量分段上传，这样就可以测试时什么个情况了</p>
<h3 id="iOS解决bug几个方法"><a href="#iOS解决bug几个方法" class="headerlink" title="iOS解决bug几个方法"></a>iOS解决bug几个方法</h3><p>1：用代码管理，每天记录。如果有解决不了的bug，看看几天改了什么，站起来思考（不要坐着）有没有关联；<br>2：如果是在一个文件class 内，可以试试将无关联代码去掉，单方面测试要定位的问题；解决了再回退，最好保存一份文件；<br>3：在断点出左下角+号，有个Exceptions BreakPoint…，直接点击添加，然后运行时自动大部分会自动定位到目标代码；<br>4：如果有崩溃现象，会进入到调用栈，IDE的左上角的小页签会跑到第六个，调用栈里边，这里可以看到你最近的几个方法是怎么跳转的，比如你是哪个线程，调用了哪个栈方法，连续调了哪些方法等等，这个方法很能反应问题实质，你还可以点击到相应的方法，同时打出相应的属性，lldb是可用状态；其他线程的lldb，只能看，不能再记录那些线程的方法属性了；<br>5：看性能损耗，主要还是要看Time Profile;同时僵尸代码的崩溃监控；这个记录由上边的Instrument 记录有记录。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-05-20travel" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/05/21/2017-05-20travel/">2017/05/20travel</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/05/21/2017-05-20travel/" class="article-date">
	  <time datetime="2017-05-21T05:04:19.000Z" itemprop="datePublished">May 21, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天,晚春公司组织的一次团建活动。用时三天，公司员工基本都前去。</p>
<p>第一天集合，大家一起坐大巴出发，从楼下直接开到景区，花费三个半小时。刚上车不久，由于是跑着过来，全身都是汗，过没一会我就感觉到很想吐的感觉，幸得带了晕车药。以前都觉得晕车药没用，以后能信任晕车药的药效了。</p>
<p>中午先在东钱湖边用了午餐（菜肴丰富），然后车子继续开。<br>在东钱湖大家拍了合影后都散开玩。<br>由于一个人无聊，就周围农舍转了转，最后到了湖边休憩。<br>没一会，周围聚拢了一堆伙伴（c哥、鲁强等），在湖边聊聊天，吹吹牛，说说话，感觉在大城市里的紧实放松了下来。<br>集合后前往宁波市中心办理入住。<br>有意思的是我最后一个上车，所以选择坐最后一排，可萌测试“小哥”坐我边上。他1.9m个的腿好长啊，没地放，只能斜着。人高也是有坏处的，我也深有体会，哈哈。小哥一直很关注运动步数，下车时看了下，惊呆了：最后一排，车子震动严重，计数以为真在走动，于是一直在计数，所以他的排行居然是第一。</p>
<p>入住时我和雨哥cto一间房间，在大堂大家取得房卡便先上楼安顿。我的原则，多和大伙增进友情，毕竟难得有这么多伙伴一起加油。休息了会，大家伙一起约了先去吃饭，再去网吧。去网吧有个好处，只要打上游戏，那么人和人之间的感情就是战友，一起共荣辱，团结、互助、牺牲、胜任等都能体现。</p>
<p>晚上大家伙一起回去，一路畅聊。晚上洗澡的时候，由于没用过此等喷头，喊上cto帮忙。这里写是因为有几点想说。首先，友情是互助的，你不让人帮忙，聊上话都么得。再者，我看了会喷头图标，不大体会到底怎么开；雨哥一进来，捣鼓了下就好了：雨哥脑袋真的很能理解那些晦涩难解的题：就跟我以前在搞视频遇到的一个难题一般，我当时用了不那么友好的方法，而雨哥却在很短时间内快速定位到最佳方案。这里真的值得我推敲推敲，思考方法方式有待提高。遇到解决方法时间长的情况，我都会变得浮躁些，估计这也是我在学识、经验上的欠缺。</p>
<p>第二天雪窦山行。刚下车，便下起了小雨。但是我的兴致还是很高，这里绿树环抱的野外，简直是天堂一般。累是累，但是也从中领悟到了些东西。首先是组织纪律性，安全性，我们一行都是很好；其中有各种互动，都是好伙伴；再者是我在走到一个有名的桥边时领悟到一个思想：这个桥是挺有名-&gt;险峻，难行，过桥都在晃动，各种属性叠加使得该桥有一定意义。但是这个景区总不能叫该桥的名字吧？或者说，我遇到的很高的著名瀑布，水花都能打到岸边游客的脸，总不能叫该瀑布的名字吧？是的，一个地方会被大家称颂，一个产品会被大家提及，她是因为内在各个惊喜，各个容易体会的完美才被记录。大家不会因为你叫雪窦山，不会因为其中某个著名桥、瀑布等而欣然前往；但是他们是一个集合，一个一个聚合勾画的场景，就使得大家有迫切欣然前往的动力。</p>
<p>我也为这次出行，怦然心动中写了两首诗，其中一首很对味雪窦山的壮丽景色，希望能对他添一笔：</p>
<blockquote>
<p>雪窦山行<br>倒挂青葱绿，平波卷碧漾。移山别有影，呼啸震癫狂。</p>
</blockquote>
<p>妙高台处，很让我感叹，这类小屋才是别墅，其他的只能称之为别屋吧。场临崖壁，居高雾缭。进堂，三阶，步步高升。内有小池鱼戏，边有松树环抱。这就是顶级奢华的低调。也幸得这成为景区，我们才有幸得以观看。</p>
<p>雪窦寺占地也是挺大的，看到这么好的景色，屋宇，感慨也是蛮多的：和尚庙、总统府总是能占据最好的地段，最好的景色，最好的资源配比。从此得出一个结论，思想拉拢在中国（封建制国家）是最能起到思想禁锢的手段。这种官场、职场中的管控能力不是他人能比。人民们也不得更好的发展。仅仅是寺庙，用的最好的木材（整木），香火、连佛像资金都不需思考，思想管控中的子民们自己主动交出善款。成功不要靠外在的，而是用内在的东西一次次更改其思想，”花钱吧，花钱对自己才是最好的，才是最忠诚的体现“；</p>
<p>第二天的行程都在溪口古镇，那天在一个饭店吃饭，伙食确实是相当丰富，好吃，赞不绝口。<br>第二天其实大家都走的很累了，去吃饭的时候，去网吧的哥们都扎堆，今天去一个“北疆”饭店，羊肉串一吃，我就知道不是新疆好味道，不过吃饱就行。吃完在楼下等等,看他们说的音乐喷泉。音乐喷泉这玩意我觉得是一个消耗品，在引进来的时候大家都觉得蛮赞的，但是基本1个月过去，周围人理都不理；再过一个月，音乐喷泉估计会老化，要修理什么的，这时又没有钱投进去了；得，就废弃了，这东西就是一个浪费；不过讨好一下，这个设备比如50万，采购的说60万，嘿嘿，棒棒哒；</p>
<p>晚上去打游戏没昨天那么多人，凑够5人就开打；那个网吧着实贵，最便宜的会员1小时要5块，不是会员10块。我的天，简直是抢。算了，就充个30玩了两天，心里还是心疼。晚上几个人一起回去，说说笑笑，谈谈刚才的操作、意识，回味回味（好像我打的adc 小炮最后把他们坑了，其实内心很对不住）。</p>
<p>第三天要回去了，每个人的腿都是大考验，这不，过去了三天，我写这的时候在周六了，腿还是酸软无力；<br>早上启程出发，转转1个多小时来到“浙东小九寨”。我在进景区的路上（停车场到景区还有很长一段路）就觉得没聊，应该不会是很给力的地方吧？</p>
<p>刚进去就看到的溪流，溪流里鹅卵石大大小小。没一会，我们做安卓的“君哥”手里拿着根木棍就去挑战沿水路走鹅卵石之旅了。过一会，一个设计大哥“聪哥”、一个运营大哥“鲁强大哥”也在那走。有意思，我也拿着拾得的竹棍下去走走。走着走着，两位大佬不一会就“下水”了，踏空下去。过没一会，又加入两个女生，都玩得很开，有意思。路上照应，遇到险阻一起互助；有一段路，水不大，但是中间石子很少，我们一起办了好几块大石头建立起了一个能踩踏过去的路。之前鞋子湿了的，想都没想，就过去。我们几个没湿的小心翼翼想着点子终于过去了。<br>在后面一段路，都没办法想出“无伤”过河的法子，全员鞋子都湿了。我算幸运的，只鞋子前跟湿了。大家在一堆大石那里休憩，等着去终点的人们回来。我们在那里泡脚、晒鞋子、晒袜子。刚才玩的忘我，在水路石子上面周转腾挪都还能拼尽全力，现在休憩之后，浑身乏力ing…大家终于使完最后的力，挪动身子往山下去。</p>
<p>中午吃个饭便启程回上海了。老实说，宁波那边小桥蛮多的，为什么我这么记得住？因为每过一个桥，车子都蹦跶起来，刚迷迷糊糊难受的想睡着，就蹦跶一次，小心脏都给吓跳出来了。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-5-21lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/05/21/2017-5-21lesson/">2017/5/21lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/05/21/2017-5-21lesson/" class="article-date">
	  <time datetime="2017-05-21T04:06:46.000Z" itemprop="datePublished">May 21, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017/05/04<br>总结下最近哪里有没有长进。<br>劳动节之前，比较大的收获，估计就是git的时候更熟练了。在处理数据库路上，也有稍许开窍，比较coreData是我一直不喜欢整的一个东西。<br>劳动节放假三天，我花了半天写东西，搞了搞liveQuery，没有结果，卡在那里。花了1天多一点打游戏，莫名烦躁。花了点时间陪丫头去公园看别人开心花钱，我和丫头就这样走走，看看，突然想着，咦，有时间可以来露营，但是要买个帐篷，闲鱼逛逛去。还有的时间就是一直在逛闲鱼，各种逛。闲鱼的模式在于交换二手物品，但是他有几个点别人学不来：</p>
<ol>
<li>强大的背景：背靠阿里，值得信赖；</li>
<li>支付宝第三方保障，信用分可查；</li>
<li>法院的单都能谈下来，还有什么做不到？ </li>
<li>精通买卖物品模式；</li>
<li>其强大的物品推荐能力和搜索推荐物品能力；</li>
<li>不买即走的概念</li>
</ol>
<p>这些都是58、赶集 办不到的地方。</p>
<h2 id="这几天想着自己的事情，大项目还是要尝试，小的东西也要搞起来，为了精细小功能，加些广告，广告这块要赶紧接触，磨合；什么时候有广告；会员去广告；能不弹出一定不能弹出；项目要写的小而Q；"><a href="#这几天想着自己的事情，大项目还是要尝试，小的东西也要搞起来，为了精细小功能，加些广告，广告这块要赶紧接触，磨合；什么时候有广告；会员去广告；能不弹出一定不能弹出；项目要写的小而Q；" class="headerlink" title="这几天想着自己的事情，大项目还是要尝试，小的东西也要搞起来，为了精细小功能，加些广告，广告这块要赶紧接触，磨合；什么时候有广告；会员去广告；能不弹出一定不能弹出；项目要写的小而Q；"></a>这几天想着自己的事情，大项目还是要尝试，小的东西也要搞起来，为了精细小功能，加些广告，广告这块要赶紧接触，磨合；什么时候有广告；会员去广告；能不弹出一定不能弹出；项目要写的小而Q；</h2><p>git PUSH、PULL 在ssh 都有情况下出现说没法处理，可以在terminal 校验ssh<code>cat ~/.ssh/id_rsa.pub</code>;</p>
<h2 id="然后在git中更换了ssh还是出现问题-，输入：sudo-killall-HUP-mDNSResponder-然后-git-pull-master-master、然后-git-remote-master-其中的-master-为要处理的HEAD"><a href="#然后在git中更换了ssh还是出现问题-，输入：sudo-killall-HUP-mDNSResponder-然后-git-pull-master-master、然后-git-remote-master-其中的-master-为要处理的HEAD" class="headerlink" title="然后在git中更换了ssh还是出现问题 ，输入：sudo killall -HUP mDNSResponder 然后 git pull master master、然后 git remote master ;其中的#master#为要处理的HEAD"></a>然后在git中更换了ssh还是出现问题 ，输入：<code>sudo killall -HUP mDNSResponder</code> 然后 <code>git pull master master</code>、然后 <code>git remote master</code> ;其中的#master#为要处理的HEAD</h2><p>Undefined symbols for architecture XXXX 昨天有个问题workspace 传到SVN ，然后之前能运行的，现在却pod 很多library找不到。做法是先clean 一次，然后将driveData 全删了。build一下还是不行的话，将pod所有文件全删了，然后重新pod 一份。就可以了。</p>
<p>cocoapods里Taobao源 改为HTTPS</p>
<p>Reveal 查看<br>导入Reveal.framework<br>在Link Library 删除Reveal.framework<br>在other link flag 中的DEBug一项中，加入:-ObjC、-lz、-framework、Reveal</p>
<hr>
<p>今天做视频的时候重写了滑动条，果然更熟练了，哈哈。<br>这里注意到了一个方法<code>- (void)seekToTime:(CMTime)time toleranceBefore:(CMTime)toleranceBefore toleranceAfter:(CMTime)toleranceAfter</code>这是用来节选视频的中间节点<br>同时测试的时候发现，手机在接下来的页面中都会比较卡，或者会发烫：原来在拍摄的时候，跳转页面，没有关掉视频拍摄；<br>返回去看我以前写的，果然，以前我也是没有关掉视频拍摄。终于找出来我的锅！！！</p>
<hr>
<p>在 Mac 上用 SourceTree 克隆 svn 的时候, 出现了 warning: templates not found /usr/local/Git/share/git-core/templates 警告,导致克隆失败. 怎么办呢.</p>
<p>在终端输入 </p>
<p>sudo mkdir /usr/local/git</p>
<p>sudo mkdir /usr/local/git/share</p>
<p>sudo mkdir /usr/local/git/share/git-core</p>
<p>sudo mkdir /usr/local/git/share/git-core/templates</p>
<p>sudo chmod -R 755 /usr/local/git/share/git-core/templates</p>
<p>前四条创建目录,最后一条给修改目录添加权限. 注意 sudo 创建目录需要输入当前 Mac 用户的密码</p>
<p>再重新克隆, 云消雨散.</p>
<hr>
<p>今天感受到了“火眼精金”那种感觉了：你们可以试试，把眼镜环着热水杯稍微放那么一小会。呵呵，棒棒哒：戴起来的时候眼镜暖暖的，就像火眼精金。哈哈</p>
<hr>
<p>什么是响应链，它是怎么工作的？<br>如何访问并修改一个类的私有属性？<br>iOS Extension 是什么？能列举几个常用的 Extension 么？<br>如何把一个包含自定义对象的数组序列化到磁盘？<br>Apple Pay 是什么？它的大概工作流程是怎样的？<br>iOS 的沙盒目录结构是怎样的？ App Bundle 里面都有什么？<br>iOS 的签名机制大概是怎样的？<br>iOS 7的多任务添加了哪两个新的 API? 各自的使用场景是什么？<br>Objective-C 的 class 是如何实现的？Selector 是如何被转化为 C 语言的函数调用的？<br>UIScrollView 大概是如何实现的，它是如何捕捉、响应手势的？<br>Objective-C 如何对已有的方法，添加自己的功能代码以实现类似记录日志这样的功能？<br>+load 和 +initialize 的区别是什么？<br>如何让 Category 支持属性？<br>NSOperation 相比于 GCD 有哪些优势？<br>strong / weak / unsafe_unretained 的区别？<br>如何为 Class 定义一个对外只读对内可读写的属性?<br>Objective-C 中，meta-class 指的是什么？<br>UIView 和 CALayer 之间的关系？<br>+[UIView animateWithDuration:animations:completion:] 内部大概是如何实现的？<br>什么时候会发生「隐式动画」？<br>如何处理异步的网络请求？<br>frame 和 bounds 的区别是什么？<br>如何把一张大图缩小为1/4大小的缩略图？<br>一个 App 会处于哪些状态？<br>Push Notification 是如何工作的？<br>什么是 Runloop？<br>Toll-Free Bridging 是什么？什么情况下会使用？<br>当系统出现内存警告时会发生什么？<br>什么是 Protocol，Delegate 一般是怎么用的？<br>autorelease 对象在什么情况下会被释放？<br>UIWebView 有哪些性能问题？有没有可替代的方案。<br>为什么 NotificationCenter 要 removeObserver? 如何实现自动 remove?<br>当 TableView 的 Cell 改变时，如何让这些改变以动画的形式呈现？<br>什么是 Method Swizzle，什么情况下会使用？</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-05-1lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/05/01/2017-05-1lesson/">2017/05/1lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/05/01/2017-05-1lesson/" class="article-date">
	  <time datetime="2017-05-01T05:39:20.000Z" itemprop="datePublished">May 1, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017/4/12</p>
<p>这里记录一个关于自定义控件改不改放到window的问题。项目中有一个功能，将控件放到view上，当控件里面获得由delegate将控件的父级试图push到下一个页面，同时，下一个页面不出现该控件。<br>这时候如果控件是挂载keyWindow或者其他上，则会出问题了：push的时候，控件仍然存在。如果有这个需求，可以在计算高度上，给其加上一个property：containerFrameFixY用来适应其他页面中可以偏移的坐标优化。</p>
<blockquote>
<p>这是一个最好的时代，也是一个最坏的时代。谁能抓住这个时代的线索，就有机会突破。</p>
</blockquote>
<p>我们有数不尽的第三方库、数据库、图片、设计参考等等。基本都可以一个人几天就做一个东西。但是相同的，每个人都有机会，那么每个人的机会都是很大的，自己不努力一转眼就会跑到后面。现在要做的是，做小而精的东西，实现流量变现、流量入口观测、广告营收、产品推广、内容博人眼球！！！<br>现在的路有两条：</p>
<ol>
<li>继续研究多媒体，或者更多多媒体能力</li>
<li>将现今的能力优化，将所学获得额外回报</li>
<li>对，还有第三条：在[2]的基础上，在继续研究多媒体。</li>
</ol>
<p>我觉得最好方法，正是第三条。程序员也是人，没有好的生活保障是没办法将知识扩展深化，那么我现今的目标是在now：2017/04/18开始一个月搞定parse服务器、客户端、cloudCode、liveQuery、push、analysis、产品等 做出来，是的！！！</p>
<p>学习别人怎么做的，很简单的方法就是对着别人的东西抄一遍；再抄一遍；再再抄一遍；再再再抄一遍；知道抄出心得；再默写一遍，那么基本都有7、8层把握得到他人的精髓了。去年我这么做的，今年再加把劲获得更多的知识和经验！！！先获取事业上的知识，然后再继续深入研究多媒体能力。</p>
<p>这里提一点有意思的，这几天抄faceBook一个示例，他们在import 一些库的时候，会分类那些作用类，中间隔空格分开。有意思，跟我思路一样，我觉得，这是必须的，好认啊，宁愿多浪费一行空格行得到阅读代码的体验。</p>
<p>. Ctrl+Command+left/right 返回前一浏览页，进入之前前一浏览页<br>. Ctrl+Alt+left/right 将代码折起来</p>
<p>2017/04/18</p>
<p>记录一件事，事情是这样的：昨天晚上加班，下班晚，出门刚好看到老板。打招呼，问我最近适应否，答曰还行。我和老板都感慨”适应难度也是跟项目大小正比，我们产品精细，功能乍看不多，但一接触就知道确实很多，每个都是小而精的。”这时老板打开手机，随意打开几个界面，停留到一个界面：这是最近我开发的一个切面功能。他来来回回滑动那个功能，跟我说，你看这个飞机，飞的很好，还有云，背景，，还有你感觉，这里面的体验也是非常好的，来回切换，非常顺滑。我不动声色的感慨，能让用户觉得使用这个功能很开心，真是会让我这个开发者深受感动啊。开发者和老板之间的关系，我个人觉得工作是互赢的态势，不应该是疲劳驾驶般；但另一方面来讲，由于开发者、工作者需要获得工作资金的来源而和老板成了有主次关系的区别，这也正是为什么我觉得是时候搞一些#务副业#的事。今天回头想想一些事情经过，其实还是有可能老板知道我最近处理这方面功能，毕竟老板其实都是那么随随便便做出某些举动，然后乘机鼓励鼓励下属的行为，应该是吧。不过，最后一句，我很感动，能为他人服务是我的荣幸。我是服务者，至始至终都是大家的服务者，就为了大家的生活便利、开心，如果没有人愿意得到我的服务，那我就是真的失败了。</p>
<p>今天写到正则，由于需要在判别字符里面的搜索，如：”#[卷卷公主的日常<em>打喷嚏]”，搜索这个字符，这时会出现特殊字符，使用”(%@)”输入字符，则成了”(#[卷卷公主的日常</em>打喷嚏])”,然而”#”、”[“、”]”都为特殊字符，这时要替换里面的字符，此处处理为replaceOccurredString:@”#” -&gt;@”\#”。</p>
<p><a href="http://stackoverflow.com/questions/11442101/ios-regex-unknown-escape-sequence" target="_blank" rel="noopener">http://stackoverflow.com/questions/11442101/ios-regex-unknown-escape-sequence</a> 这里有答案:</p>
<blockquote>
<p>You’re getting the warning because | is not a valid escape sequence in Objective-C (or C or C++ for that matter). The compiler is ignoring that and just using a raw | character instead, so the string you’re actually passing in is @”|(.<em>)|”.<br>To get the behavior you want, you have to escape the backslash in your source code so that the regex engine sees the literal backslash and interprets the | character as a literal instead of as alternation, e.g. @”\|(.</em>)\|”.</p>
</blockquote>
<p>最近想了些问题。怎么为他人服务，怎么让他人觉得我的服务到位。</p>
<p>来到粉粉平台，努力工作，实现自己的人生价值？是的，谁都有其位要去领悟，谁都有机会去得到自己的人生价值。<br>我一直要让自己成为一名真正的服务者，但是来到一个大家庭，成为一份子的同时，与大家共同加油为更多的人服务；和比如我开一个小餐馆，好好为每个顾客从进门的一开始就尽心尽力让他们感到家的体验，这两种是不一样的。有人选择与一个大家庭共进退，分享，共赢；有人会自己寻找一个天地；虽然都是为了“服务”他人而生，只是选择的路，身边的人不同，有自己的择决。</p>
<p>最近就有这些方面的择决。从小家庭出来的，底子薄，我的事业全是自己走，父母帮不上，那么我小心一点，先从大家庭增长经历，有历练了，那就是时候在共进退方案进化去带领前进，最后自己有直接为大家“服务”的机会。是的，在大家庭，是看不出汪洋大海，那一滴是你的心血。他人是不会说“哟，这个就是你的作品”的，只是匆匆而过，也许稍作停留，可是最终的视线还是远观大的方面。</p>
<blockquote>
<p>努力让大家看到你的影子吧，努力让大家看到自己的心血，而不是被淹没，被掩盖！</p>
</blockquote>
<ol>
<li><p>添加远程仓库:<code>git remote add remoteName url</code></p>
</li>
<li><p>获取或推送:</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// pull</span><br><span class="line">git pull remoteName branchName</span><br><span class="line">// push</span><br><span class="line">git push remoteName branchName</span><br></pre></td></tr></table></figure>
<p>评分标准</p>
<p>态度 10%:<br>考勤<br>主动性<br>自我管理<br>技能 30%:<br>技术能力<br>评估能力<br>执行 30%:<br>完成速度<br>完成质量<br>创新 20%:<br>新技术学习<br>重构能力<br>分享</p>
<p>iOS 初中高级技能推荐标准</p>
<p>初级：<br>2-3年工作经验<br>1 熟练使用Foundation CocoaTouch等基础UI框架，配合动画，开发各种常见界面；<br>2 熟练使用网络和图片库，理解同步异步原理，有图片前后处理意识；<br>3 熟练掌握数据持久化；<br>4 能开发自定义界面；<br>5 熟练使用常用第三方框架。<br>关键字：UIKit GCD UITableView AFNetwroking SDWebImage</p>
<p>中级：<br>3-4年工作经验<br>1 掌握面向对象设计，理解设计模式；<br>2 对常用组件使用有自己的理解；<br>3 了解流行的第三方框架原理，并有自己的封装库；<br>4 开发过自定义界面，能横向对比类似实现。<br>关键字：引入，封装，性能，界面库，网络库</p>
<p>高级<br>5年以上工作经验<br>1 熟练搭建项目，选择合适的框架，指导初中级开发；<br>2 具备需求分析、技术规划、项目管理能力，带领团队开发；<br>3 善于沟通，管理团队。</p>
<p>今天和同时旭哥搞版本合并，做法和以前完全不同，每次操作都是慎重处理，合并完那么就会很轻松，这种态度。<br>放一个链接<br><a href="http://blog.sina.com.cn/s/blog_68af3f090100rp5r.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_68af3f090100rp5r.html</a></p>
<ol>
<li>是这条命令先查看两个版本差异在哪里,然后打开 a.diff 文件<code>git diff --name-status --diff-filter=A 当前分支 需要合过来分支 &gt; a.diff</code></li>
<li>切换到主分支，然后使用下面语句，或者用#SourceTree#的合并版本到当前版本 <code>git merge 需要合过来分支</code></li>
<li>解决冲突</li>
<li>使用这条命令<code>pod install --verbose --no-repo-update</code>更新那些pod需要更新的文件</li>
<li>解决冲突之后不要立马commit到本地，先运行一遍，然后将丢失的文件找回来，bug冲突，build不过原因解决掉。</li>
<li>coommit到本地</li>
</ol>
<p>project文件，使用‘当前’我们不熟悉片段的，比如在5.2中，当前“我的”指“5.2”，然后我很清楚合过来的是我做的代码，那么solving trouble using mine</p>
<p>其他类文件，查看<code>&lt;&lt;&lt;</code>、<code>===</code>、<code>&gt;&gt;&gt;</code>，然后将之解决掉</p>
<p>由于中途出现了错误，我commit了当前有冲突的代码，然后不知道怎么处理：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git stash                   //将还没push的文件保存至本地</span><br><span class="line">git reset --hard HEAD~1     //将版本commit情况回退到 HEAD~x x为回退第几个版本</span><br></pre></td></tr></table></figure>
<hr>
<p>上周做了次code review，是剖析了下我当时写天气时候代码的快慢和质量。<br>在完成天气那段代码，使用js方式分块将独立功能模块自己整合，由外部调用。</p>
<ol>
<li>然而外部调用的时候却没有好好管理好这个组织过程，组织过程交给了vc做，当时为了更快没有更好的做一个adapter。我这里设想：我有个天气管理器，他暴露出来需要require的dataSource，和option完成的dataSource，然后在vc提供好相应模块即可。然后天气管理器再产生reloadData方法重新设置内容物。</li>
<li>代码log，里面由于用到log，所以在有些没有识别价值的log在完成后应当去掉。</li>
<li>里面出现一些没有意义的变量名。不管如何，还是不要出现这种情况</li>
<li>在逻辑多、容易混淆，正确的注解将会很大有效的帮助理解。毕竟写这代码和将来某个人来改，将比重做还要难。</li>
<li>合理使用PM分区，此处给出一段:(下一段代码)</li>
<li>代码重复优化</li>
<li>硬编码，在不了解其硬编码在其中有什么意义，一定一定要做好注释</li>
<li>循环引用的问题，也许多改的一个问题将会提升APP使用体验。</li>
<li>当时开展活动的是旭哥。他提到的一点：破窗理论，我觉得很有道理，给自己的工作留点心。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - life cycle</span><br><span class="line">#pragma mark - private methods</span><br><span class="line">#pragma mark - event response</span><br><span class="line">#pragma mark - UITablViewDelegate</span><br><span class="line">#pragma mark - getters / setters</span><br></pre></td></tr></table></figure>
<p>最后总结一点，时间一定要把握好。之上的问题，很大原因也是跟时间不够，为了挤时间，在短时间内达到目的，赶紧转战其他问题。但是在力所能及的问题上，多累一些自己，可能会带来更好的结果吧。<br>这也是一个等效时间转换：自己时间节省了，机器就要多累一些；自己多花时间了，机器就更节省了。如何看待，就看这个功能在用户使用频率问题上多考究考究。毕竟作为人，一定要有所谋，有所舍弃吧。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-4-11Lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/11/2017-4-11Lesson/">2017/4/11Lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/04/11/2017-4-11Lesson/" class="article-date">
	  <time datetime="2017-04-11T14:10:44.000Z" itemprop="datePublished">April 11, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017/3/23<br>最近用黑苹果开发，稍稍适应了下黑苹果开发了。<br>首先黑苹果如果出现警告、QQ新消息什么的，屏幕会闪一下。这是因为系统要弹出音频警告声，但是没有音频驱动，所以就闪一下吧。查找了下，没有找到可以关掉那玩意的地方。</p>
<p>最近到粉粉这类公司之后可以感觉得到，这类公司今天都是拼了命了。今天要是不进步，估计要出问题，所以老板也是经常下来“打交道”，转一转了。是时机，也是机会，也是一手扑空等可能机会。完全看自己选择了。</p>
<p>今天用git在gitLab上签名，以前都是填密码什么的。然后一直连不上git，无法push，今早来，同事让我不要填密码、这个<code>Enter passphrase for key &#39;/Users/xxtstudio/.ssh/id_rsa&#39;:</code>出现也直接按enter就可以了。然后就OK了。一直按enter键哦。</p>
<p>并发数，并发机子；<br>查询语句优化；<br>数据量大小也会影响客户端获取数据速度；<br>带宽，影响不大；只说了大概用了5M；并发机子用了5个左右；其他基本都是小测试机子；</p>
<p>这里返回一下滤镜功能话题。<br>我以前的公司处理滤镜时候，是多使用了level色阶滤镜，这样可以很方便在里面添加5个参数，就能达到大部分需求。<br>昨晚公司博士看了些文章，跑过来提议说可以这样处理：使用GPUImageLookupFilter滤镜，先将图片按照某些好的效果在Photoshop里面调节好，然后将GPUImage的原滤镜的方格图在PS里面将之前的数值和step走一遍，这时候GPUImage的原方格图就变了模样。其实这时候就是可被使用的image了。然后在GPUImage里面使用lookup滤镜添加进去，然后就有一定的效果了。</p>
<p>这里记录一个解决动画不动的一个问题：<br>由于我做的几个动画，比如云从左至右，或者从右至左一个感觉，但是其又有多了一个属性，叫做autoReverse，自动往回走，此时我创建的6个云在被重利用的时候由于动画被autoReverse，所以动画还没有结束，但是记录的动画最长运行时间longestTime已经到了，却出现没有将可用的对象抽出来，所以导致我寻找可用对象时，出错了-》崩溃在for循环里的重复寻找对象当中，然后又被continue，重新寻找。</p>
<p>这两天接触网络层，先进入浅一点的地方学习。比如GET请求，一般都是静态数据，POST请求，都是动态数据，于是可以使用缓存方式在网络层中将GET请求缓存下来。当然，也有GET是需要实时更新的，于是将你的url+parameter中的parameter实时更新，在判别request.hash是否在缓存中存在时，就能知道GET在缓存中不存在，于是，其还是要去更新。这样子就做到，GET静态数据缓存其数据，要更换则将其hash变动。</p>
<p><a href="http://blog.csdn.net/sw_gegewu/article/details/51443478" target="_blank" rel="noopener">http://blog.csdn.net/sw_gegewu/article/details/51443478</a><br>UIPageControl是用来显示分页的，一般和scrollerView一起搭配使用，但是UIPageControl的内部属性很少，就仅仅下面的几个，<br>（1）numberOfPages； // 总共有多少页<br>（2）currentPage； // 当前页数<br>（3）hidesForSinglePage； // YES表示当页数只有一个的话就隐藏不显示<br>（4）pageIndicatorTintColor； // 所有页的颜色<br>（5）currentPageIndicatorTintColor； // 当前页的颜色</p>
<p>如果想要把当前页设置为镂空的，可能就不好办了，但是可以通过给起属性内部赋值，<br>// 设置内部的原点图片<br>[pageControl setValue:[UIImage imageNamed:@”“] forKeyPath:@”pageImage”];<br>[pageControl setValue:[UIImage imageNamed:@”“] forKeyPath:@”currentPageImage”];<br>这样的话就可以达到效果了。</p>
<p>占位文字颜色设置<br>self.textInputView.attributedPlaceholder = [[NSAttributedString alloc]initWithString:AppLocalString(@”设置日期”) attributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:@”#97858A” alpha:1]}];</p>
<p>此处记录一次纠结的崩溃问题：<br>我在改动之前的缓存策略的时候，由于有些在Build过程中和搜索过程中没有提示一定要更换的api，于是我没有给某几处function更换，某一处位置刚好是图片SDK位置。<br>原先要传进去的是BOOL指针，更换方案使用NSTimeInterVal的指针。<br>两者内存地址空间大小就不一样，于是出现了使用的内存不够，引发了崩溃。此种崩溃在DEBUG环境，竟然没有反应，只有真机Release环境下才会崩溃，头疼的地方来了，需要真机Release测试时，Entitlements的识别文件不是我这个机子。如果我要重新制作Entitlements文件，不知道是否会影响项目某些操作，作罢；<br>看Bugly输出？我这里没有账号查看，另一个同事帮忙看了下，没有发出来，暂时作罢；<br>我手头还有某一个功能急于完成，连续加班两天无果；而且其崩溃位置在其他类似位置有同样表现；我对该APP之前功能没有认知，以为其之前便有存在，想让其延后；<br>等等原因致使这个bug存在几个时日。最后是一个同事配合Bugly将许多行log打在不同位置，看走到哪里，慢慢定位出问题。</p>
<blockquote>
<p>总结一下，这个问题是我的锅，也可以不是我的锅，但是我要注意类似的事情再发生。是我的锅，原因在于一系列的原因，加之任务比较重，UI时时改动，功能不明确带来预期时间的延长而使得没有更多时间注重于效能上。<br>不是我的锅在于：之上也说了效能和时间成正比，急于加之诸般成果，必失之他项。无法看到log，等于找到问题能力全部失去：盲人无法行走，除非有个类似于log的拐杖的帮助。<br>我还是要继续稳中求果，切勿操之过急，不过一切基于时间。</p>
</blockquote>
<p>记录一个BUG，使用CoreGraphics裁剪Image，却会将Image变大。这个问题还没有认知，之后查出来会记录一下。</p>
<p>今天花时间阅读了下objc的runtime，理解了以前没能凑在一起看的知识点。网址：<a href="http://www.cocoachina.com/ios/20170301/18804.html" target="_blank" rel="noopener">http://www.cocoachina.com/ios/20170301/18804.html</a></p>
<ol>
<li>获取类名</li>
<li>获取成员变量</li>
<li>获取成员属性</li>
<li>获取类的实例方法</li>
<li>获取协议列表</li>
<li>动态添加方法实现</li>
<li>方法实现交换</li>
<li>属性关联（动态添加相应的属性），完成在一个类中动态添加方法，同时生成set、get方法</li>
<li>消息处理与消息转发，这一块粗略的看了下，没有深入了解。。。当做看过一下。</li>
</ol>
<p>看完这篇，再看这篇<a href="http://www.cocoachina.com/ios/20170228/18798.html，收益匪浅啊" target="_blank" rel="noopener">http://www.cocoachina.com/ios/20170228/18798.html，收益匪浅啊</a></p>
<p>最近查资料老是觉得这个网站：“xxxxx - 红黑联盟”经常能查到的都是挺不错的别人记录过得文章。简洁易懂类型。<br>再来看我今天想要查找的一个关于UDID和UUID的获取，网址：<a href="http://www.2cto.com/kf/201605/513333.html" target="_blank" rel="noopener">http://www.2cto.com/kf/201605/513333.html</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">UDID，iOS 5以前使用：[[UIDevice cuurrent] uniqueIdenfier] 现在不可能了。现在使用</span><br><span class="line"></span><br><span class="line">NSUUID *uuid = [UIDevice currentDevice].identifierForVendor;</span><br><span class="line">NSLog(@&quot;uuid 1 = %@&quot;,uuid.UUIDString);</span><br><span class="line"></span><br><span class="line">UUID,NSString *uuid = [NSUUID UUID].UUIDString;</span><br></pre></td></tr></table></figure></p>
<p>这里记录一个bug，我做的一个HUD，继承与UIView。我选择了用keyWindow作为父布局，然后在某些情况下会出现弹出来，又诡异的消失了，牛逼；然后我给他改成windows[0]：第0个，这个时候还会出现第三方库SVProgressHUD和我的HUD一起弹出来，这时会出现window在那，然后全屏点不了了。没办法，使用最后一个招吧，使用APPDelegate的window作为底部试图，这样终于解决了。</p>
<p>记录git问题。每次打开project，git都会记录，但是这不是我们想要的，我们只想给我们改过的代码进行commit，其他不需要。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /xxxProject</span><br><span class="line">vim .gitignore</span><br></pre></td></tr></table></figure></p>
<p>然后输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">build/*</span><br><span class="line">*/build/*</span><br><span class="line">*.pbxuser</span><br><span class="line">!default.pbxuser</span><br><span class="line">*.mode1v3</span><br><span class="line">!default.mode1v3</span><br><span class="line">*.mode2v3</span><br><span class="line">!default.mode2v3</span><br><span class="line">*.perspectivev3</span><br><span class="line">!default.perspectivev3</span><br><span class="line">xcuserdata</span><br><span class="line">profile</span><br><span class="line">*.moved-aside</span><br><span class="line">DerivedData</span><br><span class="line">.idea/</span><br><span class="line">*.hmap</span><br><span class="line">DS_Store</span><br><span class="line"></span><br><span class="line">#CocoaPods</span><br><span class="line">Pods</span><br><span class="line">Podfile.lock</span><br><span class="line">build*</span><br><span class="line">pics*</span><br></pre></td></tr></table></figure></p>
<p>这时还没生效，要么全部quit掉，要么clean cache：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">改动过.gitignore文件之后，在repo的根目录下运行：</span><br><span class="line">git rm -r --cached .</span><br><span class="line">git add .</span><br><span class="line">之后可以进行提交：</span><br><span class="line">git commit -m &quot;fixed untracked files&quot;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-3-18lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/03/19/2017-3-18lesson/">2017/3/18lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/03/19/2017-3-18lesson/" class="article-date">
	  <time datetime="2017-03-19T15:55:33.000Z" itemprop="datePublished">March 19, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>2017/3/15<br>CoreData的坑<br>说不清，妈的<br>首先是NSOrderSet和NSSet的区别<br>对于One To One和One To Many</p>
<p>中午的时候看了下JavaScriptCore，对RN以前的对语言转换，混合工作有了一些了解。<br>比如JSValue、JSVirtualMachine、JSContext、JSExport等作用。<br>Native和JS语句调用交互过程、调用、传值，回传等工作过程等。<br>看的地址<a href="https://my.oschina.net/u/2340880/blog/856321" target="_blank" rel="noopener">JSCrotCore博客</a><br>有点意思，关键是能做出的效果很令我感叹。</p>
<p>有空的时候测试了下另外两个东西：FBNotification、ZipArchive</p>
<ol>
<li>ZipArChive比较适用于内容稍微大点的内容物，不然小体积下，似乎压缩效果没有很大差异</li>
<li>FBNotification这个有个很厉害的地方，弹出的动作、画面都是可控的，屌爆了，非常喜欢。我对于本地发送localNotification发送没去尝试过，有这个轮子，还是不去整那些东西。</li>
</ol>
<p>今天给xcode加一个插件，<a href="https://blog.cnbluebox.com/blog/2015/03/05/chisel/" target="_blank" rel="noopener">Chisel</a><br>但是发生了Homebrew-&gt;<br><code>Error: Running Homebrew as root is extremely dangerous and no longer supported.
As Homebrew does not drop privileges on installation you would be giving all
build scripts full access to your system.</code><br>这个没想到要怎么操作，好吧，加个<strong>sudo</strong>估计会好吧，没想到还是不行。<br>百度查了下找到这个网址：<a href="https://segmentfault.com/q/1010000007575129?_ea=1389173" target="_blank" rel="noopener">https://segmentfault.com/q/1010000007575129?_ea=1389173</a></p>
<p>terminal 里面</p>
<p>sudo chown -R $(whoami) /usr/local<br>把/use/local的owner換成自己，就有write權限了</p>
<p>whoami就是一個命令，會echo當前登錄用戶的名字。當然你知道自己的用戶名，比如jack,就直接</p>
<p>sudo chown -R jack /usr/local<br>也可以</p>
<p>修改過權限之後，就直接跑</p>
<p>brew install node<br>不需要再用sudo，因為當前用戶已經有權限寫入/usr/local了或者你用</p>
<p>ls -ld /usr/local<br>確認一下這個目錄的owner是否已改到自己</p>
<p>Chisel好东西好东西，给力</p>
<p>来工作的这么一段时间，接触SourceTree，确实感觉很是强大。版本回滚，合并，文件差异等都是很实用。今天碰到，将一个Branch合进我的版本，然后，我有一个文件和xib都被遗失了。搞了很久，版本我也找不到是哪一个，最后我点击右上角的文件差异化对比，然后将文件给拷贝出来，要不是这一个操作，我估计以后我在合版本，我一定不会再相信电脑了。</p>
<p>今天很好奇的一个地方：Curl<br>还没看清Curl的操作方式，我先去看了篇<a href="http://www.jianshu.com/p/23cccb3a90b1文章读一读REST" target="_blank" rel="noopener">http://www.jianshu.com/p/23cccb3a90b1文章读一读REST</a> API的架构设计。<br>前面品味不出什么思想，一直到作者的一些感想上面，有点理解REST API设计思路。</p>
<ol>
<li>API请求中应该加入API版本号，比如在URL中加入版本号：<a href="https://api.example.com/v1/，这样API升级就可以将api版本也升级了。" target="_blank" rel="noopener">https://api.example.com/v1/，这样API升级就可以将api版本也升级了。</a></li>
<li>API返回的数据量问题。数据量大的话，估计是得在某些页面数据很大，或者文件传输等，不过视频、图片等估计不能在此列了。</li>
<li>性能方面我也是赞同的，不过我是前段方面，那么不能做的事，就是不能设计出一些使用猥琐方式暂时完成的功能和逻辑，尽量避免这种错误。</li>
<li>安全性和用户认证。这一块对于前段来说也是相当重要的。这里其就推荐使用Keychain的方式还有第三方Access Key之类尽可能使其为在启动的时候动态请求。估计这块得用HTTPS加密，然后每几天去更换才能处理好吧。</li>
</ol>
<p>OK，想到这里，还是没想明白Curl怎么使用，改天有机会用到的时候才会懂吧。</p>
<p>### 缓存策略<br>今天刚好做到公司要求的一个问题：缓存策略。<br>要求是将其之前有做的缓存方案，改成带有时间判别的方案，那么如果时间线以内，便不让其再次请求；如果用户手动刷新的话，那就不用去考虑了。</p>
<p>我自己倒是似懂非懂，直接在其基础上，变换成比较麻烦的方案：<br><img src="http://7xjcms.com1.z0.glb.clouddn.com/2017:3:18.png" alt="未更改保存方案"><br><img src="http://7xjcms.com1.z0.glb.clouddn.com/2017:3:18:getSave.png" alt="未更改获取、外部保存方案"><br>在这个基础上，需要更简易处理，稳定。<br>我觉得要增加一个date，那就说保存的Array外面再包一层Diction吧，增加一个字段：Date<br>诺，就变成了这个不理想的样子：<br><img src="http://7xjcms.com1.z0.glb.clouddn.com/2017:3:18:mine:getFunc.png" alt="更改保存方案"><br><img src="http://7xjcms.com1.z0.glb.clouddn.com/2017:3:18:mine:save.png" alt="更改保存方案"><br>这里的区别主要就是这种改动范围很大，而且把原有的全都换了一遍。虽说我的做法也能满足需求，但姜确实是老的辣，没能更好的解决这个问题。只能说，他们之前把方案讨论好了，我突然插进来的，搞的时候还是迷迷糊糊的，肯定没把所有方案走一遍，没找到最好的，嘿嘿。<br>这里处理是给保存时的方法替换一下，变成传入参数增加一个指针，返回的时候就靠着这个保存了文件本身的信息，保存信息等，作为判别当前时长是否超过1小时。<br>这个方案确实不错。</p>
<p>记录一个犯的错误。<br>使用Masonry和自动计算行高的Third Part，我将UI贴在了TableViewCell上，而不是TableViewCellWraperView上—&gt;[self addSubview:xx];始终出现控件不如我所想，我觉得不会呀，不可能错呀。<br>过了2天，我突然想起来，TableViewCell是没有自动布局能力的，要写成—&gt;[self.contentView addSubview:xx];</p>
<p>周六中午得时候自己写了个自我感觉非常良好的主题管理器，基本功能都能达到啦，哈哈，那一刻非常开心。非常开森。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2017-3-13lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/03/13/2017-3-13lesson/">2017/3/13lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/03/13/2017-3-13lesson/" class="article-date">
	  <time datetime="2017-03-13T12:45:24.000Z" itemprop="datePublished">March 13, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">//创建标准的变换矩阵</span><br><span class="line">CGAffineTransform CGAffineTransformIdentity;</span><br><span class="line">//手动创建变换矩阵</span><br><span class="line">CGAffineTransform CGAffineTransformMake(CGFloat a, CGFloat b, CGFloat c, CGFloat d, CGFloat tx, CGFloat ty);</span><br><span class="line">//创建平移变换</span><br><span class="line">CGAffineTransform CGAffineTransformMakeTranslation(CGFloat tx, CGFloat ty);</span><br><span class="line">//创建缩放变换</span><br><span class="line">CGAffineTransform CGAffineTransformMakeScale(CGFloat sx, CGFloat sy);</span><br><span class="line">//创建旋转变换</span><br><span class="line">CGAffineTransform CGAffineTransformMakeRotation(CGFloat angle);</span><br><span class="line">//判断某个变化是否是来自标准矩阵的变换</span><br><span class="line">bool CGAffineTransformIsIdentity(CGAffineTransform t);</span><br><span class="line">//对某个变换矩阵进行平移变换</span><br><span class="line">CGAffineTransform CGAffineTransformTranslate(CGAffineTransform t, CGFloat tx, CGFloat ty);</span><br><span class="line">//对某个变换矩阵进行缩放变换</span><br><span class="line">CGAffineTransform CGAffineTransformScale(CGAffineTransform t, CGFloat sx, CGFloat sy);</span><br><span class="line">//对某个变换矩阵进行旋转变换</span><br><span class="line">CGAffineTransform CGAffineTransformRotate(CGAffineTransform t, CGFloat angle);</span><br><span class="line">//对某个变换矩阵进行翻转变换</span><br><span class="line">CGAffineTransform CGAffineTransformInvert(CGAffineTransform t);</span><br><span class="line">//对两个变换矩阵进行计算</span><br><span class="line">CGAffineTransform CGAffineTransformConcat(CGAffineTransform t1, CGAffineTransform t2);</span><br><span class="line">//比较两个变换矩阵是否相同</span><br><span class="line">bool CGAffineTransformEqualToTransform(CGAffineTransform t1, CGAffineTransform t2);</span><br><span class="line">//获取应用变换后某点的坐标</span><br><span class="line">CGPoint CGPointApplyAffineTransform(CGPoint point, CGAffineTransform t);</span><br><span class="line">//获取应用变换后某个区域的尺寸</span><br><span class="line">CGSize CGSizeApplyAffineTransform(CGSize size, CGAffineTransform t);</span><br><span class="line">//获取应用变换后某个区域的位置和尺寸</span><br><span class="line">CGRect CGRectApplyAffineTransform(CGRect rect, CGAffineTransform t);</span><br></pre></td></tr></table></figure>
<p>记录一下矩阵变换含义</p>
<p>昨天做了下图片PhotoKit取图片，使用PHImageManager 同步获取200*200某张图片直接在cellForItem里面，性能还是不错的。估计得判断GIF，只能在用户点击之后，才能使用方法验证其属性。继续往下做吧。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">2xx  成功  </span><br><span class="line">200  正常；请求已完成。  </span><br><span class="line">201  正常；紧接 POST 命令。  </span><br><span class="line">202  正常；已接受用于处理，但处理尚未完成。  </span><br><span class="line">203  正常；部分信息 — 返回的信息只是一部分。  </span><br><span class="line">204  正常；无响应 — 已接收请求，但不存在要回送的信息。  </span><br><span class="line">3xx  重定向  </span><br><span class="line">301  已移动 — 请求的数据具有新的位置且更改是永久的。  </span><br><span class="line">302  已找到 — 请求的数据临时具有不同 URI。  </span><br><span class="line">303  请参阅其它 — 可在另一 URI 下找到对请求的响应，且应使用 GET 方法检索此响应。  </span><br><span class="line">304  未修改 — 未按预期修改文档。  </span><br><span class="line">305  使用代理 — 必须通过位置字段中提供的代理来访问请求的资源。  </span><br><span class="line">306  未使用 — 不再使用；保留此代码以便将来使用。  </span><br><span class="line">4xx  客户机中出现的错误  </span><br><span class="line">400  错误请求 — 请求中有语法问题，或不能满足请求。  </span><br><span class="line">401  未授权 — 未授权客户机访问数据。  </span><br><span class="line">402  需要付款 — 表示计费系统已有效。  </span><br><span class="line">403  禁止 — 即使有授权也不需要访问。  </span><br><span class="line">404  找不到 — 服务器找不到给定的资源；文档不存在。  </span><br><span class="line">407  代理认证请求 — 客户机首先必须使用代理认证自身。  </span><br><span class="line">415  介质类型不受支持 — 服务器拒绝服务请求，因为不支持请求实体的格式。  </span><br><span class="line">5xx  服务器中出现的错误  </span><br><span class="line">500  内部错误 — 因为意外情况，服务器不能完成请求。  </span><br><span class="line">501  未执行 — 服务器不支持请求的工具。  </span><br><span class="line">502  错误网关 — 服务器接收到来自上游服务器的无效响应。  </span><br><span class="line">503  无法获得服务 — 由于临时过载或维护，服务器无法处理请求。</span><br></pre></td></tr></table></figure>
<p>遇到一个问题，就是字符里面出现\r\n、\r、\n、\t等特殊字符，做法是将其replace成\r\n、\r、\n、\t、，没有其他做法了，，特殊的是，\r\n需要最先被替换</p>
<p>//    一列数：-1,2,3,10,15,26…n，写一个方法计算第n个数的值</p>
<blockquote>
</blockquote>
<p>答案：<br>3-&gt;1<br>7-&gt;5<br>11-&gt;?<br>?应该是9<br>然后接下去是<br>隔下去数是加15</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">BOOL needDescount = NO;</span><br><span class="line">int increaseCount = 4;</span><br><span class="line">int totalNum = -1;</span><br><span class="line">while (true) &#123;</span><br><span class="line">if (needDescount) &#123;</span><br><span class="line">increaseCount -=2;</span><br><span class="line">needDescount = YES;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">increaseCount +=4;</span><br><span class="line">needDescount = NO;</span><br><span class="line">&#125;</span><br><span class="line">totalNum +=increaseCount;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IOS－－ UIView中的坐标转换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// 将像素point由point所在视图转换到目标视图view中，返回在目标视图view中的像素值</span><br><span class="line">- (CGPoint)convertPoint:(CGPoint)point toView:(UIView *)view;</span><br><span class="line">// 将像素point从view中转换到当前视图中，返回在当前视图中的像素值</span><br><span class="line">- (CGPoint)convertPoint:(CGPoint)point fromView:(UIView *)view;</span><br><span class="line"></span><br><span class="line">// 将rect由rect所在视图转换到目标视图view中，返回在目标视图view中的rect</span><br><span class="line">- (CGRect)convertRect:(CGRect)rect toView:(UIView *)view;</span><br><span class="line">// 将rect从view中转换到当前视图中，返回在当前视图中的rect</span><br><span class="line">- (CGRect)convertRect:(CGRect)rect fromView:(UIView *)view;</span><br><span class="line"></span><br><span class="line">例把UITableViewCell中的subview(btn)的frame转换到 controllerA中</span><br><span class="line"></span><br><span class="line">// controllerA 中有一个UITableView, UITableView里有多行UITableVieCell，cell上放有一个button</span><br><span class="line">// 在controllerA中实现:</span><br><span class="line">CGRect rc = [cell convertRect:cell.btn.frame toView:self.view];</span><br><span class="line">或</span><br><span class="line">CGRect rc = [self.view convertRect:cell.btn.frame fromView:cell];</span><br><span class="line">// 此rc为btn在controllerA中的rect</span><br><span class="line"></span><br><span class="line">或当已知btn时：</span><br><span class="line">CGRect rc = [btn.superview convertRect:btn.frame toView:self.view];</span><br><span class="line">或</span><br><span class="line">CGRect rc = [self.view convertRect:btn.frame fromView:btn.superview];</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/7/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/9/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div class="widget-wrap" style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 75%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 42px;" placeholder=" Search…" value name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Connect With Us</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
          
     			  <li><a href="https://github.com/shaohung001" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Google-plus"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Pinterest"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Flickr"><i class="fa fa-flickr" aria-hidden="true"></i></a></li> 
          
   		
          
            <li><a href="mailto:?subject=请联系我&body=我能帮你什么" title="email"><i class="fa fa-envelope" aria-hidden="true"></i></a></li> 
          
   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/11/29/2020-11-29lesson/">2020-11-29lesson</a></h6>
              <span>November 29, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/11/29/2020-10-31lesson/">2020-10-31lesson</a></h6>
              <span>November 29, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/11/29/2020-10-12lesson/">2020-10-12lesson</a></h6>
              <span>November 29, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/11/29/2020-9-24lesson/">2020-9-24lesson</a></h6>
              <span>November 29, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/11/29/2020-8-30lesson/">2020-8-30lesson</a></h6>
              <span>November 29, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/11/29/2020-8-29lesson/">2020-8-29lesson</a></h6>
              <span>November 29, 2020</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2020过年/">2020过年</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Charles-https-iTunes-下载历史版本/">Charles https iTunes 下载历史版本</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPUimage/">GPUimage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GTX750/">GTX750</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IT/">IT</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAC/">RAC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VVVVVV/">VVVVVV</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/acme/">acme</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awaitCall/">awaitCall</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bitbucket-ios/">bitbucket  ios</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocoapods/">cocoapods</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-golang/">docker golang</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/goland-mod-爆红/">goland mod 爆红</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hackintoshell/">hackintoshell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios-it-dylib-nosuchfileordirectory/">ios it dylib(nosuchfileordirectory)</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios7/">ios7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k3s/">k3s</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-http-flv-module/">nginx-http-flv-module</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/obs/">obs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/parallels/">parallels</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qiniu/">qiniu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reactivecocoa/">reactivecocoa</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/src-nginx-flv/">src nginx-flv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/srs/">srs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/买房资格/">买房资格</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小说/">小说</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/居住证积分/">居住证积分</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂谈/">杂谈</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/猴头菇生病/">猴头菇生病</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/看房/">看房</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/科目三/">科目三</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/脑残/">脑残</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/2020过年/" style="font-size: 10px;">2020过年</a> <a href="/tags/Charles-https-iTunes-下载历史版本/" style="font-size: 10px;">Charles https iTunes 下载历史版本</a> <a href="/tags/GPUimage/" style="font-size: 10px;">GPUimage</a> <a href="/tags/GTX750/" style="font-size: 10px;">GTX750</a> <a href="/tags/IT/" style="font-size: 15px;">IT</a> <a href="/tags/RAC/" style="font-size: 10px;">RAC</a> <a href="/tags/VVVVVV/" style="font-size: 20px;">VVVVVV</a> <a href="/tags/acme/" style="font-size: 10px;">acme</a> <a href="/tags/awaitCall/" style="font-size: 10px;">awaitCall</a> <a href="/tags/bitbucket-ios/" style="font-size: 10px;">bitbucket  ios</a> <a href="/tags/cocoapods/" style="font-size: 10px;">cocoapods</a> <a href="/tags/docker-golang/" style="font-size: 10px;">docker golang</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/goland-mod-爆红/" style="font-size: 10px;">goland mod 爆红</a> <a href="/tags/hackintoshell/" style="font-size: 10px;">hackintoshell</a> <a href="/tags/ios-it-dylib-nosuchfileordirectory/" style="font-size: 10px;">ios it dylib(nosuchfileordirectory)</a> <a href="/tags/ios7/" style="font-size: 10px;">ios7</a> <a href="/tags/k3s/" style="font-size: 10px;">k3s</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/nginx-http-flv-module/" style="font-size: 10px;">nginx-http-flv-module</a> <a href="/tags/obs/" style="font-size: 10px;">obs</a> <a href="/tags/parallels/" style="font-size: 10px;">parallels</a> <a href="/tags/qiniu/" style="font-size: 10px;">qiniu</a> <a href="/tags/reactivecocoa/" style="font-size: 10px;">reactivecocoa</a> <a href="/tags/src-nginx-flv/" style="font-size: 10px;">src nginx-flv</a> <a href="/tags/srs/" style="font-size: 10px;">srs</a> <a href="/tags/买房资格/" style="font-size: 10px;">买房资格</a> <a href="/tags/小说/" style="font-size: 10px;">小说</a> <a href="/tags/居住证积分/" style="font-size: 10px;">居住证积分</a> <a href="/tags/杂谈/" style="font-size: 10px;">杂谈</a> <a href="/tags/猴头菇生病/" style="font-size: 10px;">猴头菇生病</a> <a href="/tags/看房/" style="font-size: 10px;">看房</a> <a href="/tags/科目三/" style="font-size: 10px;">科目三</a> <a href="/tags/脑残/" style="font-size: 10px;">脑残</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">68</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2020 aKer All Rights Reserved.
          
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hiero" target="_blank">hiero</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1278024876&web_id=1278024876" language="JavaScript"></script>
  </div>



	<script async src="https://dnqof95d40fo6.cloudfront.net/atw7f8.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/src/click.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
