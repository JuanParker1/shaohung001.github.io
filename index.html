<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title>aKer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
    <meta name="google-site-verification" content="4ibqBFKTH9pzNJzZlbE3r1AaiwTFg4sNw9KZ5oQL9c4">
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="aKer">
<meta property="og:url" content="https://shaohung001.github.io/index.html">
<meta property="og:site_name" content="aKer">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="aKer">
  
    <link rel="alternate" href="/atom.xml" title="aKer" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  
    <link rel="stylesheet" href="/css/vdonate.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-7054334687711145",
          enable_page_level_ads: true
      });
  </script>
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/archives"] = "Archives"; 

  themeMenus["/categories"] = "Categories"; 

  themeMenus["/tags"] = "Tags"; 

  themeMenus["/about"] = "About"; 

</script>


  <body>


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="aKer" rel="home"> aKer </a>
            
          </h1>

          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/tags">Tags</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt src>
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "css/images/pose.jpg,https://source.unsplash.com/collection/954550/1920x1080".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">

      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-2021-7-5lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/07/06/2021-7-5lesson/">2021-7-5lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/07/06/2021-7-5lesson/" class="article-date">
	  <time datetime="2021-07-06T12:11:54.000Z" itemprop="datePublished">July 6, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h1><h2 id="纯虚继承多态的问题"><a href="#纯虚继承多态的问题" class="headerlink" title="纯虚继承多态的问题"></a>纯虚继承多态的问题</h2><p>创建 worker.h<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Worker</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">showInfo</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="built_in">string</span> <span class="title">getDeptName</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m_Id, m_DeptId;</span><br><span class="line">    <span class="built_in">string</span> m_Name;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>创建普通员工类Employee.h 和.cpp 其继承于Worker<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Employee.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"worker.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span>:</span> <span class="keyword">public</span> Worker &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Employee(<span class="keyword">int</span> id, <span class="built_in">string</span> name, <span class="keyword">int</span> dId);</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">showInfo</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="built_in">string</span> <span class="title">getDeptName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// Employee.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Employee.h"</span></span></span><br><span class="line">Employee::Employee(<span class="keyword">int</span> id, <span class="built_in">string</span> name, <span class="keyword">int</span> dId) &#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Id = id;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_DeptId = dId;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> Employee::showInfo() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"我是要展示的info"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">string</span> Employee::getDeptName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"职工"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>此时运行使用多态方案，比如其他继承Worker 的类也想使用同样方法，然后delete 会出现内存泄漏bug:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Worker *worker = <span class="literal">NULL</span>;</span><br><span class="line">    worker = <span class="keyword">new</span> Employee(<span class="number">1</span>, <span class="string">"aker"</span>, <span class="number">1</span>);</span><br><span class="line">    worker.showInfo();</span><br><span class="line">    <span class="keyword">delete</span> worker; <span class="comment">// 这里就会报内存泄漏</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>为什么？生成Employee地址空间，delete 自己的空间怎么会报错?</p>
<p>我们这样理解: Worker *worker，worker 是纯虚指针，指向纯虚单独保存的空间，这里只有Worker。<code>delete worker</code>，虽然是打算释放Employee，但是纯虚里面不包括Employee 其他数据指针。直接delete 就会造成无法释放余下那部分数据。</p>
<p>解决方法有两种<a href="https://blog.csdn.net/quicmous/article/details/100121382" target="_blank" rel="noopener">参考</a>:</p>
<ol>
<li>自己实现虚析构:</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span>:</span> <span class="keyword">public</span> Worker &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">virtual</span> ~Employee() &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样释放就能直接找到自己的析构。</p>
<ol start="2">
<li>提供自己的delete 方法，自己释放自己:</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Worker</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">delete</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span>:</span> <span class="keyword">public</span> Worker &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">void</span> Employee::release() &#123;</span><br><span class="line">    <span class="keyword">delete</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line">worker.release();</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c/">c++</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2021-7-6lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/07/06/2021-7-6lesson/">2021-7-6lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/07/06/2021-7-6lesson/" class="article-date">
	  <time datetime="2021-07-06T12:09:53.000Z" itemprop="datePublished">July 6, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="es"><a href="#es" class="headerlink" title="es"></a>es</h1><h2 id="es-使用curl"><a href="#es-使用curl" class="headerlink" title="es 使用curl"></a>es 使用curl</h2><pre><code>$ alias curles=&apos;curl  -u elastic:elasticpassword&apos;
$ curles -XPUT &quot;http://localhost:9200/movies/movie/1&quot; -d&apos;&apos;
$ curles -X POST &quot;http://172.16.60.162:9200/_analyze&quot; -d &apos;{&quot;analyzer&quot;:&quot;standard&quot;, &quot;text&quot;:&quot;Like X 国庆放假的&quot;}&apos; -H &quot;Content-Type: application/json&quot;
</code></pre><h2 id="为es-增加stopword-和词汇"><a href="#为es-增加stopword-和词汇" class="headerlink" title="为es 增加stopword 和词汇"></a>为es 增加stopword 和词汇</h2><h3 id="增加stopword-和词汇的操作"><a href="#增加stopword-和词汇的操作" class="headerlink" title="增加stopword 和词汇的操作"></a>增加stopword 和词汇的操作</h3><pre><code>$ docker cp ${dockerId}:/usr/share/elasticsearch/plugins/ik/config config
// 支持往custom/mydic.dic 写入对应合并关键词、custom/ext_stopword.dic
$ mkdir config/custom &amp;&amp; touch config/custom/mydict.dic &amp;&amp; touch config/custom/ext_stopword.dic
$ docker cp config ${dockerId}:/usr/share/elasticsearch/plugins/ik // 拷贝配置文件回elastic
$ docker restart ${dockerId} // 重启elastic
</code></pre><h3 id="↑支持的plugins语法"><a href="#↑支持的plugins语法" class="headerlink" title="↑支持的plugins语法"></a>↑支持的plugins语法</h3><p>语法如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">新案件</span><br><span class="line">不要</span><br><span class="line">不可</span><br></pre></td></tr></table></figure></p>
<h1 id="学习使用Neo4j"><a href="#学习使用Neo4j" class="headerlink" title="学习使用Neo4j"></a>学习使用Neo4j</h1><p>Neo4j 本身提供7474端口的及时UI操作服务。如: <a href="http://localhost:7474" target="_blank" rel="noopener">http://localhost:7474</a> 登录上即可。</p>
<p>这里以nodejs 链接代码:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> neo4j = <span class="built_in">require</span>(<span class="string">"neo4j-driver"</span>)</span><br><span class="line"><span class="keyword">let</span> session = <span class="literal">null</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">connect</span>(<span class="params">conf:&#123;url:<span class="built_in">string</span>, username:<span class="built_in">string</span>, password:<span class="built_in">string</span>&#125;</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> driver = neo4j.v1.driver(conf.url, neo4j.v1.auth.basic(conf.username, conf.password))</span><br><span class="line">    session = driver.session(neo4j.v1.session.WRITE)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">executeCypher</span>(<span class="params">data:&#123;cql:<span class="built_in">string</span>&#125;</span>) </span>&#123;</span><br><span class="line">    session.run(data.cql, data).subscribe(&#123;</span><br><span class="line">        onNext:<span class="function">(<span class="params">record</span>)=&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"[neo4j.onNext] record:"</span>, record)</span><br><span class="line">        &#125;,</span><br><span class="line">        onCompleted: <span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"[neo4j.onCompleted] ..."</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        onError: <span class="function">(<span class="params">err</span>)=&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"[neo4j.onError] err: "</span>, err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="cql语法"><a href="#cql语法" class="headerlink" title="cql语法"></a>cql语法</h2><h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><pre><code>$CREATE (m:Movie {title: &quot;The Matrix&quot;, released: 1990})
$CREATE (m:Movie {title: &quot;Apollo 13&quot;, released: 2000})
</code></pre><h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><pre><code>$match (m:Movie {title: &quot;The Matrix&quot;}) return m # match (m:Movie) where m.title = &quot;The Matrix&quot;
</code></pre><h3 id="创建边"><a href="#创建边" class="headerlink" title="创建边"></a>创建边</h3><pre><code>// m0-r-&gt;m1
$match (m0:Movie {title: &quot;The Matrix&quot;}) match (m1:Movie {title: &quot;Apollo 13&quot;}) \
create (m0)-[r:ACTED_IN]-&gt;(m1) return m0, r, m1 # 每次只能创建一个方向
// 在创建一个反向m0&lt;-r-m1
$match (m0:Movie {title: &quot;The Matrix&quot;}) match (m1:Movie {title: &quot;Apollo 13&quot;}) \
create (m0)&lt;-[r:ACTED_IN]-(m1) return m0, r, m1
</code></pre><h3 id="删除边、node"><a href="#删除边、node" class="headerlink" title="删除边、node"></a>删除边、node</h3><pre><code>$match (m0:Movie {title: &quot;The Matrix&quot;}) match (m1:Movie {title: &quot;Apollo 13&quot;}) \
optional match(m0)&lt;-[r0:ACTED_IN]-(m1) \
optional match(m0)-[r1:ACTED_IN]-&gt;(m1) \
DELETE r0, r1, m0 # 必须先删除所有边才可以删除node
</code></pre><h3 id="STARTS-WITH-ENDS-WITH-CONTAINS"><a href="#STARTS-WITH-ENDS-WITH-CONTAINS" class="headerlink" title="STARTS WITH / ENDS WITH / CONTAINS"></a>STARTS WITH / ENDS WITH / CONTAINS</h3><pre><code>$where a.name STARTS WITH &apos;Ake&apos;
$where a.name ENDS WITH &apos;ker&apos;
$where a.name CONTAINS &apos;ke&apos;
</code></pre><h3 id="EXISTS-属性检查"><a href="#EXISTS-属性检查" class="headerlink" title="EXISTS 属性检查"></a>EXISTS 属性检查</h3><pre><code>$match (m:Movie) where EXISTS(m.title)
</code></pre><h3 id="NOT-取反"><a href="#NOT-取反" class="headerlink" title="NOT 取反"></a>NOT 取反</h3><pre><code>$where NOT m.title ends with &quot;ker&quot;
</code></pre><h3 id="’regexp’-语法继承来自Java正则表达式"><a href="#’regexp’-语法继承来自Java正则表达式" class="headerlink" title="=~’regexp’ 语法继承来自Java正则表达式"></a>=~’regexp’ 语法继承来自Java正则表达式</h3><pre><code>$match (m:Movie) where m.title =~&apos;The Matr*&apos;
</code></pre><h3 id="i-非大小写敏感"><a href="#i-非大小写敏感" class="headerlink" title="(?i) 非大小写敏感"></a>(?i) 非大小写敏感</h3><pre><code>$where n.name =~(?i)TOM.*&apos; return n
</code></pre><h3 id="模式过滤"><a href="#模式过滤" class="headerlink" title="模式过滤"></a>模式过滤</h3><pre><code>$match (m0:Movie {title: &quot;The Matrix&quot;}), (m1:Movie) \
where (m0)-[r:ACTED_IN]-(m1) return m0, m1
相当于:
$match (m0:Movie {title: &quot;The Matrix})-[r:ACTED_IN]-(m1:Movie) return m0, m1
</code></pre><h3 id="关系类型过滤"><a href="#关系类型过滤" class="headerlink" title="关系类型过滤"></a>关系类型过滤</h3><pre><code>$match (n)-[r]-() where type(r)=~&apos;DIRE.*&apos; return n
</code></pre><h3 id="IN运算符"><a href="#IN运算符" class="headerlink" title="IN运算符"></a>IN运算符</h3><pre><code>$match (m:Movie) where m.title IN [&quot;The Matrix&quot;, &quot;Apollo 13&quot;, &quot;the matrix&quot;]
</code></pre><h3 id="OR-AND-IS-NULL-ORDER-BY"><a href="#OR-AND-IS-NULL-ORDER-BY" class="headerlink" title="OR/AND/IS NULL/ORDER BY"></a>OR/AND/IS NULL/ORDER BY</h3><pre><code>$match (m:Movie) where m.title = &quot;The Matrix&quot; OR m.title IS NULL return m ORDER BY m.title
</code></pre><h3 id="DISTINCT-返回结果去掉重名"><a href="#DISTINCT-返回结果去掉重名" class="headerlink" title="DISTINCT 返回结果去掉重名"></a>DISTINCT 返回结果去掉重名</h3><pre><code>$match (m:Movie) return DISTINCT m.title
</code></pre><h3 id="LIMIT-SKIP"><a href="#LIMIT-SKIP" class="headerlink" title="LIMIT / SKIP"></a>LIMIT / SKIP</h3><h3 id="FOREACH"><a href="#FOREACH" class="headerlink" title="FOREACH"></a>FOREACH</h3><pre><code>$match p=(m0:Movie {title: &quot;The Matrix&quot;})-[r:ACTED_IN]-(m1) FOREACH (n IN nodes(p) | set n.marked = true)
</code></pre><h3 id="SIZE"><a href="#SIZE" class="headerlink" title="SIZE"></a>SIZE</h3><pre><code>$match p=(m0:Movie)-[r:ACTED_IN]-(m1:Movie) where m0.title=&quot;The Matrix&quot; return m0, SIZE(nodes(p))
</code></pre><h3 id="COLLECT-将资源转为array"><a href="#COLLECT-将资源转为array" class="headerlink" title="COLLECT 将资源转为array"></a>COLLECT 将资源转为array</h3><h3 id="WITH-UNWIND"><a href="#WITH-UNWIND" class="headerlink" title="WITH / UNWIND"></a>WITH / UNWIND</h3><pre><code>$match (m:Movie) WITH COLLECT(m) as c UNWIND c as x return x
</code></pre><h3 id="MERGE-CREATE-区别在于已存在"><a href="#MERGE-CREATE-区别在于已存在" class="headerlink" title="MERGE / CREATE 区别在于已存在"></a>MERGE / CREATE 区别在于已存在</h3><pre><code>$create (m:Movie {Id: 10}) create (m:Movie {Id: 10}) # 此时有两个Id=10 的movie
$MERGE (m:Movie {Id: 20}) MERGE (m:Movie {Id: 20}) # 此时只会有一个Id=20 的movie
</code></pre><h3 id="UNION-合并"><a href="#UNION-合并" class="headerlink" title="UNION 合并"></a>UNION 合并</h3><pre><code>// foreach 设置属性
$match (cc:CreditCard) with collect(cc) as arr foreach(c in arr | set c.type = &quot;cc&quot;)
// 合并CreditCard 和DebitCard 数据
$match (cc:CreditCard) return cc.Id as Id, cc.name as name, cc.number as number order by cc.Id \
union \
match (dc:DebitCard) return dc.Id as Id, dc.name as name, dc.number as number order by dc.Id
</code></pre><p><a href="https://www.huaweicloud.com/articles/53b4cf274b3463273fd5b03d845163f9.html" target="_blank" rel="noopener">参考1</a><br><a href="https://blog.csdn.net/chengyuqiang/article/details/102563408" target="_blank" rel="noopener">merge参考</a><br><a href="https://www.w3cschool.cn/neo4j/neo4j_cql_union.html" target="_blank" rel="noopener">union参考</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/neo4j/">neo4j</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2021-6-16lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/06/16/2021-6-16lesson/">2021-6-16lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/06/16/2021-6-16lesson/" class="article-date">
	  <time datetime="2021-06-16T13:32:39.000Z" itemprop="datePublished">June 16, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="我的新目标cpp"><a href="#我的新目标cpp" class="headerlink" title="我的新目标cpp"></a>我的新目标cpp</h1><p>最近我的主要学习路线是C++. 我感到学go 之后还是有部分在web路上精疲力尽，我需要一个服务端的底层语言进行支撑。前年学go，去年写了两个gin 服务。本想今年年初好好深入学习，但是接手一个很大的平台服务，导致直到现在6.16号才终于稍稍缓和下来。</p>
<p>我痛定思痛想知道自己真的想要什么。我是想继续web开发，api调用大法还是写轮子，搞定底层的。公司C++招聘看了下简历，都是半年C++能培养；而且需求量还是很大。一直说C++越久越香。</p>
<p>我觉得C++估计能给我点答案；而go 当前让我感觉无法给我想要的那个答案。我知道那个答案，我只是想他自己能直接告诉我。</p>
<p>当时觉得go 也有指针，也有引用，跟我以前的OC很类似。于是花了好多时间认真学着。但是感觉杂乱不堪，最多只是让我用另一种语言写后台。还是没有建树。。</p>
<p>不是nodejs不行。而是nodejs 在最需要性能的时候，没人提供binding。一个大锤子加一个底层机械的组合。也许我自己可以给自己binding？所以我来了。</p>
<hr>
<p>今天刚好遇到个自己没理解清楚，问了个大佬突然明白的问题。</p>
<p>这样编译没有问题，但是执行时报错: pvalue被释放了! 代码:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heapAndStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">double</span>* pvalue = <span class="keyword">new</span> <span class="keyword">double</span>; <span class="comment">// pvalue 申请了堆空间</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">double</span> aa = <span class="number">29494.99</span>; <span class="comment">// aa申请了栈空间。</span></span><br><span class="line">  pvalue = &amp;aa; <span class="comment">// pvalue 获得了 aa 的地址(栈的地址) 此时可以认为pvalue 已经指向了栈，也就是*aa</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"Value of pvalue : "</span> &lt;&lt; *pvalue &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> pvalue; <span class="comment">// 这时释放栈则报错: 栈是自动内存回收的；指针才可以delete</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2021-6-11lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/06/16/2021-6-11lesson/">2021-6-11lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/06/16/2021-6-11lesson/" class="article-date">
	  <time datetime="2021-06-16T13:31:57.000Z" itemprop="datePublished">June 16, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="房子买后感"><a href="#房子买后感" class="headerlink" title="房子买后感"></a>房子买后感</h1><p>搬过来一周，工作日都是回来就直接躺下。里面有很多东西都要维修，很多东西要丢要收拾都忙没时间搞，先不管，房间里面也有点脏。老婆每天晚上就早早回家收拾，不知疲倦，我说三分钟热度猴，你别太累哦。别到时说哎呀好累啊，受不了啦。隔天老婆立马就躺床上不动，瞬间降温。</p>
<p>其实也是怕老婆太累，周末搬家真的是来来回回的上下楼梯。腿都廋了。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2021-6-10lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/06/16/2021-6-10lesson/">2021-6-10lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/06/16/2021-6-10lesson/" class="article-date">
	  <time datetime="2021-06-16T13:31:23.000Z" itemprop="datePublished">June 16, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="网迹【权限优化】"><a href="#网迹【权限优化】" class="headerlink" title="网迹【权限优化】"></a>网迹【权限优化】</h1><p>各服务目前都有基于用户权限来限制接口的使用的功能。比如系统管理员处理系统的事务；厨师进厨房拿刀切菜烧菜；律师进事务所处理案件等。</p>
<h1 id="当前网迹权限长这样"><a href="#当前网迹权限长这样" class="headerlink" title="当前网迹权限长这样"></a>当前网迹权限长这样</h1><p>…</p>
<h1 id="普及下权限"><a href="#普及下权限" class="headerlink" title="普及下权限"></a>普及下权限</h1><p>比如user(普通用户)、superman(超人)等角色，我们用以下模型来表示:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  code: "user",</span><br><span class="line">  name: "普通用户",</span><br><span class="line">  permissions: ["mod_collect"]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  code: "onlyEditor",</span><br><span class="line">  name: "上传者",</span><br><span class="line">  permissions: ["mod_collect", "mod_sysUser_edit", "mod_sysUser_del"]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  code: "superman",</span><br><span class="line">  name: "超人",</span><br><span class="line">  permissions: ["mod_collect", "mod_sysUser", "mod_sysUser_edit", "mod_sysUser_del", "mod_sysRole"] // 没有采集修改权限</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对应接口如:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: "/collect",</span><br><span class="line">  method: "GET",</span><br><span class="line">  permission: "mod_collect"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这时很简单的方案就是直接判别数组内是否有该权限，有当然就能使用该接口啦。</p>
<p>但是此时会发现一个问题，数组查找字符串，其实是一个很耗时的操作。数组<code>[&quot;mod_collect&quot;, &quot;mod_collect_edit&quot;].include(&quot;mod_collect&quot;)</code> 会先for 循环查找第一个字符串(mod_collect)，第一个字符串对比从第一个字符开始一个个比对。</p>
<p>你会说，那也很快啊，CPU买买买，快快快。</p>
<p>有这想法的人得自己深思了，这里的判别是作用在所有中间件，当然是尽可能快，能提高用户使用、设备使用。大多在中间件出现的数据，一定要尽可能的缓存或者优化。</p>
<p>OK，那怎么解？我们都知道字符串判别是一个一个字符比较O(n)，如果是数字判别，则是类似于O(1)的时间复杂度。我们将现有的所有permission都转化为一个数字: Bitmap. 比如: <code>mod_collect: 1 &lt;&lt; 2 = 4; mod_collect_edit: 1 &lt;&lt; 3 = 8; mod_sysUser: 1 &lt;&lt; 4 = 16; mod_sysUser_edit: 1 &lt;&lt; 5 = 32; mod_sysUser_del: 1 &lt;&lt; 6 = 64; mod_sysRole: 1 &lt;&lt; 7 = 128; ...</code></p>
<p>以上得到关联: user 有一个权限: [4]; onlyEditor有三个权限, 我们使用 <code>|</code>运算符给他串起来: <code>8 | 32 | 64 = 104</code>, 我们这时可以说 user用户的权限是4, onlyEditor用户的权限是104, superman超人的权限是244.</p>
<p>我们将上述的数据量不大，基本不怎么变动的数据都内存缓存下来:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">roles: &#123;</span><br><span class="line">  "mod_collect": 4,</span><br><span class="line">  "mod_colelct_edit": 8,</span><br><span class="line">  "mod_sysUser": 16,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line">permissions: &#123;</span><br><span class="line">  "user": 4,</span><br><span class="line">  "onlyEditor": 104,</span><br><span class="line">  "superman": 244</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>此时如果接口进入中间件:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假装我是中间件内部判别权限</span></span><br><span class="line"><span class="keyword">const</span> curRoutePermission = <span class="string">"mod_collect_edit"</span> <span class="comment">// 当前接口必须的权限</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPermission</span>(<span class="params">role:<span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> tPerm = permissions[role]</span><br><span class="line">  <span class="keyword">const</span> curRole = roles[curRoutePermission]</span><br><span class="line">  <span class="keyword">return</span> tPerm &amp; curRole <span class="comment">// `与`符能得到交集 -&gt; 这个用户是否有该接口的权限</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果是user判别需要<code>&quot;mod_collect_edit&quot;</code>接口 =&gt; 4 &amp; 8 = 0; onlyEditor =&gt; 104 &amp; 8 = 8, 说明是有权限的!</p>
<blockquote>
<p>使用位运算<code>&amp;</code>比较，如果 &gt; 0 则表明这是有权限的。</p>
</blockquote>
<p>以上是权限基础普及，下面开始进入权限升级部分: ↓↓↓</p>
<h2 id="设计思路"><a href="#设计思路" class="headerlink" title="设计思路"></a>设计思路</h2><h3 id="设定数据范围、权限及访问路由"><a href="#设定数据范围、权限及访问路由" class="headerlink" title="设定数据范围、权限及访问路由"></a>设定数据范围、权限及访问路由</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">enum DataScope &#123;</span><br><span class="line">  All = <span class="number">1</span>, <span class="comment">// 全局</span></span><br><span class="line">  ThisWithSubordinate = <span class="number">2</span>, <span class="comment">// 本单位及下属单位</span></span><br><span class="line">  This, <span class="comment">// 仅本单位</span></span><br><span class="line">  self <span class="comment">// 本人</span></span><br><span class="line">&#125;</span><br><span class="line">enum UrlMap &#123;</span><br><span class="line">  browseCollection = <span class="string">"/browse/collection"</span>, <span class="comment">// 采集管理</span></span><br><span class="line">  sysUser = <span class="string">"/sys/user"</span>,</span><br><span class="line">  sysRole = <span class="string">"/sys/role"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> Urls = [</span><br><span class="line">  UrlMap.browseCollection,</span><br><span class="line">  UrlMap.sysUser,</span><br><span class="line">  UrlMap.sysRole</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> roleSchema = &#123;</span><br><span class="line">  name: <span class="built_in">String</span>, <span class="comment">// 用于记录角色名称，比如 `超人`</span></span><br><span class="line">  code: &#123;<span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">unique</span>: <span class="literal">true</span>&#125;, <span class="comment">// 用于声明角色编码，如superman/user/u001等代号</span></span><br><span class="line">  permissions: [&#123;<span class="attr">type</span>: <span class="built_in">String</span>&#125;], <span class="comment">// 该角色拥有的权限数组</span></span><br><span class="line">  urls: [&#123;<span class="attr">type</span>: <span class="built_in">String</span>&#125;], <span class="comment">// 该角色展示的页面数组</span></span><br><span class="line">  dataScope: &#123;<span class="attr">type</span>: <span class="built_in">Number</span>, <span class="attr">enum</span>: DataScope&#125;, <span class="comment">// 数据范围声明</span></span><br><span class="line">  remark: <span class="built_in">String</span> <span class="comment">// 加个简介好记忆?</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>角色表包含有数据权限dataScope，页面列表urls，权限列表permissions。</p>
<p>数据范围定义数据获取等级。侧重点是支持中间件将该用户的数据权限，写到用户数据中:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将已构建的角色对应结构保存在内存中</span></span><br><span class="line">staticbuildInRoleMaps:IBuildInRoleMap</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">async</span> dataScopeMiddleware(req:Request, <span class="attr">res</span>:Response, <span class="attr">next</span>:NextFunction) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!req.hasPermission(<span class="string">"admin"</span>)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!req.user.departmentNo) <span class="keyword">return</span> res.status(<span class="number">403</span>).send(<span class="string">"您没有设置组织机构"</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    req.user.dataScope = DataScope.All</span><br><span class="line">    <span class="keyword">return</span> next()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> requserRole = Utils.getUserFirstRole(req.user)</span><br><span class="line">  <span class="keyword">if</span> (!_.includes([<span class="string">"anon"</span>], requserRole)) &#123;</span><br><span class="line">    <span class="keyword">const</span> theRole = Role.buildInRoleMaps[requserRole]</span><br><span class="line">    <span class="keyword">if</span> (!theRole) <span class="keyword">return</span> next(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"权限获取出错，请联系管理员"</span>))</span><br><span class="line">    req.user.dataScope = theRole.dataScope</span><br><span class="line">  &#125;</span><br><span class="line">  next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>将改变不大的数据存在内存中，可以很快速的进行获取数据。</p>
</blockquote>
<h3 id="数据范围设定-根据业务划分不同的接口"><a href="#数据范围设定-根据业务划分不同的接口" class="headerlink" title="数据范围设定(根据业务划分不同的接口)"></a>数据范围设定(根据业务划分不同的接口)</h3><p>下面是我所使用的获取数据过滤方式之一:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> dataScopeForCollect(user:&#123;<span class="attr">dataScope</span>:DataScope, <span class="attr">departmentNo</span>:string, <span class="attr">policeNo</span>:string&#125;) &#123;</span><br><span class="line">  <span class="keyword">let</span> cond:&#123;departmentNo?:string, code?:<span class="built_in">RegExp</span>, policeNo?:string&#125; = &#123;&#125;</span><br><span class="line">  <span class="keyword">if</span> (!_.isNumber(user.dataScope)) <span class="keyword">return</span> cond</span><br><span class="line">  <span class="keyword">if</span> (user.dataScope === DataScope.All) <span class="keyword">return</span> cond</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (user.dataScope === DataScope.ThisWithSubordinate) &#123;</span><br><span class="line">    cond.code = Utils.orgReg(user.departmentNo)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (user.dataScope === DataScope.This) &#123;</span><br><span class="line">    cond.departmentNo = user.departmentNo</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (user.dataScope === DataScope.self) &#123;</span><br><span class="line">    cond.policeNo = user.policeNo</span><br><span class="line">    <span class="keyword">if</span> (user.departmentNo) cond.departmentNo = user.departmentNo</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cond</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>于是我很快就能知道对应的获取数据方案。</p>
<h3 id="限制页面路由"><a href="#限制页面路由" class="headerlink" title="限制页面路由"></a>限制页面路由</h3><p>这方面由李豪同学来交流下。当初也是李豪同学提出来，我保存好，由他来约束这块的逻辑。点赞。</p>
<h3 id="接口权限的组合"><a href="#接口权限的组合" class="headerlink" title="接口权限的组合"></a>接口权限的组合</h3><p>这块复用第一章节的逻辑。第一章节将静态的数据，在这里转化为可调节配置的权限组合。</p>
<h2 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h2><p>Number 类型是32位的。使用Number 进行位运算，当角色超过32位时， <code>1 &lt;&lt; 32 = 0</code>.</p>
<p>使用BigInt 可能突破这个限制: <code>BigInt(1) &lt;&lt; BigInt(x)</code>.当使用BigInt 作为json 传输时需要<code>将其转为字符串</code>，在Chrome67之后版本支持BigInt 类型。前段收到对应角色编码，将其转化为BigInt:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ BigInt(<span class="string">"17179869185"</span>)</span><br><span class="line">$ <span class="number">17179869185</span>n</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2021-5-31lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/05/31/2021-5-31lesson/">2021-5-31lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/05/31/2021-5-31lesson/" class="article-date">
	  <time datetime="2021-05-31T02:13:57.000Z" itemprop="datePublished">May 31, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>这段时间超级超级忙碌。</p>
<p>首先是网迹市局需求和之前要改的徐汇权限优化，一开始设计是单接口权限优化，在后面完善功能下，我们为其设计了三个维度的权限设计: 数据作用域、页面权限、接口权限。</p>
<p>市局需求比较急忙，在周一上午开会；下午有时需要开取综会；有时有其他服务的开会；自己组织开会等；其他地方找我；各种各样找我的等情况下，急急忙忙上线这款功能。大约耗时1个月。</p>
<p>由于其中还有需要将iced代码翻译为typescript代码，着实是每天加班熬夜换来的成就。其中业务不熟悉，里面有几个模块走不通权限判别，多人、单人、多案件、单案件、上传数据包等有时走的判别还不一样。之前是iced的不理解其内涵情况下，最终自己重写了判别逻辑。不然感觉都要吐血：改一些不对，再改一些还是不对，继续改继续不对!真要吐血。</p>
<p>另一个是房子过户、缴税、贷款申请等。由于这块业务比较大，内心也是放到超级第一的位置。</p>
<p>再一个是想要能落户而去考试，软考中级。前一段时间在翻译代码过程，还不那么急忙，晚上可以抽空看看；后来太忙，晚上只有偶尔的时间赶紧学习。当时在想的就是，要是现在不用加班到11点，能赶紧看书多好。偶尔10点能到家，赶紧打开电脑学习。</p>
<p>车牌也在拍当中，所以也是急急忙忙。</p>
<p>5月也是超级超级忙碌啊。周末能用来加班的都用上，有时带上老婆去公司学习，路过公园还能转一圈，有时顺便就去打羽毛球，啊，累却又充实却又有所得。</p>
<p>这篇就是胡言乱语文章，原因是好久好久没写博客了，今天也是抽空写下。</p>
<h2 id="这是第二篇入住自己房子回顾"><a href="#这是第二篇入住自己房子回顾" class="headerlink" title="这是第二篇入住自己房子回顾"></a>这是第二篇入住自己房子回顾</h2><p>6月4号中午请示了下去自己房子交房。伟哥说别在意，不用请假了，这，只能多多加油，嗷嗷嗷。</p>
<p>中午饭也不吃了，直接骑电驴过去，40分钟，大约摸清了之后要走的小路。到了之后顾问也在，然后等了一会各方人都到齐。我们先上楼查看。我和老婆前前后后到处转转，其实俺真看不出哪里不好。看各个物件: 能出水、能生火、电能通，OK。</p>
<p>我们先和房东先签署一份交房补偿款，时间从6.5号开始，每天150，其实就是每个月4500进行补偿我们提前住进来。因为合同当时写确实是款清交房，公积金贷款和商贷贷款到齐才交房。没事，这房子这片租金没个6、7k也是下不来的，而且还是自己的住房。我在另一片租房也是3k，一室户，不如住过来，那个住起来不舒服。</p>
<p>接下来也没别的，交钥匙，我们到物业处看能否物业过来。物业处置当天没得办理，自己来办理也OK的，带着产证过来就可以了，于是之后我自己过来办理就好了。物业费各方同意周二询问多少，前房东微信补齐后缴纳。</p>
<p>然后我就回去上班了。上班重要嘛。</p>
<p>周六的时候早上开始搬家，东西超级多，这个也不舍得那个也不舍得。我当时一个人看着那么多要下5楼，到时过去肯定也是上5楼，头大。这时一个扫地阿姨过来问是搬进来还是搬出去啊？我就问她帮忙搬东西，50块。我的天，居然同意了。我也出大力，搬了一趟有一趟。重的几乎都是我，或者和阿姨一起搬。搬到后面终于搬完，然后我问阿姨，明天要不要帮忙扫，当然扔垃圾啥的我来，我老婆也会帮忙打扫，200. 然后阿姨说好吧。(后来阿姨说搬下楼50好少的，我说是的，不过我也帮忙搬嘛，哈哈；然后她说打扫现在请人大概也是这价，我说是的，我也不懂)。于是中午的时候又不能走远，东西在下面，和老婆点了叫花鸡吃了下午看还有什么能收拾的赶紧叫车拉东西过去。今天出了多少汗，忘了，我的腿有多算，麻木了。</p>
<p>叫车过来不加钱，货拉拉不鸟你，可能路程短，不想接单，唉，加个10块。叫了小货车，上车、下车，又是一阵忙活，看到还有那么大位置，赶紧上楼再拿多点东西，比如凳子之类的。<br>过去后，把东西放下来。哦对了，货拉拉要收额外上下货钱，60块，算了，那么多东西，60也是小钱。我的老哥来帮忙，嗷嗷，每次搬家我老哥都来帮忙，超级超级好同桌。不过最近他生病，只能我尽可能多搬，不过我手开始抖了。下午的时候也问了同事来帮忙，这时也到了。同事他正要学习被我喊过来，过来埋头就搬，也是超级感谢他，嘿嘿。</p>
<p>上下上下搬了好多东西，女生帮忙带点东西就OK，我还把老婆多累一丢丢。我也是尽可能多搬，和我同事一起多搬，同桌身体还没恢复好，帮忙一些就很好了，嘿嘿。</p>
<p>搬好之后已经6点了，没食材，没水(喝的水)，很乱，走，我们去附近南丰城的新白鹿吃。去那里吃，点多少，都不太贵。不过没考虑老哥不能吃辣(身体原因)，另外给他再来一些好吃的，反正这里点菜都不贵。</p>
<p>吃完已经晚上9点了，送他们肥去，我们也赶紧回去收拾，去睡个觉了。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2021-5-17lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/05/17/2021-5-17lesson/">2021-5-17lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/05/17/2021-5-17lesson/" class="article-date">
	  <time datetime="2021-05-17T02:09:01.000Z" itemprop="datePublished">May 17, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="产证到手"><a href="#产证到手" class="headerlink" title="产证到手"></a>产证到手</h1><p>最近已拿到产证，历经2.18 ~ 5.13 这么长时间，产证到手，每一步都是大胆的尝试，甚至相信命运，敢拿着100+w 孤注一试，且听我细细回顾.</p>
<p>2.18 过年假期快要结束刚要上班的时候，快速找房东上门看了下房子即交了30w定金。30w，我当时还在不确定我有没有买房资格(一个月一个月往上数，刚好60个月，但是我心里还是打鼓的)，但是考虑到再不上车，不好上了。过完年约dfy顾问和房东一起简单看完房子即找了家喝茶的地方签订简单约定及定金，两天后完整签署合同。</p>
<p>接下来的每半个月交首付至房东账户，交完134w，已经来到3月24号，约了雷老师(房东哥哥, 代)办理网签。过程很顺利，办了网签，这个房子是无论如何都没法交易，然后不放心是否有买房资格的我(如果不满足则稍稍往后延续几天，下个月初能多查到新的一个月)。等了三天，然后再次前往交易中心的前台经理查询: 62个月满足资格。</p>
<p>这时心终于落下来了，我是真有资格的，不然就真是60w赔付违约金了。</p>
<p>接下来就是把合同证件复印件等发给银行贷款老师，等待了2周(中间少资料，补齐寄送过去)通知全部通过。</p>
<p>这时时间来到5.6号，手上得到贷款文书(公积金100w，商贷140w)，这天下午过去办理过户。我和老婆两人早早就到了，等待各方人员到场。先填写资料，然后dfy交易员老师帮忙等待排号，我和雷老师沟通了下意愿: 现在也是在租房3k，租自己要住的房子，想提前住进去；当然，合同写着款清交房，我愿意来租还没走完流程的房子。雷老师后面也和房东商量同意我们的要求(遵守合同义务，我们也爽快，所以也相信我们，很顺利进行)。</p>
<p>接下来就是在窗口确认资料、确认在场的人、再再次确认资料、签名、签名、交了160块钱(支付宝扫码)。然后将各种收据等收入统一包包管理。下午清了很久的假，去未来的房子转转会，然后就回到出租屋了。</p>
<p>过户完后，得过5天缴税拿产证。手上只有刚好3.8w的我，其实内心还是起波澜的。缴税前一晚都还在担心会不会有其他税费，打电话到交易员老师那里问，比如房产税。心想同学居住证超过三年就不用交，不然得多1w多啊。</p>
<p>缴税当天，早晨，小雨。我早早过来等雷老师，然后排号等。缴税的时候是刷卡，我把银行卡拿出来刷，咦，真只刷我3.78w 一个点的契税。然后我质疑工作人员，会不会弄错，不是还有一堆什么什么税吗？他说，都取消了。</p>
<p>等了20分钟，在邻桌，工作人员喊名字领证。上面有产证，还有各种贷款证书等，还有外汇的证明单子(房东外汇使用)等。今天早上就这样结束了，很圆满。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/买房-产证/">买房, 产证</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2021-5-16lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/05/16/2021-5-16lesson/">2021-5-16lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/05/16/2021-5-16lesson/" class="article-date">
	  <time datetime="2021-05-16T02:06:51.000Z" itemprop="datePublished">May 16, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="视频服务-点播及加密"><a href="#视频服务-点播及加密" class="headerlink" title="视频服务-点播及加密"></a>视频服务-点播及加密</h1><p><a href="https://github.com/gwuhaolin/blog/issues/10" target="_blank" rel="noopener">方案来源</a></p>
<h2 id="网迹学习"><a href="#网迹学习" class="headerlink" title="网迹学习"></a>网迹学习</h2><h3 id="es"><a href="#es" class="headerlink" title="es"></a>es</h3><p>遇到 <code>es forbidden 12 index read-only</code></p>
<p>原因是磁盘不够用了，当磁盘少于95%左右时，es会将索引置为只读。</p>
<p>解决方案: 进入docker，然后执行: <code>curl -XPUT -H &quot;Content-Type: application/json&quot; http://elastic:123456@localhost:9200/_all/_settings -d &#39;{&quot;index.blocks.read_only_allow_delete&quot;: null}&#39;</code></p>
<h3 id="绑定Centos7静态ip"><a href="#绑定Centos7静态ip" class="headerlink" title="绑定Centos7静态ip"></a>绑定Centos7静态ip</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cd /etc/sysconfig/network-scripts &amp;&amp; ls // 可以看到有个ifcfg-ensxxx 的文件</span><br><span class="line">$ ip addr // 可以先查看到之前自己ip</span><br><span class="line">$ vim ifcfg-ensxxx // 替换掉 `IPADDR=xxx.xxx.xxx.xxx`</span><br><span class="line">$ systemctl restart network.service</span><br><span class="line">$ service network restart</span><br><span class="line">$ ip addr // 这时可以看到ip已修改</span><br></pre></td></tr></table></figure>
<h3 id="黑苹果拷贝EFI-文件到EFI分区提示”磁盘空间不足，无法拷贝”"><a href="#黑苹果拷贝EFI-文件到EFI分区提示”磁盘空间不足，无法拷贝”" class="headerlink" title="黑苹果拷贝EFI 文件到EFI分区提示”磁盘空间不足，无法拷贝”"></a>黑苹果拷贝EFI 文件到EFI分区提示”磁盘空间不足，无法拷贝”</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo -s</span><br><span class="line">diskutil list</span><br><span class="line">newfs_msdos -v EFI /dev/disk1s1 // /dev/disk1s1 中的disk1s1 为list 里面的磁盘名称</span><br></pre></td></tr></table></figure>
<h3 id="docker-Neo4j"><a href="#docker-Neo4j" class="headerlink" title="docker-Neo4j"></a>docker-Neo4j</h3><p>$cypher-shell</p>
<p>进入neo4j</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2021-3-11lesson" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/03/11/2021-3-11lesson/">2021-3-11lesson</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/03/11/2021-3-11lesson/" class="article-date">
	  <time datetime="2021-03-11T12:39:40.000Z" itemprop="datePublished">March 11, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="伟哥教你装vsphere"><a href="#伟哥教你装vsphere" class="headerlink" title="伟哥教你装vsphere"></a>伟哥教你装vsphere</h1><p>这几天公司研发部乔迁，距离很近，三楼到四楼。</p>
<p>长话短说: 机房重新整理，所以测试环境也要整理。当前机器未到，于是伟哥喊上还在加班的同学学上一学，加班福利。</p>
<h2 id="正题"><a href="#正题" class="headerlink" title="正题"></a>正题</h2><p>首先是服务器要先装上Raid卡(2000+软妹币)，接下来往服务器上插入硬盘。</p>
<p><img src="/css/images/11lesson/01.jpg" alt="1"></p>
<p>硬盘顺序是左边从上到下0,1,2 然后到右边依次。本次是开头的0,1,2,3 SSD，其他机械盘和SSD 混装。</p>
<p>系统进入后 CTRL+R 进入配置Raid界面。</p>
<p>可以看到有<code>Unconfigured Physical Disks</code>，这时在根一栏按F2 进入Operations 选择组Raid模式。可以选 0 / 1 / 10 / 5/ 6 等，选好按Enter 就好了。</p>
<p><img src="/css/images/11lesson/02.jpg" alt="2"></p>
<p>如果发现少了块盘情况，按Ctrl + N 切tab 到 <code>PD Mgmt</code>界面，可能是那块盘被直接作为盘符使用了(Non-RAID, 可以选择<code>Convert to Raid Capable</code>)。</p>
<p>组完Raid之后，磁盘就完了。</p>
<p><img src="/css/images/11lesson/03.jpg" alt="3"></p>
<p><img src="/css/images/11lesson/04.jpg" alt="4"></p>
<hr>
<blockquote>
<p>插内存条这事需要自己上网找，并且伟哥说了，这个很重要，插不好，性能会很差!单颗CPU插法和多颗CPU插法也不一样!</p>
</blockquote>
<hr>
<p>接下来装vsphere。vsphere 是专门做虚拟化的linux，把整个服务器资源统一安排。</p>
<p>首先: 伟哥把USB 插上插口，然后Boot 那个USB，把他当做安装系统。然后就好了。</p>
<p>装完之后需要注意把IP 固定。然后下方有个测试Ping 的功能。比如伟哥这里就测试ping 研发网段、网卡网段、114.114.114.114，然后其他都是界面操作了。</p>
<p>欧了。</p>
<p><img src="/css/images/11lesson/05.jpg" alt="5"></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-2021-2-18new-year" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2021/02/18/2021-2-18new-year/">2021-2-18new_year</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2021/02/18/2021-2-18new-year/" class="article-date">
	  <time datetime="2021-02-18T07:02:55.000Z" itemprop="datePublished">February 18, 2021</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2021年定房日记"><a href="#2021年定房日记" class="headerlink" title="2021年定房日记"></a>2021年定房日记</h1><p>上海买房是个巨大的难题，我从2020年年初就开始很上心，彼时就已经开始看房。</p>
<h2 id="开始看房，推进实施"><a href="#开始看房，推进实施" class="headerlink" title="开始看房，推进实施"></a>开始看房，推进实施</h2><p>当时贝壳网上看房，有个按钮【现场带看】试着点了下，然后一个中介就跑出来帮忙介绍。一开始我还是懵懵懂懂，因为我的社保还没到，没有房票。中介就鼓舞去看吧，看又不花钱。你这话说的，我这厚脸皮隔天就跑去了。当时还是2020年5月20号，疫情刚刚缓和下来。街上溜达的人都不多，不管了，冲冲冲，我这人就喜欢找事。</p>
<p>先看了中介推荐的，后来自己也有喜欢的，并自己决定看哪些。一开始想着一房一厅，价格250封顶了。后来想着250蹭上去点270~280基本有南北两房，也挺香的了。当时看到有个房子310降价到279，极度喜欢(想着我要是买了，岂不是赚了)。当时回到家我就跟老妈打电话，很想要那个房子，不过此时距离我房票还有接近一年呢!(至少2021.3月才能看到社保缴纳)。房东肯定等不及的，我说，我定金40w这样,且不讲价呢？过两周，那个房子就被卖了，房东也是急着出手。不过那个房子南北，5楼顶楼，但是没有吃饭地方。</p>
<p>当时喜欢那个小区，还特地和老婆，并叫上自己哥们去那个小区转了转(也伙同他，约了中介又看了那个小区几个房子)，都觉得是非常不错的。</p>
<p>和老婆交心下来，她也是超级喜欢，而且当时那个价格对自己未来也是很好承受的。</p>
<p>算了算了，我继续看看附近的。龙柏整个都看了一遍又一遍，然后又跑去浦东杨思看了，又跑到北新泾看了，最后跑到长宁古北看了。</p>
<p>龙柏当时觉得很好的，但是下半年画风变了，龙柏四村三小区，房价一周一个样，打电话过去约，都是被卖了；其他小区都开始30~50的涨。</p>
<p>不急，没用，俺还没房票呢；</p>
<p>浦东先看了杨思，当时和老婆一起去看，下地铁附近，全是很老。90年代房子超级老，附近一片又一片等着拆迁的房子。当时还没接收一梯四户，然后浦东离七宝(公司距离)过远。但是当时看到&lt;源城景翠苑&gt;/&lt;翡翠上南&gt;超级超级喜欢。房龄新啊，谁不喜欢啊。当时有个源城景翠苑一楼动迁房，380，没有税费，毛坯装修，哇，超级喜欢。因为小区户型少，绝大部分都是57.x平，一楼装修下也超级好，所以当时也是超级喜欢。回去又和家人商量，跟老婆商量。多方下来，觉得价格还是超过预算，没想到一周内就出掉了。额，，，然后又关注同小区其他房源，看了一个5楼顶楼的，也不错，又卖了—-没钱没房票。</p>
<p>其他都有装修，基本都是400(一楼)410(中间楼层)。到了8月到10月，410变成420，后来一直往上到了504，单价从7w2变成8w8了。我滴个天。</p>
<p>浦东考虑不得了，没钱没资源，再多想法再多办法都没。</p>
<p>后来跑北新泾附近看，当时绿城十二村有个2楼369售后公房超级超级喜欢，不过当时我还要挺久时间才有房票。回去后和家人又是一顿开会。老妈也是在多次的惊喜/担忧/失望中。我超级觉得喜欢，到时一家都能去上海，2楼老妈爬楼也不累。售后公房，能贷款也更多(没有增值税，只有一个点契税)。然后一直无法确定我们能筹到的钱，而且房东不愿意等这么久，于是下一周又卖掉了。当时觉得北新泾那片还是不错的，也多有用大房鸭/贝壳看。</p>
<p>时间一点一滴过去，来到了12月，这时房价感觉都快压不住了。1月21号，政府出台政策封堵炒房漏洞，隔天就执行。</p>
<p>当时刚好看到两个不错的房子，一个400 售后公房满五不唯一，一个380 售后公房满五唯一。都是很不错的，但是觉得拿不下来，为此我还特地去问了公司的帮助。因为今年下来，在公司努力得到肯定，伟哥说首付上面的帮助还是很乐意的。跟哥们聊了聊觉得加油，说不定就能拿下来。</p>
<p>其中400周末用大房鸭试着看了，感觉超级超级满意，环境也是超级超级nice。当时当场就打电话给老妈，我顺便还说想卖了老婆的首饰，能顶一下就好，首饰也用不上，老妈听了咬咬牙说再拿出最后的5w，我有点不放心，别家里啥钱都没有了。但是其实我真的很需要，我想要拿下来。后来还是决定把老妈最后那些钱当作最后的税费来顶。</p>
<h2 id="咬牙实施计划"><a href="#咬牙实施计划" class="headerlink" title="咬牙实施计划"></a>咬牙实施计划</h2><p>400那个需要公司的帮助，我在接下来的几天也问了伟哥想借20，伟哥帮我问了老板，帮我问了两次。但是后面都没有结果。没有回音。</p>
<p>无奈。</p>
<p>在2021年1月10号左右打电话给大学同学聊天，才知他已经买房，而且就在当时我临时驻场地(漕溪路地铁站附近)。晚上10点好了出发去他那里坐坐。他去年10月生娃，然后大概也是10月左右买下了安东小区的房子。价格合适，看了2次就在绿家定下了。他一直都没有断社保，我中间断过，不然我也早就能买了。他的首付款我感觉还行，然后就谈了谈生活工作的事，最后聊了聊买房看法。</p>
<p>后来年会回来，也越来越接近过年，就先忙年末的忙事了。没事刷手机看到400那个又卖了。380那个我看了贝壳的VR，还不错，有些区域看不到，不好约看。</p>
<p>周末打电话给舅舅们借钱，最后也只有满舅表示能出一些力。大舅办厂，下半年回款；小舅新买房；满舅尽量帮了2.</p>
<p>我在大房鸭上约了好几套，嘉定的我就不去看了。觉得外环不合适，大华三路有个房源不卖了，400卖了。年底就是这样。380约了看，但是一直没机会，房客比较麻烦。网上一些房源360的感觉不错，但是始终无法看，房东不诚意卖或者根本就是虚假房源。</p>
<p>时间往后移，来到放假第一天(我们公司放假比其他公司前后多一天)，早上起来，思前想后觉得还是要早点定下来。我直接找了大房鸭顾问打电话，咨询相关所需资质/自己需要准备的资源等。然后我又打电话给家里，给老婆发微信，一遍一遍过自己的资质。思来想去还是差最后10，这关键的10。</p>
<h2 id="定房前"><a href="#定房前" class="headerlink" title="定房前"></a>定房前</h2><p>我拿起手机拨号给伟哥，跟他说了自己的困境。伟哥说了之前没有回音的原因，当时像拿下那个400的，所以当时想说20的话，不管是400还是380我都能稳操胜券。但是当时公司财务比较忙，20的话不好决定，如果是10肯定是没有问题，伟哥可以给我担保。如果是现在的话，会稍稍麻烦，不过伟哥可以稍后打电话。得到这个信息，我欣喜若狂，我马上回答，10就够，10就够。10我足够了。非常非常感谢公司这个大忙。后来和老板谈话也是说到，这次不上车，之后基本很难再有窗口让我上车了。</p>
<p>去年基金我涨了20%，去年房价也涨了20%！但是我的基数才80；房价相当于做了杠杆，投资也好，自住也好，同时还涨了10~20%。如果拿下，光是贷款就让我吃足了社会主义的福利了！</p>
<p>稍后马上打电话和dfy顾问联系，我同意房东不讲价，先看房，然后合适我们就定。下午得到答案是无法看房，因为房客年终觉得疫情-不方便。好吧好吧，下午等老婆下班，刚好过去附近转转。我和老婆在小区里面转了一圈，觉得还行，就先行回去了，等下次能看时再看。回去的路上，老婆看到周围的资源，也是非常满意。房子晚上住，要游玩啥的就下楼嘛。</p>
<h2 id="定房中"><a href="#定房中" class="headerlink" title="定房中"></a>定房中</h2><p>这时进入过年，说初三有消息，我以为初三能看。初一初二都不好睡觉，还梦见未来好多钱要还呀。初三的时候洗漱好，洗好头发，说确定初七看房。好吧，坐下来打游戏吧。</p>
<p>终于终于到了初七，晚上7点，dfy顾问和我都到门前，房东坐地铁也过来了，老婆也过来了。大家到小区凉亭坐着聊聊天。这里大概也能了解到双方的诚意，房东年前已经和其他客户签了定金了，但是1.21新政导致之前买家卖房给自己的下家无法接受不满五要交增值税的突然，于是房东也是同意退回定金。所以我们现在才有机会。</p>
<p>坐了一会，租客东北小妹妹打车回来了。那我们就上去看看。刚入房子，感觉敞亮，开放式厨房够用，还可以摆放一个小桌子。厕所小小的，够用，有马桶也有洗澡的。两个向南的房间，不大不小，其中一个还有一个阳台。看的时候我和老婆在阳台偷偷说话，觉得怎么样？怎么决定？</p>
<p>我觉得房东诚意卖，然后房子本身没有缺陷，同时没有贷款/抵押/租房清晰/税费/同住人/纠纷等情况。很理想的产权。我们里里外外看过后，跟房东一起下楼。在大门口，我们简单的聊了会，接下来我们怎么做决定。我作为家主，还是给出了我的意见: 我们一起前往附近的星巴克二楼交流，并签约。</p>
<h3 id="定房中-1"><a href="#定房中-1" class="headerlink" title="定房中"></a>定房中</h3><p>我们先表明自己的诚意，我今晚希望能定下来，定金部分约定下来是30. 房东是同意的。然后接下来是谈什么时间网签，双方对于时间有没有异议。当时我不懂网签前，钱要陆续打到房东那，而且房东也不同意把钱打到中间资金托管。我当时也是很害怕，怕dfy顾问是假的，然后查看身份证手机和中介平台相同。查看了房东信息，房东是放弃中国籍，为澳大利亚籍，疫情来来往往，所以还是决定把所属中国最后一套房产卖了。房东哥哥是律师，也在dfy有交易经历。所以房东把一堆委托文件都准备好了(之前本来有定房的，所以文件也都很齐全)。</p>
<p>沟通下来，从8点多交流，一直到11点多才结束。里面签署有定金合同，本来的打30，但是我银行卡有一部分打不出去，就先打了10.另外20约定给在后天正式合同给到。</p>
<p>约定是今天30，月底30，下月中30，网签43，完成首付款35%。包括约定付款方式/付款周期/网签时间/总房价/互相接受约定/违约情况/承认房子属性等等。期间房东哥哥打电话过来补充一些条款。其中有一条:承诺房子满五唯一，承诺售后公房，但如果之后新的政策对这些属性有新规(比如1.21即日执行的新政中特殊规定)，导致的优惠或者多税费的协议都由下家承担。这条我觉得非常不合理，不过我过于想拿下，并且想着说提前做好网签，这样是不是能规避，这条不利不就对我无效。当时定房我就同意了。晚上回到家，没饭吃，然后到家后我就烫个面，配着快熟面的汤简简单单的吃饱睡觉。晚上还和老婆说说话，就睡着了。</p>
<h3 id="签合同中"><a href="#签合同中" class="headerlink" title="签合同中"></a>签合同中</h3><p>2021.2.21下午6点签合同。位置在dfy位于上海火车站附近唯一签约点。我直接请了一个下午的假前往，中午顺便去趟徐汇解决个他们搞了好久没解决的问题。本来这个问题很难，可能要到下午三点，没想到我过去20分钟就搞定了。没办法，我也没事干，只能直接去现场附近转悠转悠了。直接徐汇一直往上，刚过完年交警都出来路口。到了之后直接上到dfy，那一层还有很多别的公司，我签约时间还没到，就在dfy外边附近一个凳子坐着等。下午4点左右老婆也到了，我拉着她下午吃个面，两人吃了40块，好贵，上海火车站，没办法。</p>
<p>6点了，我和老婆进去，分配在一个桌子。等了一会，女房东到了，然后一个蒙着口罩的男的进来打招呼，过好一会我问您是？揭开口罩才知道是之前的dfy顾问。然后我们这里配有两个对接人。过了一会房东哥哥来了。房东哥哥和我坐在主位对位，打扮精细，律师职位很干练的打扮能对场面有更多胜算的吧。开始是讨论一些点，然后江律师到了，给我们解读。中间有不合理不理解的地方都及时询问。房东哥哥不时往里面填写补充。我经验少，看着合理就赶紧看下一条。律师也不断的读出条目，给我们解答。过程中间不断填写各种单子，由于房东要回去澳大利亚，于是今天还有就是签订买家贷款合同，到时使用该该款方案即可。于是就是一顿签签签。</p>
<p>价格方面，老婆表示是否可以让一点，包括之前签定金时也问道。因为小客厅上方租客蒸馒头导致粉掉下来；阳台没有窗户保护；房东和房东哥哥都表示要到手378。也因为我们时要到2021年3月底才能办理网签，时间他们让步，价格我们也不好说什么了。</p>
<p>合同方面解答基本都没问题，其中有个争议，就是之前签定房合同里的那条对我不利的条款。说到那个条款时，我就点头点头，我老婆一直桌底下摇摇我的手，提醒我，我也还一直多看看合同，就只是点点头。我请的律师说这条对于买家很不合理，是否可以有个上限。卖家就说好处坏处也都是买家享有，如果只是多个5w就不行，那不如合同就不签了。我还是傻傻的点头。我老婆说话了，也说不行，至少有个上限。房东看在场的多人都是这个意思，那上限多少？我思考着，这最多最多能搞到的另外，封顶是10.其实我也是很虚的，其实首付我还是很担心的。但是想着，政策不可能对我们这合法正规的人不利，于是就是还是硬着头皮。房东说行。合同打了三遍，双方确认无误后，在三份合同，每份右下角填上自己的姓，最后一张填写人名。一式三份。</p>
<p>最后我们将剩下20定金打过去，房东填写另外一张定金收款给到我们。今天工作结束，和房东握了握手，表示艰难，不过双方都是诚意满满，所以都是在可控范围顺利进行。</p>
<p>晚上回去，和老婆随便吃吃就结束了，啊，好累啊，啊，开始要把所拥有的数字打给对方了。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/2/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div class="widget-wrap" style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 75%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 42px;" placeholder=" Search…" value name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Connect With Us</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
          
     			  <li><a href="https://github.com/shaohung001" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Google-plus"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Pinterest"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href title="Flickr"><i class="fa fa-flickr" aria-hidden="true"></i></a></li> 
          
   		
          
            <li><a href="mailto:?subject=请联系我&body=我能帮你什么" title="email"><i class="fa fa-envelope" aria-hidden="true"></i></a></li> 
          
   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/07/06/2021-7-5lesson/">2021-7-5lesson</a></h6>
              <span>July 6, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/07/06/2021-7-6lesson/">2021-7-6lesson</a></h6>
              <span>July 6, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/06/16/2021-6-16lesson/">2021-6-16lesson</a></h6>
              <span>June 16, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/06/16/2021-6-11lesson/">2021-6-11lesson</a></h6>
              <span>June 16, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/06/16/2021-6-10lesson/">2021-6-10lesson</a></h6>
              <span>June 16, 2021</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2021/05/31/2021-5-31lesson/">2021-5-31lesson</a></h6>
              <span>May 31, 2021</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2020过年/">2020过年</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Charles-https-iTunes-下载历史版本/">Charles https iTunes 下载历史版本</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPUimage/">GPUimage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GTX750/">GTX750</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IT/">IT</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAC/">RAC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VVVVVV/">VVVVVV</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/acme/">acme</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awaitCall/">awaitCall</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bitbucket-ios/">bitbucket  ios</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocoapods/">cocoapods</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-golang/">docker golang</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/goland-mod-爆红/">goland mod 爆红</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hackintoshell/">hackintoshell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios-it-dylib-nosuchfileordirectory/">ios it dylib(nosuchfileordirectory)</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios7/">ios7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k3s/">k3s</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/neo4j/">neo4j</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-http-flv-module/">nginx-http-flv-module</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/obs/">obs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/parallels/">parallels</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qiniu/">qiniu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reactivecocoa/">reactivecocoa</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/src-nginx-flv/">src nginx-flv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/srs/">srs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/买房-产证/">买房, 产证</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/买房资格/">买房资格</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小说/">小说</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/居住证积分/">居住证积分</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杂谈/">杂谈</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/猴头菇生病/">猴头菇生病</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/看房/">看房</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/科目三/">科目三</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/脑残/">脑残</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/2020过年/" style="font-size: 10px;">2020过年</a> <a href="/tags/Charles-https-iTunes-下载历史版本/" style="font-size: 10px;">Charles https iTunes 下载历史版本</a> <a href="/tags/GPUimage/" style="font-size: 10px;">GPUimage</a> <a href="/tags/GTX750/" style="font-size: 10px;">GTX750</a> <a href="/tags/IT/" style="font-size: 15px;">IT</a> <a href="/tags/RAC/" style="font-size: 10px;">RAC</a> <a href="/tags/VVVVVV/" style="font-size: 20px;">VVVVVV</a> <a href="/tags/acme/" style="font-size: 10px;">acme</a> <a href="/tags/awaitCall/" style="font-size: 10px;">awaitCall</a> <a href="/tags/bitbucket-ios/" style="font-size: 10px;">bitbucket  ios</a> <a href="/tags/c/" style="font-size: 10px;">c++</a> <a href="/tags/cocoapods/" style="font-size: 10px;">cocoapods</a> <a href="/tags/docker-golang/" style="font-size: 10px;">docker golang</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/goland-mod-爆红/" style="font-size: 10px;">goland mod 爆红</a> <a href="/tags/hackintoshell/" style="font-size: 10px;">hackintoshell</a> <a href="/tags/ios-it-dylib-nosuchfileordirectory/" style="font-size: 10px;">ios it dylib(nosuchfileordirectory)</a> <a href="/tags/ios7/" style="font-size: 10px;">ios7</a> <a href="/tags/k3s/" style="font-size: 10px;">k3s</a> <a href="/tags/neo4j/" style="font-size: 10px;">neo4j</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/nginx-http-flv-module/" style="font-size: 10px;">nginx-http-flv-module</a> <a href="/tags/obs/" style="font-size: 10px;">obs</a> <a href="/tags/parallels/" style="font-size: 10px;">parallels</a> <a href="/tags/qiniu/" style="font-size: 10px;">qiniu</a> <a href="/tags/reactivecocoa/" style="font-size: 10px;">reactivecocoa</a> <a href="/tags/src-nginx-flv/" style="font-size: 10px;">src nginx-flv</a> <a href="/tags/srs/" style="font-size: 10px;">srs</a> <a href="/tags/买房-产证/" style="font-size: 10px;">买房, 产证</a> <a href="/tags/买房资格/" style="font-size: 10px;">买房资格</a> <a href="/tags/小说/" style="font-size: 10px;">小说</a> <a href="/tags/居住证积分/" style="font-size: 10px;">居住证积分</a> <a href="/tags/杂谈/" style="font-size: 10px;">杂谈</a> <a href="/tags/猴头菇生病/" style="font-size: 10px;">猴头菇生病</a> <a href="/tags/看房/" style="font-size: 10px;">看房</a> <a href="/tags/科目三/" style="font-size: 10px;">科目三</a> <a href="/tags/脑残/" style="font-size: 10px;">脑残</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">68</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2021 aKer All Rights Reserved.
          
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hiero" target="_blank">hiero</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1278024876&web_id=1278024876" language="JavaScript"></script>
  </div>



	<script async src="https://dnqof95d40fo6.cloudfront.net/atw7f8.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/src/click.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
